var XB=Object.defineProperty;var QB=(e,t,n)=>t in e?XB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var bv=(e,t,n)=>QB(e,typeof t!="symbol"?t+"":t,n);function ZB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _v={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oA;function eq(){if(oA)return Gl;oA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Gl.Fragment=t,Gl.jsx=n,Gl.jsxs=n,Gl}var sA;function tq(){return sA||(sA=1,_v.exports=eq()),_v.exports}var L=tq(),wv={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA;function nq(){if(lA)return Re;lA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function C(D,K,ie){this.props=D,this.context=K,this.refs=T,this.updater=ie||S}C.prototype.isReactComponent={},C.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},C.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function O(){}O.prototype=C.prototype;function R(D,K,ie){this.props=D,this.context=K,this.refs=T,this.updater=ie||S}var I=R.prototype=new O;I.constructor=R,E(I,C.prototype),I.isPureReactComponent=!0;var M=Array.isArray;function N(){}var k={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function q(D,K,ie){var le=ie.ref;return{$$typeof:e,type:D,key:K,ref:le!==void 0?le:null,props:ie}}function ne(D,K){return q(D.type,K,D.props)}function J(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function ee(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ie){return K[ie]})}var oe=/\/+/g;function fe(D,K){return typeof D=="object"&&D!==null&&D.key!=null?ee(""+D.key):K.toString(36)}function me(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(N,N):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function $(D,K,ie,le,_e){var Ae=typeof D;(Ae==="undefined"||Ae==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(Ae){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case e:case t:Te=!0;break;case h:return Te=D._init,$(Te(D._payload),K,ie,le,_e)}}if(Te)return _e=_e(D),Te=le===""?"."+fe(D,0):le,M(_e)?(ie="",Te!=null&&(ie=Te.replace(oe,"$&/")+"/"),$(_e,K,ie,"",function(xe){return xe})):_e!=null&&(J(_e)&&(_e=ne(_e,ie+(_e.key==null||D&&D.key===_e.key?"":(""+_e.key).replace(oe,"$&/")+"/")+Te)),K.push(_e)),1;Te=0;var pt=le===""?".":le+":";if(M(D))for(var Q=0;Q<D.length;Q++)le=D[Q],Ae=pt+fe(le,Q),Te+=$(le,K,ie,Ae,_e);else if(Q=_(D),typeof Q=="function")for(D=Q.call(D),Q=0;!(le=D.next()).done;)le=le.value,Ae=pt+fe(le,Q++),Te+=$(le,K,ie,Ae,_e);else if(Ae==="object"){if(typeof D.then=="function")return $(me(D),K,ie,le,_e);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Z(D,K,ie){if(D==null)return D;var le=[],_e=0;return $(D,le,"","",function(Ae){return K.call(ie,Ae,_e++)}),le}function se(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(ie){(D._status===0||D._status===-1)&&(D._status=1,D._result=ie)},function(ie){(D._status===0||D._status===-1)&&(D._status=2,D._result=ie)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var W=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ue={map:Z,forEach:function(D,K,ie){Z(D,function(){K.apply(this,arguments)},ie)},count:function(D){var K=0;return Z(D,function(){K++}),K},toArray:function(D){return Z(D,function(K){return K})||[]},only:function(D){if(!J(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Re.Activity=m,Re.Children=ue,Re.Component=C,Re.Fragment=n,Re.Profiler=i,Re.PureComponent=R,Re.StrictMode=r,Re.Suspense=f,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return k.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(D,K,ie){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var le=E({},D.props),_e=D.key;if(K!=null)for(Ae in K.key!==void 0&&(_e=""+K.key),K)!H.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(le[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=ie;else if(1<Ae){for(var Te=Array(Ae),pt=0;pt<Ae;pt++)Te[pt]=arguments[pt+2];le.children=Te}return q(D.type,_e,le)},Re.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},Re.createElement=function(D,K,ie){var le,_e={},Ae=null;if(K!=null)for(le in K.key!==void 0&&(Ae=""+K.key),K)H.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=K[le]);var Te=arguments.length-2;if(Te===1)_e.children=ie;else if(1<Te){for(var pt=Array(Te),Q=0;Q<Te;Q++)pt[Q]=arguments[Q+2];_e.children=pt}if(D&&D.defaultProps)for(le in Te=D.defaultProps,Te)_e[le]===void 0&&(_e[le]=Te[le]);return q(D,Ae,_e)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:u,render:D}},Re.isValidElement=J,Re.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:se}},Re.memo=function(D,K){return{$$typeof:d,type:D,compare:K===void 0?null:K}},Re.startTransition=function(D){var K=k.T,ie={};k.T=ie;try{var le=D(),_e=k.S;_e!==null&&_e(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(N,W)}catch(Ae){W(Ae)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),k.T=K}},Re.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Re.use=function(D){return k.H.use(D)},Re.useActionState=function(D,K,ie){return k.H.useActionState(D,K,ie)},Re.useCallback=function(D,K){return k.H.useCallback(D,K)},Re.useContext=function(D){return k.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,K){return k.H.useDeferredValue(D,K)},Re.useEffect=function(D,K){return k.H.useEffect(D,K)},Re.useEffectEvent=function(D){return k.H.useEffectEvent(D)},Re.useId=function(){return k.H.useId()},Re.useImperativeHandle=function(D,K,ie){return k.H.useImperativeHandle(D,K,ie)},Re.useInsertionEffect=function(D,K){return k.H.useInsertionEffect(D,K)},Re.useLayoutEffect=function(D,K){return k.H.useLayoutEffect(D,K)},Re.useMemo=function(D,K){return k.H.useMemo(D,K)},Re.useOptimistic=function(D,K){return k.H.useOptimistic(D,K)},Re.useReducer=function(D,K,ie){return k.H.useReducer(D,K,ie)},Re.useRef=function(D){return k.H.useRef(D)},Re.useState=function(D){return k.H.useState(D)},Re.useSyncExternalStore=function(D,K,ie){return k.H.useSyncExternalStore(D,K,ie)},Re.useTransition=function(){return k.H.useTransition()},Re.version="19.2.3",Re}var uA;function Bs(){return uA||(uA=1,wv.exports=nq()),wv.exports}var x=Bs();const mI=Fr(x),rq=ZB({__proto__:null,default:mI},[x]);var Sv={exports:{}},jl={},Ev={exports:{}},Tv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA;function iq(){return cA||(cA=1,(function(e){function t($,Z){var se=$.length;$.push(Z);e:for(;0<se;){var W=se-1>>>1,ue=$[W];if(0<i(ue,Z))$[W]=Z,$[se]=ue,se=W;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],se=$.pop();if(se!==Z){$[0]=se;e:for(var W=0,ue=$.length,D=ue>>>1;W<D;){var K=2*(W+1)-1,ie=$[K],le=K+1,_e=$[le];if(0>i(ie,se))le<ue&&0>i(_e,ie)?($[W]=_e,$[le]=se,W=le):($[W]=ie,$[K]=se,W=K);else if(le<ue&&0>i(_e,se))$[W]=_e,$[le]=se,W=le;else break e}}return Z}function i($,Z){var se=$.sortIndex-Z.sortIndex;return se!==0?se:$.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],d=[],h=1,m=null,g=3,_=!1,S=!1,E=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function I($){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=$)r(d),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=n(d)}}function M($){if(E=!1,I($),!S)if(n(f)!==null)S=!0,N||(N=!0,ee());else{var Z=n(d);Z!==null&&me(M,Z.startTime-$)}}var N=!1,k=-1,H=5,q=-1;function ne(){return T?!0:!(e.unstable_now()-q<H)}function J(){if(T=!1,N){var $=e.unstable_now();q=$;var Z=!0;try{e:{S=!1,E&&(E=!1,O(k),k=-1),_=!0;var se=g;try{t:{for(I($),m=n(f);m!==null&&!(m.expirationTime>$&&ne());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var ue=W(m.expirationTime<=$);if($=e.unstable_now(),typeof ue=="function"){m.callback=ue,I($),Z=!0;break t}m===n(f)&&r(f),I($)}else r(f);m=n(f)}if(m!==null)Z=!0;else{var D=n(d);D!==null&&me(M,D.startTime-$),Z=!1}}break e}finally{m=null,g=se,_=!1}Z=void 0}}finally{Z?ee():N=!1}}}var ee;if(typeof R=="function")ee=function(){R(J)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,fe=oe.port2;oe.port1.onmessage=J,ee=function(){fe.postMessage(null)}}else ee=function(){C(J,0)};function me($,Z){k=C(function(){$(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function($){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var se=g;g=Z;try{return $()}finally{g=se}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=g;g=$;try{return Z()}finally{g=se}},e.unstable_scheduleCallback=function($,Z,se){var W=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?W+se:W):se=W,$){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=se+ue,$={id:h++,callback:Z,priorityLevel:$,startTime:se,expirationTime:ue,sortIndex:-1},se>W?($.sortIndex=se,t(d,$),n(f)===null&&$===n(d)&&(E?(O(k),k=-1):E=!0,me(M,se-W))):($.sortIndex=ue,t(f,$),S||_||(S=!0,N||(N=!0,ee()))),$},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function($){var Z=g;return function(){var se=g;g=Z;try{return $.apply(this,arguments)}finally{g=se}}}})(Tv)),Tv}var fA;function aq(){return fA||(fA=1,Ev.exports=iq()),Ev.exports}var Av={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA;function oq(){if(dA)return fn;dA=1;var e=Bs();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,h)},fn.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},fn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},fn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},fn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:_}):h==="script"&&r.d.X(f,{crossOrigin:m,integrity:g,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},fn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},fn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},fn.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},fn.requestFormReset=function(f){r.d.r(f)},fn.unstable_batchedUpdates=function(f,d){return f(d)},fn.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},fn.useFormStatus=function(){return l.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var hA;function vI(){if(hA)return Av.exports;hA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Av.exports=oq(),Av.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA;function sq(){if(pA)return jl;pA=1;var e=aq(),t=Bs(),n=vI();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,p=s;;){var b=c.return;if(b===null)break;var w=b.alternate;if(w===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===c)return f(b),a;if(w===p)return f(b),s;w=w.sibling}throw Error(r(188))}if(c.return!==p.return)c=b,p=w;else{for(var A=!1,P=b.child;P;){if(P===c){A=!0,c=b,p=w;break}if(P===p){A=!0,p=b,c=w;break}P=P.sibling}if(!A){for(P=w.child;P;){if(P===c){A=!0,c=w,p=b;break}if(P===p){A=!0,p=w,c=b;break}P=P.sibling}if(!A)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Symbol.for("react.client.reference");function fe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===oe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case M:return"Suspense";case N:return"SuspenseList";case q:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case R:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case I:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return s=a.displayName||null,s!==null?s:fe(a.type)||"Memo";case H:s=a._payload,a=a._init;try{return fe(a(s))}catch{}}return null}var me=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},W=[],ue=-1;function D(a){return{current:a}}function K(a){0>ue||(a.current=W[ue],W[ue]=null,ue--)}function ie(a,s){ue++,W[ue]=a.current,a.current=s}var le=D(null),_e=D(null),Ae=D(null),Te=D(null);function pt(a,s){switch(ie(Ae,s),ie(_e,a),ie(le,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?OT(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=OT(s),a=PT(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(le),ie(le,a)}function Q(){K(le),K(_e),K(Ae)}function xe(a){a.memoizedState!==null&&ie(Te,a);var s=le.current,c=PT(s,a.type);s!==c&&(ie(_e,a),ie(le,c))}function Ie(a){_e.current===a&&(K(le),K(_e)),Te.current===a&&(K(Te),ql._currentValue=se)}var ae,$t;function Me(a){if(ae===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ae=s&&s[1]||"",$t=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+a+$t}var Et=!1;function Tt(a,s){if(!a||Et)return"";Et=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Y){var F=Y}Reflect.construct(a,[],re)}else{try{re.call()}catch(Y){F=Y}a.call(re.prototype)}}else{try{throw Error()}catch(Y){F=Y}(re=a())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),A=w[0],P=w[1];if(A&&P){var U=A.split(`
`),j=P.split(`
`);for(b=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;b<j.length&&!j[b].includes("DetermineComponentFrameRoot");)b++;if(p===U.length||b===j.length)for(p=U.length-1,b=j.length-1;1<=p&&0<=b&&U[p]!==j[b];)b--;for(;1<=p&&0<=b;p--,b--)if(U[p]!==j[b]){if(p!==1||b!==1)do if(p--,b--,0>b||U[p]!==j[b]){var X=`
`+U[p].replace(" at new "," at ");return a.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",a.displayName)),X}while(1<=p&&0<=b);break}}}finally{Et=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Me(c):""}function cn(a,s){switch(a.tag){case 26:case 27:case 5:return Me(a.type);case 16:return Me("Lazy");case 13:return a.child!==s&&s!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Tt(a.type,!1);case 11:return Tt(a.type.render,!1);case 1:return Tt(a.type,!0);case 31:return Me("Activity");default:return""}}function Kr(a){try{var s="",c=null;do s+=cn(a,c),c=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Yr=Object.prototype.hasOwnProperty,ap=e.unstable_scheduleCallback,op=e.unstable_cancelCallback,O2=e.unstable_shouldYield,P2=e.unstable_requestPaint,Nn=e.unstable_now,I2=e.unstable_getCurrentPriorityLevel,sw=e.unstable_ImmediatePriority,lw=e.unstable_UserBlockingPriority,rc=e.unstable_NormalPriority,M2=e.unstable_LowPriority,uw=e.unstable_IdlePriority,N2=e.log,D2=e.unstable_setDisableYieldValue,Xs=null,Dn=null;function qi(a){if(typeof N2=="function"&&D2(a),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(Xs,a)}catch{}}var kn=Math.clz32?Math.clz32:L2,k2=Math.log,U2=Math.LN2;function L2(a){return a>>>=0,a===0?32:31-(k2(a)/U2|0)|0}var ic=256,ac=262144,oc=4194304;function Ta(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function sc(a,s,c){var p=a.pendingLanes;if(p===0)return 0;var b=0,w=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var P=p&134217727;return P!==0?(p=P&~w,p!==0?b=Ta(p):(A&=P,A!==0?b=Ta(A):c||(c=P&~a,c!==0&&(b=Ta(c))))):(P=p&~w,P!==0?b=Ta(P):A!==0?b=Ta(A):c||(c=p&~a,c!==0&&(b=Ta(c)))),b===0?0:s!==0&&s!==b&&(s&w)===0&&(w=b&-b,c=s&-s,w>=c||w===32&&(c&4194048)!==0)?s:b}function Qs(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function B2(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cw(){var a=oc;return oc<<=1,(oc&62914560)===0&&(oc=4194304),a}function sp(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Zs(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function q2(a,s,c,p,b,w){var A=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var P=a.entanglements,U=a.expirationTimes,j=a.hiddenUpdates;for(c=A&~c;0<c;){var X=31-kn(c),re=1<<X;P[X]=0,U[X]=-1;var F=j[X];if(F!==null)for(j[X]=null,X=0;X<F.length;X++){var Y=F[X];Y!==null&&(Y.lane&=-536870913)}c&=~re}p!==0&&fw(a,p,0),w!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=w&~(A&~s))}function fw(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-kn(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|c&261930}function dw(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var p=31-kn(c),b=1<<p;b&s|a[p]&s&&(a[p]|=s),c&=~b}}function hw(a,s){var c=s&-s;return c=(c&42)!==0?1:lp(c),(c&(a.suspendedLanes|s))!==0?0:c}function lp(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function up(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function pw(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:ZT(a.type))}function mw(a,s){var c=Z.p;try{return Z.p=a,s()}finally{Z.p=c}}var zi=Math.random().toString(36).slice(2),Qt="__reactFiber$"+zi,En="__reactProps$"+zi,wo="__reactContainer$"+zi,cp="__reactEvents$"+zi,z2="__reactListeners$"+zi,$2="__reactHandles$"+zi,vw="__reactResources$"+zi,el="__reactMarker$"+zi;function fp(a){delete a[Qt],delete a[En],delete a[cp],delete a[z2],delete a[$2]}function So(a){var s=a[Qt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[wo]||c[Qt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=LT(a);a!==null;){if(c=a[Qt])return c;a=LT(a)}return s}a=c,c=a.parentNode}return null}function Eo(a){if(a=a[Qt]||a[wo]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function tl(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function To(a){var s=a[vw];return s||(s=a[vw]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ht(a){a[el]=!0}var gw=new Set,yw={};function Aa(a,s){Ao(a,s),Ao(a+"Capture",s)}function Ao(a,s){for(yw[a]=s,a=0;a<s.length;a++)gw.add(s[a])}var H2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bw={},_w={};function G2(a){return Yr.call(_w,a)?!0:Yr.call(bw,a)?!1:H2.test(a)?_w[a]=!0:(bw[a]=!0,!1)}function lc(a,s,c){if(G2(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function uc(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Jr(a,s,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+p)}}function Xn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ww(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function j2(a,s,c){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,w=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return b.call(this)},set:function(A){c=""+A,w.call(this,A)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function dp(a){if(!a._valueTracker){var s=ww(a)?"checked":"value";a._valueTracker=j2(a,s,""+a[s])}}function Sw(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return a&&(p=ww(a)?a.checked?"true":"false":a.value),a=p,a!==c?(s.setValue(a),!0):!1}function cc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var V2=/[\n"\\]/g;function Qn(a){return a.replace(V2,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function hp(a,s,c,p,b,w,A,P){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),s!=null?A==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Xn(s)):a.value!==""+Xn(s)&&(a.value=""+Xn(s)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),s!=null?pp(a,A,Xn(s)):c!=null?pp(a,A,Xn(c)):p!=null&&a.removeAttribute("value"),b==null&&w!=null&&(a.defaultChecked=!!w),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.name=""+Xn(P):a.removeAttribute("name")}function Ew(a,s,c,p,b,w,A,P){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),s!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||s!=null)){dp(a);return}c=c!=null?""+Xn(c):"",s=s!=null?""+Xn(s):c,P||s===a.value||(a.value=s),a.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=P?a.checked:!!p,a.defaultChecked=!!p,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A),dp(a)}function pp(a,s,c){s==="number"&&cc(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function xo(a,s,c,p){if(a=a.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<a.length;c++)b=s.hasOwnProperty("$"+a[c].value),a[c].selected!==b&&(a[c].selected=b),b&&p&&(a[c].defaultSelected=!0)}else{for(c=""+Xn(c),s=null,b=0;b<a.length;b++){if(a[b].value===c){a[b].selected=!0,p&&(a[b].defaultSelected=!0);return}s!==null||a[b].disabled||(s=a[b])}s!==null&&(s.selected=!0)}}function Tw(a,s,c){if(s!=null&&(s=""+Xn(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+Xn(c):""}function Aw(a,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(me(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=Xn(s),a.defaultValue=c,p=a.textContent,p===c&&p!==""&&p!==null&&(a.value=p),dp(a)}function Co(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var F2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xw(a,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,c):typeof c!="number"||c===0||F2.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function Cw(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&c[b]!==p&&xw(a,b,p)}else for(var w in s)s.hasOwnProperty(w)&&xw(a,w,s[w])}function mp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fc(a){return Y2.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Wr(){}var vp=null;function gp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ro=null,Oo=null;function Rw(a){var s=Eo(a);if(s&&(a=s.stateNode)){var c=a[En]||null;e:switch(a=s.stateNode,s.type){case"input":if(hp(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Qn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==a&&p.form===a.form){var b=p[En]||null;if(!b)throw Error(r(90));hp(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===a.form&&Sw(p)}break e;case"textarea":Tw(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&xo(a,!!c.multiple,s,!1)}}}var yp=!1;function Ow(a,s,c){if(yp)return a(s,c);yp=!0;try{var p=a(s);return p}finally{if(yp=!1,(Ro!==null||Oo!==null)&&(Qc(),Ro&&(s=Ro,a=Oo,Oo=Ro=null,Rw(s),a)))for(s=0;s<a.length;s++)Rw(a[s])}}function nl(a,s){var c=a.stateNode;if(c===null)return null;var p=c[En]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bp=!1;if(Xr)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){bp=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{bp=!1}var $i=null,_p=null,dc=null;function Pw(){if(dc)return dc;var a,s=_p,c=s.length,p,b="value"in $i?$i.value:$i.textContent,w=b.length;for(a=0;a<c&&s[a]===b[a];a++);var A=c-a;for(p=1;p<=A&&s[c-p]===b[w-p];p++);return dc=b.slice(a,1<p?1-p:void 0)}function hc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function pc(){return!0}function Iw(){return!1}function Tn(a){function s(c,p,b,w,A){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var P in a)a.hasOwnProperty(P)&&(c=a[P],this[P]=c?c(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?pc:Iw,this.isPropagationStopped=Iw,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),s}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=Tn(xa),il=m({},xa,{view:0,detail:0}),J2=Tn(il),wp,Sp,al,vc=m({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==al&&(al&&a.type==="mousemove"?(wp=a.screenX-al.screenX,Sp=a.screenY-al.screenY):Sp=wp=0,al=a),wp)},movementY:function(a){return"movementY"in a?a.movementY:Sp}}),Mw=Tn(vc),W2=m({},vc,{dataTransfer:0}),X2=Tn(W2),Q2=m({},il,{relatedTarget:0}),Ep=Tn(Q2),Z2=m({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),eL=Tn(Z2),tL=m({},xa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),nL=Tn(tL),rL=m({},xa,{data:0}),Nw=Tn(rL),iL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sL(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=oL[a])?!!s[a]:!1}function Tp(){return sL}var lL=m({},il,{key:function(a){if(a.key){var s=iL[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=hc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?aL[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tp,charCode:function(a){return a.type==="keypress"?hc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?hc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),uL=Tn(lL),cL=m({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dw=Tn(cL),fL=m({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tp}),dL=Tn(fL),hL=m({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),pL=Tn(hL),mL=m({},vc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),vL=Tn(mL),gL=m({},xa,{newState:0,oldState:0}),yL=Tn(gL),bL=[9,13,27,32],Ap=Xr&&"CompositionEvent"in window,ol=null;Xr&&"documentMode"in document&&(ol=document.documentMode);var _L=Xr&&"TextEvent"in window&&!ol,kw=Xr&&(!Ap||ol&&8<ol&&11>=ol),Uw=" ",Lw=!1;function Bw(a,s){switch(a){case"keyup":return bL.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Po=!1;function wL(a,s){switch(a){case"compositionend":return qw(s);case"keypress":return s.which!==32?null:(Lw=!0,Uw);case"textInput":return a=s.data,a===Uw&&Lw?null:a;default:return null}}function SL(a,s){if(Po)return a==="compositionend"||!Ap&&Bw(a,s)?(a=Pw(),dc=_p=$i=null,Po=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return kw&&s.locale!=="ko"?null:s.data;default:return null}}var EL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!EL[a.type]:s==="textarea"}function $w(a,s,c,p){Ro?Oo?Oo.push(p):Oo=[p]:Ro=p,s=of(s,"onChange"),0<s.length&&(c=new mc("onChange","change",null,c,p),a.push({event:c,listeners:s}))}var sl=null,ll=null;function TL(a){ET(a,0)}function gc(a){var s=tl(a);if(Sw(s))return a}function Hw(a,s){if(a==="change")return s}var Gw=!1;if(Xr){var xp;if(Xr){var Cp="oninput"in document;if(!Cp){var jw=document.createElement("div");jw.setAttribute("oninput","return;"),Cp=typeof jw.oninput=="function"}xp=Cp}else xp=!1;Gw=xp&&(!document.documentMode||9<document.documentMode)}function Vw(){sl&&(sl.detachEvent("onpropertychange",Fw),ll=sl=null)}function Fw(a){if(a.propertyName==="value"&&gc(ll)){var s=[];$w(s,ll,a,gp(a)),Ow(TL,s)}}function AL(a,s,c){a==="focusin"?(Vw(),sl=s,ll=c,sl.attachEvent("onpropertychange",Fw)):a==="focusout"&&Vw()}function xL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return gc(ll)}function CL(a,s){if(a==="click")return gc(s)}function RL(a,s){if(a==="input"||a==="change")return gc(s)}function OL(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Un=typeof Object.is=="function"?Object.is:OL;function ul(a,s){if(Un(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!Yr.call(s,b)||!Un(a[b],s[b]))return!1}return!0}function Kw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Yw(a,s){var c=Kw(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=s&&p>=s)return{node:c,offset:s-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Kw(c)}}function Jw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Jw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Ww(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=cc(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=cc(a.document)}return s}function Rp(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var PL=Xr&&"documentMode"in document&&11>=document.documentMode,Io=null,Op=null,cl=null,Pp=!1;function Xw(a,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pp||Io==null||Io!==cc(p)||(p=Io,"selectionStart"in p&&Rp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),cl&&ul(cl,p)||(cl=p,p=of(Op,"onSelect"),0<p.length&&(s=new mc("onSelect","select",null,s,c),a.push({event:s,listeners:p}),s.target=Io)))}function Ca(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var Mo={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Ip={},Qw={};Xr&&(Qw=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Ra(a){if(Ip[a])return Ip[a];if(!Mo[a])return a;var s=Mo[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in Qw)return Ip[a]=s[c];return a}var Zw=Ra("animationend"),eS=Ra("animationiteration"),tS=Ra("animationstart"),IL=Ra("transitionrun"),ML=Ra("transitionstart"),NL=Ra("transitioncancel"),nS=Ra("transitionend"),rS=new Map,Mp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mp.push("scrollEnd");function yr(a,s){rS.set(a,s),Aa(s,[a])}var yc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Zn=[],No=0,Np=0;function bc(){for(var a=No,s=Np=No=0;s<a;){var c=Zn[s];Zn[s++]=null;var p=Zn[s];Zn[s++]=null;var b=Zn[s];Zn[s++]=null;var w=Zn[s];if(Zn[s++]=null,p!==null&&b!==null){var A=p.pending;A===null?b.next=b:(b.next=A.next,A.next=b),p.pending=b}w!==0&&iS(c,b,w)}}function _c(a,s,c,p){Zn[No++]=a,Zn[No++]=s,Zn[No++]=c,Zn[No++]=p,Np|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Dp(a,s,c,p){return _c(a,s,c,p),wc(a)}function Oa(a,s){return _c(a,null,null,s),wc(a)}function iS(a,s,c){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c);for(var b=!1,w=a.return;w!==null;)w.childLanes|=c,p=w.alternate,p!==null&&(p.childLanes|=c),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(b=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,b&&s!==null&&(b=31-kn(c),a=w.hiddenUpdates,p=a[b],p===null?a[b]=[s]:p.push(s),s.lane=c|536870912),w):null}function wc(a){if(50<Ml)throw Ml=0,Gm=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Do={};function DL(a,s,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(a,s,c,p){return new DL(a,s,c,p)}function kp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qr(a,s){var c=a.alternate;return c===null?(c=Ln(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function aS(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Sc(a,s,c,p,b,w){var A=0;if(p=a,typeof a=="function")kp(a)&&(A=1);else if(typeof a=="string")A=qB(a,c,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case q:return a=Ln(31,c,s,b),a.elementType=q,a.lanes=w,a;case E:return Pa(c.children,b,w,s);case T:A=8,b|=24;break;case C:return a=Ln(12,c,s,b|2),a.elementType=C,a.lanes=w,a;case M:return a=Ln(13,c,s,b),a.elementType=M,a.lanes=w,a;case N:return a=Ln(19,c,s,b),a.elementType=N,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:A=10;break e;case O:A=9;break e;case I:A=11;break e;case k:A=14;break e;case H:A=16,p=null;break e}A=29,c=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=Ln(A,c,s,b),s.elementType=a,s.type=p,s.lanes=w,s}function Pa(a,s,c,p){return a=Ln(7,a,p,s),a.lanes=c,a}function Up(a,s,c){return a=Ln(6,a,null,s),a.lanes=c,a}function oS(a){var s=Ln(18,null,null,0);return s.stateNode=a,s}function Lp(a,s,c){return s=Ln(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var sS=new WeakMap;function er(a,s){if(typeof a=="object"&&a!==null){var c=sS.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Kr(s)},sS.set(a,s),s)}return{value:a,source:s,stack:Kr(s)}}var ko=[],Uo=0,Ec=null,fl=0,tr=[],nr=0,Hi=null,Ur=1,Lr="";function Zr(a,s){ko[Uo++]=fl,ko[Uo++]=Ec,Ec=a,fl=s}function lS(a,s,c){tr[nr++]=Ur,tr[nr++]=Lr,tr[nr++]=Hi,Hi=a;var p=Ur;a=Lr;var b=32-kn(p)-1;p&=~(1<<b),c+=1;var w=32-kn(s)+b;if(30<w){var A=b-b%5;w=(p&(1<<A)-1).toString(32),p>>=A,b-=A,Ur=1<<32-kn(s)+b|c<<b|p,Lr=w+a}else Ur=1<<w|c<<b|p,Lr=a}function Bp(a){a.return!==null&&(Zr(a,1),lS(a,1,0))}function qp(a){for(;a===Ec;)Ec=ko[--Uo],ko[Uo]=null,fl=ko[--Uo],ko[Uo]=null;for(;a===Hi;)Hi=tr[--nr],tr[nr]=null,Lr=tr[--nr],tr[nr]=null,Ur=tr[--nr],tr[nr]=null}function uS(a,s){tr[nr++]=Ur,tr[nr++]=Lr,tr[nr++]=Hi,Ur=s.id,Lr=s.overflow,Hi=a}var Zt=null,rt=null,Le=!1,Gi=null,rr=!1,zp=Error(r(519));function ji(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(er(s,a)),zp}function cS(a){var s=a.stateNode,c=a.type,p=a.memoizedProps;switch(s[Qt]=a,s[En]=p,c){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(c=0;c<Dl.length;c++)De(Dl[c],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),Ew(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),Aw(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||CT(s.textContent,c)?(p.popover!=null&&(De("beforetoggle",s),De("toggle",s)),p.onScroll!=null&&De("scroll",s),p.onScrollEnd!=null&&De("scrollend",s),p.onClick!=null&&(s.onclick=Wr),s=!0):s=!1,s||ji(a,!0)}function fS(a){for(Zt=a.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:Zt=Zt.return}}function Lo(a){if(a!==Zt)return!1;if(!Le)return fS(a),Le=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||iv(a.type,a.memoizedProps)),c=!c),c&&rt&&ji(a),fS(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));rt=UT(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));rt=UT(a)}else s===27?(s=rt,ia(a.type)?(a=uv,uv=null,rt=a):rt=s):rt=Zt?ar(a.stateNode.nextSibling):null;return!0}function Ia(){rt=Zt=null,Le=!1}function $p(){var a=Gi;return a!==null&&(Rn===null?Rn=a:Rn.push.apply(Rn,a),Gi=null),a}function dl(a){Gi===null?Gi=[a]:Gi.push(a)}var Hp=D(null),Ma=null,ei=null;function Vi(a,s,c){ie(Hp,s._currentValue),s._currentValue=c}function ti(a){a._currentValue=Hp.current,K(Hp)}function Gp(a,s,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===c)break;a=a.return}}function jp(a,s,c,p){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var w=b.dependencies;if(w!==null){var A=b.child;w=w.firstContext;e:for(;w!==null;){var P=w;w=b;for(var U=0;U<s.length;U++)if(P.context===s[U]){w.lanes|=c,P=w.alternate,P!==null&&(P.lanes|=c),Gp(w.return,c,a),p||(A=null);break e}w=P.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(r(341));A.lanes|=c,w=A.alternate,w!==null&&(w.lanes|=c),Gp(A,c,a),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===a){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function Bo(a,s,c,p){a=null;for(var b=s,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var P=b.type;Un(b.pendingProps.value,A.value)||(a!==null?a.push(P):a=[P])}}else if(b===Te.current){if(A=b.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(ql):a=[ql])}b=b.return}a!==null&&jp(s,a,c,p),s.flags|=262144}function Tc(a){for(a=a.firstContext;a!==null;){if(!Un(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Na(a){Ma=a,ei=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function en(a){return dS(Ma,a)}function Ac(a,s){return Ma===null&&Na(a),dS(a,s)}function dS(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ei===null){if(a===null)throw Error(r(308));ei=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ei=ei.next=s;return c}var kL=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},UL=e.unstable_scheduleCallback,LL=e.unstable_NormalPriority,At={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vp(){return{controller:new kL,data:new Map,refCount:0}}function hl(a){a.refCount--,a.refCount===0&&UL(LL,function(){a.controller.abort()})}var pl=null,Fp=0,qo=0,zo=null;function BL(a,s){if(pl===null){var c=pl=[];Fp=0,qo=Jm(),zo={status:"pending",value:void 0,then:function(p){c.push(p)}}}return Fp++,s.then(hS,hS),s}function hS(){if(--Fp===0&&pl!==null){zo!==null&&(zo.status="fulfilled");var a=pl;pl=null,qo=0,zo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function qL(a,s){var c=[],p={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<c.length;b++)(0,c[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),p}var pS=$.S;$.S=function(a,s){XE=Nn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&BL(a,s),pS!==null&&pS(a,s)};var Da=D(null);function Kp(){var a=Da.current;return a!==null?a:Qe.pooledCache}function xc(a,s){s===null?ie(Da,Da.current):ie(Da,s.pool)}function mS(){var a=Kp();return a===null?null:{parent:At._currentValue,pool:a}}var $o=Error(r(460)),Yp=Error(r(474)),Cc=Error(r(542)),Rc={then:function(){}};function vS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function gS(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(Wr,Wr),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,bS(a),a;default:if(typeof s.status=="string")s.then(Wr,Wr);else{if(a=Qe,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,bS(a),a}throw Ua=s,$o}}function ka(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ua=c,$o):c}}var Ua=null;function yS(){if(Ua===null)throw Error(r(459));var a=Ua;return Ua=null,a}function bS(a){if(a===$o||a===Cc)throw Error(r(483))}var Ho=null,ml=0;function Oc(a){var s=ml;return ml+=1,Ho===null&&(Ho=[]),gS(Ho,a,s)}function vl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Pc(a,s){throw s.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function _S(a){function s(z,B){if(a){var G=z.deletions;G===null?(z.deletions=[B],z.flags|=16):G.push(B)}}function c(z,B){if(!a)return null;for(;B!==null;)s(z,B),B=B.sibling;return null}function p(z){for(var B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function b(z,B){return z=Qr(z,B),z.index=0,z.sibling=null,z}function w(z,B,G){return z.index=G,a?(G=z.alternate,G!==null?(G=G.index,G<B?(z.flags|=67108866,B):G):(z.flags|=67108866,B)):(z.flags|=1048576,B)}function A(z){return a&&z.alternate===null&&(z.flags|=67108866),z}function P(z,B,G,te){return B===null||B.tag!==6?(B=Up(G,z.mode,te),B.return=z,B):(B=b(B,G),B.return=z,B)}function U(z,B,G,te){var be=G.type;return be===E?X(z,B,G.props.children,te,G.key):B!==null&&(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===H&&ka(be)===B.type)?(B=b(B,G.props),vl(B,G),B.return=z,B):(B=Sc(G.type,G.key,G.props,null,z.mode,te),vl(B,G),B.return=z,B)}function j(z,B,G,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Lp(G,z.mode,te),B.return=z,B):(B=b(B,G.children||[]),B.return=z,B)}function X(z,B,G,te,be){return B===null||B.tag!==7?(B=Pa(G,z.mode,te,be),B.return=z,B):(B=b(B,G),B.return=z,B)}function re(z,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Up(""+B,z.mode,G),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return G=Sc(B.type,B.key,B.props,null,z.mode,G),vl(G,B),G.return=z,G;case S:return B=Lp(B,z.mode,G),B.return=z,B;case H:return B=ka(B),re(z,B,G)}if(me(B)||ee(B))return B=Pa(B,z.mode,G,null),B.return=z,B;if(typeof B.then=="function")return re(z,Oc(B),G);if(B.$$typeof===R)return re(z,Ac(z,B),G);Pc(z,B)}return null}function F(z,B,G,te){var be=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return be!==null?null:P(z,B,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return G.key===be?U(z,B,G,te):null;case S:return G.key===be?j(z,B,G,te):null;case H:return G=ka(G),F(z,B,G,te)}if(me(G)||ee(G))return be!==null?null:X(z,B,G,te,null);if(typeof G.then=="function")return F(z,B,Oc(G),te);if(G.$$typeof===R)return F(z,B,Ac(z,G),te);Pc(z,G)}return null}function Y(z,B,G,te,be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(G)||null,P(B,z,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return z=z.get(te.key===null?G:te.key)||null,U(B,z,te,be);case S:return z=z.get(te.key===null?G:te.key)||null,j(B,z,te,be);case H:return te=ka(te),Y(z,B,G,te,be)}if(me(te)||ee(te))return z=z.get(G)||null,X(B,z,te,be,null);if(typeof te.then=="function")return Y(z,B,G,Oc(te),be);if(te.$$typeof===R)return Y(z,B,G,Ac(B,te),be);Pc(B,te)}return null}function he(z,B,G,te){for(var be=null,Be=null,ve=B,Pe=B=0,Ue=null;ve!==null&&Pe<G.length;Pe++){ve.index>Pe?(Ue=ve,ve=null):Ue=ve.sibling;var qe=F(z,ve,G[Pe],te);if(qe===null){ve===null&&(ve=Ue);break}a&&ve&&qe.alternate===null&&s(z,ve),B=w(qe,B,Pe),Be===null?be=qe:Be.sibling=qe,Be=qe,ve=Ue}if(Pe===G.length)return c(z,ve),Le&&Zr(z,Pe),be;if(ve===null){for(;Pe<G.length;Pe++)ve=re(z,G[Pe],te),ve!==null&&(B=w(ve,B,Pe),Be===null?be=ve:Be.sibling=ve,Be=ve);return Le&&Zr(z,Pe),be}for(ve=p(ve);Pe<G.length;Pe++)Ue=Y(ve,z,Pe,G[Pe],te),Ue!==null&&(a&&Ue.alternate!==null&&ve.delete(Ue.key===null?Pe:Ue.key),B=w(Ue,B,Pe),Be===null?be=Ue:Be.sibling=Ue,Be=Ue);return a&&ve.forEach(function(ua){return s(z,ua)}),Le&&Zr(z,Pe),be}function we(z,B,G,te){if(G==null)throw Error(r(151));for(var be=null,Be=null,ve=B,Pe=B=0,Ue=null,qe=G.next();ve!==null&&!qe.done;Pe++,qe=G.next()){ve.index>Pe?(Ue=ve,ve=null):Ue=ve.sibling;var ua=F(z,ve,qe.value,te);if(ua===null){ve===null&&(ve=Ue);break}a&&ve&&ua.alternate===null&&s(z,ve),B=w(ua,B,Pe),Be===null?be=ua:Be.sibling=ua,Be=ua,ve=Ue}if(qe.done)return c(z,ve),Le&&Zr(z,Pe),be;if(ve===null){for(;!qe.done;Pe++,qe=G.next())qe=re(z,qe.value,te),qe!==null&&(B=w(qe,B,Pe),Be===null?be=qe:Be.sibling=qe,Be=qe);return Le&&Zr(z,Pe),be}for(ve=p(ve);!qe.done;Pe++,qe=G.next())qe=Y(ve,z,Pe,qe.value,te),qe!==null&&(a&&qe.alternate!==null&&ve.delete(qe.key===null?Pe:qe.key),B=w(qe,B,Pe),Be===null?be=qe:Be.sibling=qe,Be=qe);return a&&ve.forEach(function(WB){return s(z,WB)}),Le&&Zr(z,Pe),be}function We(z,B,G,te){if(typeof G=="object"&&G!==null&&G.type===E&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case _:e:{for(var be=G.key;B!==null;){if(B.key===be){if(be=G.type,be===E){if(B.tag===7){c(z,B.sibling),te=b(B,G.props.children),te.return=z,z=te;break e}}else if(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===H&&ka(be)===B.type){c(z,B.sibling),te=b(B,G.props),vl(te,G),te.return=z,z=te;break e}c(z,B);break}else s(z,B);B=B.sibling}G.type===E?(te=Pa(G.props.children,z.mode,te,G.key),te.return=z,z=te):(te=Sc(G.type,G.key,G.props,null,z.mode,te),vl(te,G),te.return=z,z=te)}return A(z);case S:e:{for(be=G.key;B!==null;){if(B.key===be)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){c(z,B.sibling),te=b(B,G.children||[]),te.return=z,z=te;break e}else{c(z,B);break}else s(z,B);B=B.sibling}te=Lp(G,z.mode,te),te.return=z,z=te}return A(z);case H:return G=ka(G),We(z,B,G,te)}if(me(G))return he(z,B,G,te);if(ee(G)){if(be=ee(G),typeof be!="function")throw Error(r(150));return G=be.call(G),we(z,B,G,te)}if(typeof G.then=="function")return We(z,B,Oc(G),te);if(G.$$typeof===R)return We(z,B,Ac(z,G),te);Pc(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(c(z,B.sibling),te=b(B,G),te.return=z,z=te):(c(z,B),te=Up(G,z.mode,te),te.return=z,z=te),A(z)):c(z,B)}return function(z,B,G,te){try{ml=0;var be=We(z,B,G,te);return Ho=null,be}catch(ve){if(ve===$o||ve===Cc)throw ve;var Be=Ln(29,ve,null,z.mode);return Be.lanes=te,Be.return=z,Be}finally{}}}var La=_S(!0),wS=_S(!1),Fi=!1;function Jp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ki(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Yi(a,s,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Ge&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=wc(a),iS(a,null,c),s}return _c(a,p,s,c),wc(a)}function gl(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,dw(a,c)}}function Xp(a,s){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?b=w=A:w=w.next=A,c=c.next}while(c!==null);w===null?b=w=s:w=w.next=s}else b=w=s;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Qp=!1;function yl(){if(Qp){var a=zo;if(a!==null)throw a}}function bl(a,s,c,p){Qp=!1;var b=a.updateQueue;Fi=!1;var w=b.firstBaseUpdate,A=b.lastBaseUpdate,P=b.shared.pending;if(P!==null){b.shared.pending=null;var U=P,j=U.next;U.next=null,A===null?w=j:A.next=j,A=U;var X=a.alternate;X!==null&&(X=X.updateQueue,P=X.lastBaseUpdate,P!==A&&(P===null?X.firstBaseUpdate=j:P.next=j,X.lastBaseUpdate=U))}if(w!==null){var re=b.baseState;A=0,X=j=U=null,P=w;do{var F=P.lane&-536870913,Y=F!==P.lane;if(Y?(ke&F)===F:(p&F)===F){F!==0&&F===qo&&(Qp=!0),X!==null&&(X=X.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var he=a,we=P;F=s;var We=c;switch(we.tag){case 1:if(he=we.payload,typeof he=="function"){re=he.call(We,re,F);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=we.payload,F=typeof he=="function"?he.call(We,re,F):he,F==null)break e;re=m({},re,F);break e;case 2:Fi=!0}}F=P.callback,F!==null&&(a.flags|=64,Y&&(a.flags|=8192),Y=b.callbacks,Y===null?b.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:P.tag,payload:P.payload,callback:P.callback,next:null},X===null?(j=X=Y,U=re):X=X.next=Y,A|=F;if(P=P.next,P===null){if(P=b.shared.pending,P===null)break;Y=P,P=Y.next,Y.next=null,b.lastBaseUpdate=Y,b.shared.pending=null}}while(!0);X===null&&(U=re),b.baseState=U,b.firstBaseUpdate=j,b.lastBaseUpdate=X,w===null&&(b.shared.lanes=0),Zi|=A,a.lanes=A,a.memoizedState=re}}function SS(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function ES(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)SS(c[a],s)}var Go=D(null),Ic=D(0);function TS(a,s){a=ci,ie(Ic,a),ie(Go,s),ci=a|s.baseLanes}function Zp(){ie(Ic,ci),ie(Go,Go.current)}function em(){ci=Ic.current,K(Go),K(Ic)}var Bn=D(null),ir=null;function Ji(a){var s=a.alternate;ie(_t,_t.current&1),ie(Bn,a),ir===null&&(s===null||Go.current!==null||s.memoizedState!==null)&&(ir=a)}function tm(a){ie(_t,_t.current),ie(Bn,a),ir===null&&(ir=a)}function AS(a){a.tag===22?(ie(_t,_t.current),ie(Bn,a),ir===null&&(ir=a)):Wi()}function Wi(){ie(_t,_t.current),ie(Bn,Bn.current)}function qn(a){K(Bn),ir===a&&(ir=null),K(_t)}var _t=D(0);function Mc(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||sv(c)||lv(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ni=0,Oe=null,Ye=null,xt=null,Nc=!1,jo=!1,Ba=!1,Dc=0,_l=0,Vo=null,zL=0;function mt(){throw Error(r(321))}function nm(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Un(a[c],s[c]))return!1;return!0}function rm(a,s,c,p,b,w){return ni=w,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=a===null||a.memoizedState===null?lE:ym,Ba=!1,w=c(p,b),Ba=!1,jo&&(w=CS(s,c,p,b)),xS(a),w}function xS(a){$.H=El;var s=Ye!==null&&Ye.next!==null;if(ni=0,xt=Ye=Oe=null,Nc=!1,_l=0,Vo=null,s)throw Error(r(300));a===null||Ct||(a=a.dependencies,a!==null&&Tc(a)&&(Ct=!0))}function CS(a,s,c,p){Oe=a;var b=0;do{if(jo&&(Vo=null),_l=0,jo=!1,25<=b)throw Error(r(301));if(b+=1,xt=Ye=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}$.H=uE,w=s(c,p)}while(jo);return w}function $L(){var a=$.H,s=a.useState()[0];return s=typeof s.then=="function"?wl(s):s,a=a.useState()[0],(Ye!==null?Ye.memoizedState:null)!==a&&(Oe.flags|=1024),s}function im(){var a=Dc!==0;return Dc=0,a}function am(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function om(a){if(Nc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Nc=!1}ni=0,xt=Ye=Oe=null,jo=!1,_l=Dc=0,Vo=null}function vn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Oe.memoizedState=xt=a:xt=xt.next=a,xt}function wt(){if(Ye===null){var a=Oe.alternate;a=a!==null?a.memoizedState:null}else a=Ye.next;var s=xt===null?Oe.memoizedState:xt.next;if(s!==null)xt=s,Ye=a;else{if(a===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));Ye=a,a={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},xt===null?Oe.memoizedState=xt=a:xt=xt.next=a}return xt}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(a){var s=_l;return _l+=1,Vo===null&&(Vo=[]),a=gS(Vo,a,s),s=Oe,(xt===null?s.memoizedState:xt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?lE:ym),a}function Uc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return wl(a);if(a.$$typeof===R)return en(a)}throw Error(r(438,String(a)))}function sm(a){var s=null,c=Oe.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Oe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=kc(),Oe.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),p=0;p<a;p++)c[p]=ne;return s.index++,c}function ri(a,s){return typeof s=="function"?s(a):s}function Lc(a){var s=wt();return lm(s,Ye,a)}function lm(a,s,c){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var b=a.baseQueue,w=p.pending;if(w!==null){if(b!==null){var A=b.next;b.next=w.next,w.next=A}s.baseQueue=b=w,p.pending=null}if(w=a.baseState,b===null)a.memoizedState=w;else{s=b.next;var P=A=null,U=null,j=s,X=!1;do{var re=j.lane&-536870913;if(re!==j.lane?(ke&re)===re:(ni&re)===re){var F=j.revertLane;if(F===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),re===qo&&(X=!0);else if((ni&F)===F){j=j.next,F===qo&&(X=!0);continue}else re={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},U===null?(P=U=re,A=w):U=U.next=re,Oe.lanes|=F,Zi|=F;re=j.action,Ba&&c(w,re),w=j.hasEagerState?j.eagerState:c(w,re)}else F={lane:re,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},U===null?(P=U=F,A=w):U=U.next=F,Oe.lanes|=re,Zi|=re;j=j.next}while(j!==null&&j!==s);if(U===null?A=w:U.next=P,!Un(w,a.memoizedState)&&(Ct=!0,X&&(c=zo,c!==null)))throw c;a.memoizedState=w,a.baseState=A,a.baseQueue=U,p.lastRenderedState=w}return b===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function um(a){var s=wt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=c.dispatch,b=c.pending,w=s.memoizedState;if(b!==null){c.pending=null;var A=b=b.next;do w=a(w,A.action),A=A.next;while(A!==b);Un(w,s.memoizedState)||(Ct=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),c.lastRenderedState=w}return[w,p]}function RS(a,s,c){var p=Oe,b=wt(),w=Le;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=s();var A=!Un((Ye||b).memoizedState,c);if(A&&(b.memoizedState=c,Ct=!0),b=b.queue,dm(IS.bind(null,p,b,a),[a]),b.getSnapshot!==s||A||xt!==null&&xt.memoizedState.tag&1){if(p.flags|=2048,Fo(9,{destroy:void 0},PS.bind(null,p,b,c,s),null),Qe===null)throw Error(r(349));w||(ni&127)!==0||OS(p,s,c)}return c}function OS(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Oe.updateQueue,s===null?(s=kc(),Oe.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function PS(a,s,c,p){s.value=c,s.getSnapshot=p,MS(s)&&NS(a)}function IS(a,s,c){return c(function(){MS(s)&&NS(a)})}function MS(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Un(a,c)}catch{return!0}}function NS(a){var s=Oa(a,2);s!==null&&On(s,a,2)}function cm(a){var s=vn();if(typeof a=="function"){var c=a;if(a=c(),Ba){qi(!0);try{c()}finally{qi(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},s}function DS(a,s,c,p){return a.baseState=c,lm(a,Ye,typeof p=="function"?p:ri)}function HL(a,s,c,p,b){if(zc(a))throw Error(r(485));if(a=s.action,a!==null){var w={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){w.listeners.push(A)}};$.T!==null?c(!0):w.isTransition=!1,p(w),c=s.pending,c===null?(w.next=s.pending=w,kS(s,w)):(w.next=c.next,s.pending=c.next=w)}}function kS(a,s){var c=s.action,p=s.payload,b=a.state;if(s.isTransition){var w=$.T,A={};$.T=A;try{var P=c(b,p),U=$.S;U!==null&&U(A,P),US(a,s,P)}catch(j){fm(a,s,j)}finally{w!==null&&A.types!==null&&(w.types=A.types),$.T=w}}else try{w=c(b,p),US(a,s,w)}catch(j){fm(a,s,j)}}function US(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){LS(a,s,p)},function(p){return fm(a,s,p)}):LS(a,s,c)}function LS(a,s,c){s.status="fulfilled",s.value=c,BS(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,kS(a,c)))}function fm(a,s,c){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,BS(s),s=s.next;while(s!==p)}a.action=null}function BS(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function qS(a,s){return s}function zS(a,s){if(Le){var c=Qe.formState;if(c!==null){e:{var p=Oe;if(Le){if(rt){t:{for(var b=rt,w=rr;b.nodeType!==8;){if(!w){b=null;break t}if(b=ar(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){rt=ar(b.nextSibling),p=b.data==="F!";break e}}ji(p)}p=!1}p&&(s=c[0])}}return c=vn(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qS,lastRenderedState:s},c.queue=p,c=aE.bind(null,Oe,p),p.dispatch=c,p=cm(!1),w=gm.bind(null,Oe,!1,p.queue),p=vn(),b={state:s,dispatch:null,action:a,pending:null},p.queue=b,c=HL.bind(null,Oe,b,w,c),b.dispatch=c,p.memoizedState=a,[s,c,!1]}function $S(a){var s=wt();return HS(s,Ye,a)}function HS(a,s,c){if(s=lm(a,s,qS)[0],a=Lc(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=wl(s)}catch(A){throw A===$o?Cc:A}else p=s;s=wt();var b=s.queue,w=b.dispatch;return c!==s.memoizedState&&(Oe.flags|=2048,Fo(9,{destroy:void 0},GL.bind(null,b,c),null)),[p,w,a]}function GL(a,s){a.action=s}function GS(a){var s=wt(),c=Ye;if(c!==null)return HS(s,c,a);wt(),s=s.memoizedState,c=wt();var p=c.queue.dispatch;return c.memoizedState=a,[s,p,!1]}function Fo(a,s,c,p){return a={tag:a,create:c,deps:p,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=kc(),Oe.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,s.lastEffect=a),a}function jS(){return wt().memoizedState}function Bc(a,s,c,p){var b=vn();Oe.flags|=a,b.memoizedState=Fo(1|s,{destroy:void 0},c,p===void 0?null:p)}function qc(a,s,c,p){var b=wt();p=p===void 0?null:p;var w=b.memoizedState.inst;Ye!==null&&p!==null&&nm(p,Ye.memoizedState.deps)?b.memoizedState=Fo(s,w,c,p):(Oe.flags|=a,b.memoizedState=Fo(1|s,w,c,p))}function VS(a,s){Bc(8390656,8,a,s)}function dm(a,s){qc(2048,8,a,s)}function jL(a){Oe.flags|=4;var s=Oe.updateQueue;if(s===null)s=kc(),Oe.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function FS(a){var s=wt().memoizedState;return jL({ref:s,nextImpl:a}),function(){if((Ge&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function KS(a,s){return qc(4,2,a,s)}function YS(a,s){return qc(4,4,a,s)}function JS(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function WS(a,s,c){c=c!=null?c.concat([a]):null,qc(4,4,JS.bind(null,s,a),c)}function hm(){}function XS(a,s){var c=wt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&nm(s,p[1])?p[0]:(c.memoizedState=[a,s],a)}function QS(a,s){var c=wt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&nm(s,p[1]))return p[0];if(p=a(),Ba){qi(!0);try{a()}finally{qi(!1)}}return c.memoizedState=[p,s],p}function pm(a,s,c){return c===void 0||(ni&1073741824)!==0&&(ke&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=ZE(),Oe.lanes|=a,Zi|=a,c)}function ZS(a,s,c,p){return Un(c,s)?c:Go.current!==null?(a=pm(a,c,p),Un(a,s)||(Ct=!0),a):(ni&42)===0||(ni&1073741824)!==0&&(ke&261930)===0?(Ct=!0,a.memoizedState=c):(a=ZE(),Oe.lanes|=a,Zi|=a,s)}function eE(a,s,c,p,b){var w=Z.p;Z.p=w!==0&&8>w?w:8;var A=$.T,P={};$.T=P,gm(a,!1,s,c);try{var U=b(),j=$.S;if(j!==null&&j(P,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var X=qL(U,p);Sl(a,s,X,Hn(a))}else Sl(a,s,p,Hn(a))}catch(re){Sl(a,s,{then:function(){},status:"rejected",reason:re},Hn())}finally{Z.p=w,A!==null&&P.types!==null&&(A.types=P.types),$.T=A}}function VL(){}function mm(a,s,c,p){if(a.tag!==5)throw Error(r(476));var b=tE(a).queue;eE(a,b,s,se,c===null?VL:function(){return nE(a),c(p)})}function tE(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:se},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function nE(a){var s=tE(a);s.next===null&&(s=a.alternate.memoizedState),Sl(a,s.next.queue,{},Hn())}function vm(){return en(ql)}function rE(){return wt().memoizedState}function iE(){return wt().memoizedState}function FL(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Hn();a=Ki(c);var p=Yi(s,a,c);p!==null&&(On(p,s,c),gl(p,s,c)),s={cache:Vp()},a.payload=s;return}s=s.return}}function KL(a,s,c){var p=Hn();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},zc(a)?oE(s,c):(c=Dp(a,s,c,p),c!==null&&(On(c,a,p),sE(c,s,p)))}function aE(a,s,c){var p=Hn();Sl(a,s,c,p)}function Sl(a,s,c,p){var b={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(zc(a))oE(s,b);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var A=s.lastRenderedState,P=w(A,c);if(b.hasEagerState=!0,b.eagerState=P,Un(P,A))return _c(a,s,b,0),Qe===null&&bc(),!1}catch{}finally{}if(c=Dp(a,s,b,p),c!==null)return On(c,a,p),sE(c,s,p),!0}return!1}function gm(a,s,c,p){if(p={lane:2,revertLane:Jm(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},zc(a)){if(s)throw Error(r(479))}else s=Dp(a,c,p,2),s!==null&&On(s,a,2)}function zc(a){var s=a.alternate;return a===Oe||s!==null&&s===Oe}function oE(a,s){jo=Nc=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function sE(a,s,c){if((c&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,dw(a,c)}}var El={readContext:en,use:Uc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};El.useEffectEvent=mt;var lE={readContext:en,use:Uc,useCallback:function(a,s){return vn().memoizedState=[a,s===void 0?null:s],a},useContext:en,useEffect:VS,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Bc(4194308,4,JS.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Bc(4194308,4,a,s)},useInsertionEffect:function(a,s){Bc(4,2,a,s)},useMemo:function(a,s){var c=vn();s=s===void 0?null:s;var p=a();if(Ba){qi(!0);try{a()}finally{qi(!1)}}return c.memoizedState=[p,s],p},useReducer:function(a,s,c){var p=vn();if(c!==void 0){var b=c(s);if(Ba){qi(!0);try{c(s)}finally{qi(!1)}}}else b=s;return p.memoizedState=p.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},p.queue=a,a=a.dispatch=KL.bind(null,Oe,a),[p.memoizedState,a]},useRef:function(a){var s=vn();return a={current:a},s.memoizedState=a},useState:function(a){a=cm(a);var s=a.queue,c=aE.bind(null,Oe,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:hm,useDeferredValue:function(a,s){var c=vn();return pm(c,a,s)},useTransition:function(){var a=cm(!1);return a=eE.bind(null,Oe,a.queue,!0,!1),vn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var p=Oe,b=vn();if(Le){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Qe===null)throw Error(r(349));(ke&127)!==0||OS(p,s,c)}b.memoizedState=c;var w={value:c,getSnapshot:s};return b.queue=w,VS(IS.bind(null,p,w,a),[a]),p.flags|=2048,Fo(9,{destroy:void 0},PS.bind(null,p,w,c,s),null),c},useId:function(){var a=vn(),s=Qe.identifierPrefix;if(Le){var c=Lr,p=Ur;c=(p&~(1<<32-kn(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Dc++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=zL++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:vm,useFormState:zS,useActionState:zS,useOptimistic:function(a){var s=vn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=gm.bind(null,Oe,!0,c),c.dispatch=s,[a,s]},useMemoCache:sm,useCacheRefresh:function(){return vn().memoizedState=FL.bind(null,Oe)},useEffectEvent:function(a){var s=vn(),c={impl:a};return s.memoizedState=c,function(){if((Ge&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},ym={readContext:en,use:Uc,useCallback:XS,useContext:en,useEffect:dm,useImperativeHandle:WS,useInsertionEffect:KS,useLayoutEffect:YS,useMemo:QS,useReducer:Lc,useRef:jS,useState:function(){return Lc(ri)},useDebugValue:hm,useDeferredValue:function(a,s){var c=wt();return ZS(c,Ye.memoizedState,a,s)},useTransition:function(){var a=Lc(ri)[0],s=wt().memoizedState;return[typeof a=="boolean"?a:wl(a),s]},useSyncExternalStore:RS,useId:rE,useHostTransitionStatus:vm,useFormState:$S,useActionState:$S,useOptimistic:function(a,s){var c=wt();return DS(c,Ye,a,s)},useMemoCache:sm,useCacheRefresh:iE};ym.useEffectEvent=FS;var uE={readContext:en,use:Uc,useCallback:XS,useContext:en,useEffect:dm,useImperativeHandle:WS,useInsertionEffect:KS,useLayoutEffect:YS,useMemo:QS,useReducer:um,useRef:jS,useState:function(){return um(ri)},useDebugValue:hm,useDeferredValue:function(a,s){var c=wt();return Ye===null?pm(c,a,s):ZS(c,Ye.memoizedState,a,s)},useTransition:function(){var a=um(ri)[0],s=wt().memoizedState;return[typeof a=="boolean"?a:wl(a),s]},useSyncExternalStore:RS,useId:rE,useHostTransitionStatus:vm,useFormState:GS,useActionState:GS,useOptimistic:function(a,s){var c=wt();return Ye!==null?DS(c,Ye,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:sm,useCacheRefresh:iE};uE.useEffectEvent=FS;function bm(a,s,c,p){s=a.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var _m={enqueueSetState:function(a,s,c){a=a._reactInternals;var p=Hn(),b=Ki(p);b.payload=s,c!=null&&(b.callback=c),s=Yi(a,b,p),s!==null&&(On(s,a,p),gl(s,a,p))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var p=Hn(),b=Ki(p);b.tag=1,b.payload=s,c!=null&&(b.callback=c),s=Yi(a,b,p),s!==null&&(On(s,a,p),gl(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Hn(),p=Ki(c);p.tag=2,s!=null&&(p.callback=s),s=Yi(a,p,c),s!==null&&(On(s,a,c),gl(s,a,c))}};function cE(a,s,c,p,b,w,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,w,A):s.prototype&&s.prototype.isPureReactComponent?!ul(c,p)||!ul(b,w):!0}function fE(a,s,c,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==a&&_m.enqueueReplaceState(s,s.state,null)}function qa(a,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(a=a.defaultProps){c===s&&(c=m({},c));for(var b in a)c[b]===void 0&&(c[b]=a[b])}return c}function dE(a){yc(a)}function hE(a){console.error(a)}function pE(a){yc(a)}function $c(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function mE(a,s,c){try{var p=a.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function wm(a,s,c){return c=Ki(c),c.tag=3,c.payload={element:null},c.callback=function(){$c(a,s)},c}function vE(a){return a=Ki(a),a.tag=3,a}function gE(a,s,c,p){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var w=p.value;a.payload=function(){return b(w)},a.callback=function(){mE(s,c,p)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){mE(s,c,p),typeof b!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var P=p.stack;this.componentDidCatch(p.value,{componentStack:P!==null?P:""})})}function YL(a,s,c,p,b){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&Bo(s,c,b,!0),c=Bn.current,c!==null){switch(c.tag){case 31:case 13:return ir===null?Zc():c.alternate===null&&vt===0&&(vt=3),c.flags&=-257,c.flags|=65536,c.lanes=b,p===Rc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),Fm(a,p,b)),!1;case 22:return c.flags|=65536,p===Rc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),Fm(a,p,b)),!1}throw Error(r(435,c.tag))}return Fm(a,p,b),Zc(),!1}if(Le)return s=Bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==zp&&(a=Error(r(422),{cause:p}),dl(er(a,c)))):(p!==zp&&(s=Error(r(423),{cause:p}),dl(er(s,c))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,p=er(p,c),b=wm(a.stateNode,p,b),Xp(a,b),vt!==4&&(vt=2)),!1;var w=Error(r(520),{cause:p});if(w=er(w,c),Il===null?Il=[w]:Il.push(w),vt!==4&&(vt=2),s===null)return!0;p=er(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=b&-b,c.lanes|=a,a=wm(c.stateNode,p,a),Xp(c,a),!1;case 1:if(s=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ea===null||!ea.has(w))))return c.flags|=65536,b&=-b,c.lanes|=b,b=vE(b),gE(b,a,c,p),Xp(c,b),!1}c=c.return}while(c!==null);return!1}var Sm=Error(r(461)),Ct=!1;function tn(a,s,c,p){s.child=a===null?wS(s,null,c,p):La(s,a.child,c,p)}function yE(a,s,c,p,b){c=c.render;var w=s.ref;if("ref"in p){var A={};for(var P in p)P!=="ref"&&(A[P]=p[P])}else A=p;return Na(s),p=rm(a,s,c,A,w,b),P=im(),a!==null&&!Ct?(am(a,s,b),ii(a,s,b)):(Le&&P&&Bp(s),s.flags|=1,tn(a,s,p,b),s.child)}function bE(a,s,c,p,b){if(a===null){var w=c.type;return typeof w=="function"&&!kp(w)&&w.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=w,_E(a,s,w,p,b)):(a=Sc(c.type,null,p,s,s.mode,b),a.ref=s.ref,a.return=s,s.child=a)}if(w=a.child,!Pm(a,b)){var A=w.memoizedProps;if(c=c.compare,c=c!==null?c:ul,c(A,p)&&a.ref===s.ref)return ii(a,s,b)}return s.flags|=1,a=Qr(w,p),a.ref=s.ref,a.return=s,s.child=a}function _E(a,s,c,p,b){if(a!==null){var w=a.memoizedProps;if(ul(w,p)&&a.ref===s.ref)if(Ct=!1,s.pendingProps=p=w,Pm(a,b))(a.flags&131072)!==0&&(Ct=!0);else return s.lanes=a.lanes,ii(a,s,b)}return Em(a,s,c,p,b)}function wE(a,s,c,p){var b=p.children,w=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,a!==null){for(p=s.child=a.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~w}else p=0,s.child=null;return SE(a,s,w,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&xc(s,w!==null?w.cachePool:null),w!==null?TS(s,w):Zp(),AS(s);else return p=s.lanes=536870912,SE(a,s,w!==null?w.baseLanes|c:c,c,p)}else w!==null?(xc(s,w.cachePool),TS(s,w),Wi(),s.memoizedState=null):(a!==null&&xc(s,null),Zp(),Wi());return tn(a,s,b,c),s.child}function Tl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function SE(a,s,c,p,b){var w=Kp();return w=w===null?null:{parent:At._currentValue,pool:w},s.memoizedState={baseLanes:c,cachePool:w},a!==null&&xc(s,null),Zp(),AS(s),a!==null&&Bo(a,s,p,!0),s.childLanes=b,null}function Hc(a,s){return s=jc({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function EE(a,s,c){return La(s,a.child,null,c),a=Hc(s,s.pendingProps),a.flags|=2,qn(s),s.memoizedState=null,a}function JL(a,s,c){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Le){if(p.mode==="hidden")return a=Hc(s,p),s.lanes=536870912,Tl(null,a);if(tm(s),(a=rt)?(a=kT(a,rr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Hi!==null?{id:Ur,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},c=oS(a),c.return=s,s.child=c,Zt=s,rt=null)):a=null,a===null)throw ji(s);return s.lanes=536870912,null}return Hc(s,p)}var w=a.memoizedState;if(w!==null){var A=w.dehydrated;if(tm(s),b)if(s.flags&256)s.flags&=-257,s=EE(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ct||Bo(a,s,c,!1),b=(c&a.childLanes)!==0,Ct||b){if(p=Qe,p!==null&&(A=hw(p,c),A!==0&&A!==w.retryLane))throw w.retryLane=A,Oa(a,A),On(p,a,A),Sm;Zc(),s=EE(a,s,c)}else a=w.treeContext,rt=ar(A.nextSibling),Zt=s,Le=!0,Gi=null,rr=!1,a!==null&&uS(s,a),s=Hc(s,p),s.flags|=4096;return s}return a=Qr(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Gc(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Em(a,s,c,p,b){return Na(s),c=rm(a,s,c,p,void 0,b),p=im(),a!==null&&!Ct?(am(a,s,b),ii(a,s,b)):(Le&&p&&Bp(s),s.flags|=1,tn(a,s,c,b),s.child)}function TE(a,s,c,p,b,w){return Na(s),s.updateQueue=null,c=CS(s,p,c,b),xS(a),p=im(),a!==null&&!Ct?(am(a,s,w),ii(a,s,w)):(Le&&p&&Bp(s),s.flags|=1,tn(a,s,c,w),s.child)}function AE(a,s,c,p,b){if(Na(s),s.stateNode===null){var w=Do,A=c.contextType;typeof A=="object"&&A!==null&&(w=en(A)),w=new c(p,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=_m,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=p,w.state=s.memoizedState,w.refs={},Jp(s),A=c.contextType,w.context=typeof A=="object"&&A!==null?en(A):Do,w.state=s.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(bm(s,c,A,p),w.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(A=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),A!==w.state&&_m.enqueueReplaceState(w,w.state,null),bl(s,p,w,b),yl(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){w=s.stateNode;var P=s.memoizedProps,U=qa(c,P);w.props=U;var j=w.context,X=c.contextType;A=Do,typeof X=="object"&&X!==null&&(A=en(X));var re=c.getDerivedStateFromProps;X=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,X||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P||j!==A)&&fE(s,w,p,A),Fi=!1;var F=s.memoizedState;w.state=F,bl(s,p,w,b),yl(),j=s.memoizedState,P||F!==j||Fi?(typeof re=="function"&&(bm(s,c,re,p),j=s.memoizedState),(U=Fi||cE(s,c,U,p,F,j,A))?(X||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=j),w.props=p,w.state=j,w.context=A,p=U):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{w=s.stateNode,Wp(a,s),A=s.memoizedProps,X=qa(c,A),w.props=X,re=s.pendingProps,F=w.context,j=c.contextType,U=Do,typeof j=="object"&&j!==null&&(U=en(j)),P=c.getDerivedStateFromProps,(j=typeof P=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==re||F!==U)&&fE(s,w,p,U),Fi=!1,F=s.memoizedState,w.state=F,bl(s,p,w,b),yl();var Y=s.memoizedState;A!==re||F!==Y||Fi||a!==null&&a.dependencies!==null&&Tc(a.dependencies)?(typeof P=="function"&&(bm(s,c,P,p),Y=s.memoizedState),(X=Fi||cE(s,c,X,p,F,Y,U)||a!==null&&a.dependencies!==null&&Tc(a.dependencies))?(j||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,Y,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,Y,U)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===a.memoizedProps&&F===a.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&F===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Y),w.props=p,w.state=Y,w.context=U,p=X):(typeof w.componentDidUpdate!="function"||A===a.memoizedProps&&F===a.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&F===a.memoizedState||(s.flags|=1024),p=!1)}return w=p,Gc(a,s),p=(s.flags&128)!==0,w||p?(w=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,a!==null&&p?(s.child=La(s,a.child,null,b),s.child=La(s,null,c,b)):tn(a,s,c,b),s.memoizedState=w.state,a=s.child):a=ii(a,s,b),a}function xE(a,s,c,p){return Ia(),s.flags|=256,tn(a,s,c,p),s.child}var Tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Am(a){return{baseLanes:a,cachePool:mS()}}function xm(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=$n),a}function CE(a,s,c){var p=s.pendingProps,b=!1,w=(s.flags&128)!==0,A;if((A=w)||(A=a!==null&&a.memoizedState===null?!1:(_t.current&2)!==0),A&&(b=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,a===null){if(Le){if(b?Ji(s):Wi(),(a=rt)?(a=kT(a,rr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Hi!==null?{id:Ur,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},c=oS(a),c.return=s,s.child=c,Zt=s,rt=null)):a=null,a===null)throw ji(s);return lv(a)?s.lanes=32:s.lanes=536870912,null}var P=p.children;return p=p.fallback,b?(Wi(),b=s.mode,P=jc({mode:"hidden",children:P},b),p=Pa(p,b,c,null),P.return=s,p.return=s,P.sibling=p,s.child=P,p=s.child,p.memoizedState=Am(c),p.childLanes=xm(a,A,c),s.memoizedState=Tm,Tl(null,p)):(Ji(s),Cm(s,P))}var U=a.memoizedState;if(U!==null&&(P=U.dehydrated,P!==null)){if(w)s.flags&256?(Ji(s),s.flags&=-257,s=Rm(a,s,c)):s.memoizedState!==null?(Wi(),s.child=a.child,s.flags|=128,s=null):(Wi(),P=p.fallback,b=s.mode,p=jc({mode:"visible",children:p.children},b),P=Pa(P,b,c,null),P.flags|=2,p.return=s,P.return=s,p.sibling=P,s.child=p,La(s,a.child,null,c),p=s.child,p.memoizedState=Am(c),p.childLanes=xm(a,A,c),s.memoizedState=Tm,s=Tl(null,p));else if(Ji(s),lv(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var j=A.dgst;A=j,p=Error(r(419)),p.stack="",p.digest=A,dl({value:p,source:null,stack:null}),s=Rm(a,s,c)}else if(Ct||Bo(a,s,c,!1),A=(c&a.childLanes)!==0,Ct||A){if(A=Qe,A!==null&&(p=hw(A,c),p!==0&&p!==U.retryLane))throw U.retryLane=p,Oa(a,p),On(A,a,p),Sm;sv(P)||Zc(),s=Rm(a,s,c)}else sv(P)?(s.flags|=192,s.child=a.child,s=null):(a=U.treeContext,rt=ar(P.nextSibling),Zt=s,Le=!0,Gi=null,rr=!1,a!==null&&uS(s,a),s=Cm(s,p.children),s.flags|=4096);return s}return b?(Wi(),P=p.fallback,b=s.mode,U=a.child,j=U.sibling,p=Qr(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,j!==null?P=Qr(j,P):(P=Pa(P,b,c,null),P.flags|=2),P.return=s,p.return=s,p.sibling=P,s.child=p,Tl(null,p),p=s.child,P=a.child.memoizedState,P===null?P=Am(c):(b=P.cachePool,b!==null?(U=At._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=mS(),P={baseLanes:P.baseLanes|c,cachePool:b}),p.memoizedState=P,p.childLanes=xm(a,A,c),s.memoizedState=Tm,Tl(a.child,p)):(Ji(s),c=a.child,a=c.sibling,c=Qr(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,a!==null&&(A=s.deletions,A===null?(s.deletions=[a],s.flags|=16):A.push(a)),s.child=c,s.memoizedState=null,c)}function Cm(a,s){return s=jc({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function jc(a,s){return a=Ln(22,a,null,s),a.lanes=0,a}function Rm(a,s,c){return La(s,a.child,null,c),a=Cm(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function RE(a,s,c){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),Gp(a.return,s,c)}function Om(a,s,c,p,b,w){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b,treeForkCount:w}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=c,A.tailMode=b,A.treeForkCount=w)}function OE(a,s,c){var p=s.pendingProps,b=p.revealOrder,w=p.tail;p=p.children;var A=_t.current,P=(A&2)!==0;if(P?(A=A&1|2,s.flags|=128):A&=1,ie(_t,A),tn(a,s,p,c),p=Le?fl:0,!P&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&RE(a,c,s);else if(a.tag===19)RE(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(c=s.child,b=null;c!==null;)a=c.alternate,a!==null&&Mc(a)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),Om(s,!1,b,c,w,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(a=b.alternate,a!==null&&Mc(a)===null){s.child=b;break}a=b.sibling,b.sibling=c,c=b,b=a}Om(s,!0,c,null,w,p);break;case"together":Om(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function ii(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Zi|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Bo(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=Qr(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Qr(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Pm(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Tc(a)))}function WL(a,s,c){switch(s.tag){case 3:pt(s,s.stateNode.containerInfo),Vi(s,At,a.memoizedState.cache),Ia();break;case 27:case 5:xe(s);break;case 4:pt(s,s.stateNode.containerInfo);break;case 10:Vi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,tm(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Ji(s),s.flags|=128,null):(c&s.child.childLanes)!==0?CE(a,s,c):(Ji(s),a=ii(a,s,c),a!==null?a.sibling:null);Ji(s);break;case 19:var b=(a.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(Bo(a,s,c,!1),p=(c&s.childLanes)!==0),b){if(p)return OE(a,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ie(_t,_t.current),p)break;return null;case 22:return s.lanes=0,wE(a,s,c,s.pendingProps);case 24:Vi(s,At,a.memoizedState.cache)}return ii(a,s,c)}function PE(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Ct=!0;else{if(!Pm(a,c)&&(s.flags&128)===0)return Ct=!1,WL(a,s,c);Ct=(a.flags&131072)!==0}else Ct=!1,Le&&(s.flags&1048576)!==0&&lS(s,fl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=ka(s.elementType),s.type=a,typeof a=="function")kp(a)?(p=qa(a,p),s.tag=1,s=AE(null,s,a,p,c)):(s.tag=0,s=Em(null,s,a,p,c));else{if(a!=null){var b=a.$$typeof;if(b===I){s.tag=11,s=yE(null,s,a,p,c);break e}else if(b===k){s.tag=14,s=bE(null,s,a,p,c);break e}}throw s=fe(a)||a,Error(r(306,s,""))}}return s;case 0:return Em(a,s,s.type,s.pendingProps,c);case 1:return p=s.type,b=qa(p,s.pendingProps),AE(a,s,p,b,c);case 3:e:{if(pt(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var w=s.memoizedState;b=w.element,Wp(a,s),bl(s,p,null,c);var A=s.memoizedState;if(p=A.cache,Vi(s,At,p),p!==w.cache&&jp(s,[At],c,!0),yl(),p=A.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=xE(a,s,p,c);break e}else if(p!==b){b=er(Error(r(424)),s),dl(b),s=xE(a,s,p,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(rt=ar(a.firstChild),Zt=s,Le=!0,Gi=null,rr=!0,c=wS(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ia(),p===b){s=ii(a,s,c);break e}tn(a,s,p,c)}s=s.child}return s;case 26:return Gc(a,s),a===null?(c=$T(s.type,null,s.pendingProps,null))?s.memoizedState=c:Le||(c=s.type,a=s.pendingProps,p=sf(Ae.current).createElement(c),p[Qt]=s,p[En]=a,nn(p,c,a),Ht(p),s.stateNode=p):s.memoizedState=$T(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return xe(s),a===null&&Le&&(p=s.stateNode=BT(s.type,s.pendingProps,Ae.current),Zt=s,rr=!0,b=rt,ia(s.type)?(uv=b,rt=ar(p.firstChild)):rt=b),tn(a,s,s.pendingProps.children,c),Gc(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Le&&((b=p=rt)&&(p=xB(p,s.type,s.pendingProps,rr),p!==null?(s.stateNode=p,Zt=s,rt=ar(p.firstChild),rr=!1,b=!0):b=!1),b||ji(s)),xe(s),b=s.type,w=s.pendingProps,A=a!==null?a.memoizedProps:null,p=w.children,iv(b,w)?p=null:A!==null&&iv(b,A)&&(s.flags|=32),s.memoizedState!==null&&(b=rm(a,s,$L,null,null,c),ql._currentValue=b),Gc(a,s),tn(a,s,p,c),s.child;case 6:return a===null&&Le&&((a=c=rt)&&(c=CB(c,s.pendingProps,rr),c!==null?(s.stateNode=c,Zt=s,rt=null,a=!0):a=!1),a||ji(s)),null;case 13:return CE(a,s,c);case 4:return pt(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=La(s,null,p,c):tn(a,s,p,c),s.child;case 11:return yE(a,s,s.type,s.pendingProps,c);case 7:return tn(a,s,s.pendingProps,c),s.child;case 8:return tn(a,s,s.pendingProps.children,c),s.child;case 12:return tn(a,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Vi(s,s.type,p.value),tn(a,s,p.children,c),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,Na(s),b=en(b),p=p(b),s.flags|=1,tn(a,s,p,c),s.child;case 14:return bE(a,s,s.type,s.pendingProps,c);case 15:return _E(a,s,s.type,s.pendingProps,c);case 19:return OE(a,s,c);case 31:return JL(a,s,c);case 22:return wE(a,s,c,s.pendingProps);case 24:return Na(s),p=en(At),a===null?(b=Kp(),b===null&&(b=Qe,w=Vp(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=c),b=w),s.memoizedState={parent:p,cache:b},Jp(s),Vi(s,At,b)):((a.lanes&c)!==0&&(Wp(a,s),bl(s,null,null,c),yl()),b=a.memoizedState,w=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Vi(s,At,p)):(p=w.cache,Vi(s,At,p),p!==b.cache&&jp(s,[At],c,!0))),tn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ai(a){a.flags|=4}function Im(a,s,c,p,b){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(rT())a.flags|=8192;else throw Ua=Rc,Yp}else a.flags&=-16777217}function IE(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!FT(s))if(rT())a.flags|=8192;else throw Ua=Rc,Yp}function Vc(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?cw():536870912,a.lanes|=s,Wo|=s)}function Al(a,s){if(!Le)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function it(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(s)for(var b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=p,a.childLanes=c,s}function XL(a,s,c){var p=s.pendingProps;switch(qp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return c=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),ti(At),Q(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Lo(s)?ai(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$p())),it(s),null;case 26:var b=s.type,w=s.memoizedState;return a===null?(ai(s),w!==null?(it(s),IE(s,w)):(it(s),Im(s,b,null,p,c))):w?w!==a.memoizedState?(ai(s),it(s),IE(s,w)):(it(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&ai(s),it(s),Im(s,b,a,p,c)),null;case 27:if(Ie(s),c=Ae.current,b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&ai(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return it(s),null}a=le.current,Lo(s)?cS(s):(a=BT(b,p,c),s.stateNode=a,ai(s))}return it(s),null;case 5:if(Ie(s),b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&ai(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return it(s),null}if(w=le.current,Lo(s))cS(s);else{var A=sf(Ae.current);switch(w){case 1:w=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=A.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?A.createElement("select",{is:p.is}):A.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?A.createElement(b,{is:p.is}):A.createElement(b)}}w[Qt]=s,w[En]=p;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)w.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=w;e:switch(nn(w,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ai(s)}}return it(s),Im(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&ai(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=Ae.current,Lo(s)){if(a=s.stateNode,c=s.memoizedProps,p=null,b=Zt,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}a[Qt]=s,a=!!(a.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||CT(a.nodeValue,c)),a||ji(s,!0)}else a=sf(a).createTextNode(p),a[Qt]=s,s.stateNode=a}return it(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(p=Lo(s),c!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Qt]=s}else Ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),a=!1}else c=$p(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(qn(s),s):(qn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return it(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Lo(s),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Qt]=s}else Ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),b=!1}else b=$p(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(qn(s),s):(qn(s),null)}return qn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,a=a!==null&&a.memoizedState!==null,c&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==b&&(p.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),Vc(s,s.updateQueue),it(s),null);case 4:return Q(),a===null&&Zm(s.stateNode.containerInfo),it(s),null;case 10:return ti(s.type),it(s),null;case 19:if(K(_t),p=s.memoizedState,p===null)return it(s),null;if(b=(s.flags&128)!==0,w=p.rendering,w===null)if(b)Al(p,!1);else{if(vt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(w=Mc(a),w!==null){for(s.flags|=128,Al(p,!1),a=w.updateQueue,s.updateQueue=a,Vc(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)aS(c,a),c=c.sibling;return ie(_t,_t.current&1|2),Le&&Zr(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&Nn()>Wc&&(s.flags|=128,b=!0,Al(p,!1),s.lanes=4194304)}else{if(!b)if(a=Mc(w),a!==null){if(s.flags|=128,b=!0,a=a.updateQueue,s.updateQueue=a,Vc(s,a),Al(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Le)return it(s),null}else 2*Nn()-p.renderingStartTime>Wc&&c!==536870912&&(s.flags|=128,b=!0,Al(p,!1),s.lanes=4194304);p.isBackwards?(w.sibling=s.child,s.child=w):(a=p.last,a!==null?a.sibling=w:s.child=w,p.last=w)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Nn(),a.sibling=null,c=_t.current,ie(_t,b?c&1|2:c&1),Le&&Zr(s,p.treeForkCount),a):(it(s),null);case 22:case 23:return qn(s),em(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),c=s.updateQueue,c!==null&&Vc(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),a!==null&&K(Da),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ti(At),it(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function QL(a,s){switch(qp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ti(At),Q(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ie(s),null;case 31:if(s.memoizedState!==null){if(qn(s),s.alternate===null)throw Error(r(340));Ia()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(qn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ia()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return K(_t),null;case 4:return Q(),null;case 10:return ti(s.type),null;case 22:case 23:return qn(s),em(),a!==null&&K(Da),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ti(At),null;case 25:return null;default:return null}}function ME(a,s){switch(qp(s),s.tag){case 3:ti(At),Q();break;case 26:case 27:case 5:Ie(s);break;case 4:Q();break;case 31:s.memoizedState!==null&&qn(s);break;case 13:qn(s);break;case 19:K(_t);break;case 10:ti(s.type);break;case 22:case 23:qn(s),em(),a!==null&&K(Da);break;case 24:ti(At)}}function xl(a,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&a)===a){p=void 0;var w=c.create,A=c.inst;p=w(),A.destroy=p}c=c.next}while(c!==b)}}catch(P){Ve(s,s.return,P)}}function Xi(a,s,c){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var w=b.next;p=w;do{if((p.tag&a)===a){var A=p.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,b=s;var U=c,j=P;try{j()}catch(X){Ve(b,U,X)}}}p=p.next}while(p!==w)}}catch(X){Ve(s,s.return,X)}}function NE(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{ES(s,c)}catch(p){Ve(a,a.return,p)}}}function DE(a,s,c){c.props=qa(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(p){Ve(a,s,p)}}function Cl(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof c=="function"?a.refCleanup=c(p):c.current=p}}catch(b){Ve(a,s,b)}}function Br(a,s){var c=a.ref,p=a.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(b){Ve(a,s,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){Ve(a,s,b)}else c.current=null}function kE(a){var s=a.type,c=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(b){Ve(a,a.return,b)}}function Mm(a,s,c){try{var p=a.stateNode;_B(p,a.type,c,s),p[En]=s}catch(b){Ve(a,a.return,b)}}function UE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ia(a.type)||a.tag===4}function Nm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||UE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ia(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Dm(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Wr));else if(p!==4&&(p===27&&ia(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(Dm(a,s,c),a=a.sibling;a!==null;)Dm(a,s,c),a=a.sibling}function Fc(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(p!==4&&(p===27&&ia(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Fc(a,s,c),a=a.sibling;a!==null;)Fc(a,s,c),a=a.sibling}function LE(a){var s=a.stateNode,c=a.memoizedProps;try{for(var p=a.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);nn(s,p,c),s[Qt]=a,s[En]=c}catch(w){Ve(a,a.return,w)}}var oi=!1,Rt=!1,km=!1,BE=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function ZL(a,s){if(a=a.containerInfo,nv=pf,a=Ww(a),Rp(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var A=0,P=-1,U=-1,j=0,X=0,re=a,F=null;t:for(;;){for(var Y;re!==c||b!==0&&re.nodeType!==3||(P=A+b),re!==w||p!==0&&re.nodeType!==3||(U=A+p),re.nodeType===3&&(A+=re.nodeValue.length),(Y=re.firstChild)!==null;)F=re,re=Y;for(;;){if(re===a)break t;if(F===c&&++j===b&&(P=A),F===w&&++X===p&&(U=A),(Y=re.nextSibling)!==null)break;re=F,F=re.parentNode}re=Y}c=P===-1||U===-1?null:{start:P,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(rv={focusedElem:a,selectionRange:c},pf=!1,Gt=s;Gt!==null;)if(s=Gt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Gt=a;else for(;Gt!==null;){switch(s=Gt,w=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)b=a[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,c=s,b=w.memoizedProps,w=w.memoizedState,p=c.stateNode;try{var he=qa(c.type,b);a=p.getSnapshotBeforeUpdate(he,w),p.__reactInternalSnapshotBeforeUpdate=a}catch(we){Ve(c,c.return,we)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)ov(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ov(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Gt=a;break}Gt=s.return}}function qE(a,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:li(a,c),p&4&&xl(5,c);break;case 1:if(li(a,c),p&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(A){Ve(c,c.return,A)}else{var b=qa(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(b,s,a.__reactInternalSnapshotBeforeUpdate)}catch(A){Ve(c,c.return,A)}}p&64&&NE(c),p&512&&Cl(c,c.return);break;case 3:if(li(a,c),p&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{ES(a,s)}catch(A){Ve(c,c.return,A)}}break;case 27:s===null&&p&4&&LE(c);case 26:case 5:li(a,c),s===null&&p&4&&kE(c),p&512&&Cl(c,c.return);break;case 12:li(a,c);break;case 31:li(a,c),p&4&&HE(a,c);break;case 13:li(a,c),p&4&&GE(a,c),p&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=lB.bind(null,c),RB(a,c))));break;case 22:if(p=c.memoizedState!==null||oi,!p){s=s!==null&&s.memoizedState!==null||Rt,b=oi;var w=Rt;oi=p,(Rt=s)&&!w?ui(a,c,(c.subtreeFlags&8772)!==0):li(a,c),oi=b,Rt=w}break;case 30:break;default:li(a,c)}}function zE(a){var s=a.alternate;s!==null&&(a.alternate=null,zE(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&fp(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var st=null,An=!1;function si(a,s,c){for(c=c.child;c!==null;)$E(a,s,c),c=c.sibling}function $E(a,s,c){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(Xs,c)}catch{}switch(c.tag){case 26:Rt||Br(c,s),si(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Rt||Br(c,s);var p=st,b=An;ia(c.type)&&(st=c.stateNode,An=!1),si(a,s,c),Ul(c.stateNode),st=p,An=b;break;case 5:Rt||Br(c,s);case 6:if(p=st,b=An,st=null,si(a,s,c),st=p,An=b,st!==null)if(An)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(c.stateNode)}catch(w){Ve(c,s,w)}else try{st.removeChild(c.stateNode)}catch(w){Ve(c,s,w)}break;case 18:st!==null&&(An?(a=st,NT(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),is(a)):NT(st,c.stateNode));break;case 4:p=st,b=An,st=c.stateNode.containerInfo,An=!0,si(a,s,c),st=p,An=b;break;case 0:case 11:case 14:case 15:Xi(2,c,s),Rt||Xi(4,c,s),si(a,s,c);break;case 1:Rt||(Br(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&DE(c,s,p)),si(a,s,c);break;case 21:si(a,s,c);break;case 22:Rt=(p=Rt)||c.memoizedState!==null,si(a,s,c),Rt=p;break;default:si(a,s,c)}}function HE(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{is(a)}catch(c){Ve(s,s.return,c)}}}function GE(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{is(a)}catch(c){Ve(s,s.return,c)}}function eB(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new BE),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new BE),s;default:throw Error(r(435,a.tag))}}function Kc(a,s){var c=eB(a);s.forEach(function(p){if(!c.has(p)){c.add(p);var b=uB.bind(null,a,p);p.then(b,b)}})}function xn(a,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p],w=a,A=s,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(ia(P.type)){st=P.stateNode,An=!1;break e}break;case 5:st=P.stateNode,An=!1;break e;case 3:case 4:st=P.stateNode.containerInfo,An=!0;break e}P=P.return}if(st===null)throw Error(r(160));$E(w,A,b),st=null,An=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)jE(s,a),s=s.sibling}var br=null;function jE(a,s){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:xn(s,a),Cn(a),p&4&&(Xi(3,a,a.return),xl(3,a),Xi(5,a,a.return));break;case 1:xn(s,a),Cn(a),p&512&&(Rt||c===null||Br(c,c.return)),p&64&&oi&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var b=br;if(xn(s,a),Cn(a),p&512&&(Rt||c===null||Br(c,c.return)),p&4){var w=c!==null?c.memoizedState:null;if(p=a.memoizedState,c===null)if(p===null)if(a.stateNode===null){e:{p=a.type,c=a.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":w=b.getElementsByTagName("title")[0],(!w||w[el]||w[Qt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(p),b.head.insertBefore(w,b.querySelector("head > title"))),nn(w,p,c),w[Qt]=a,Ht(w),p=w;break e;case"link":var A=jT("link","href",b).get(p+(c.href||""));if(A){for(var P=0;P<A.length;P++)if(w=A[P],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(P,1);break t}}w=b.createElement(p),nn(w,p,c),b.head.appendChild(w);break;case"meta":if(A=jT("meta","content",b).get(p+(c.content||""))){for(P=0;P<A.length;P++)if(w=A[P],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(P,1);break t}}w=b.createElement(p),nn(w,p,c),b.head.appendChild(w);break;default:throw Error(r(468,p))}w[Qt]=a,Ht(w),p=w}a.stateNode=p}else VT(b,a.type,a.stateNode);else a.stateNode=GT(b,p,a.memoizedProps);else w!==p?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,p===null?VT(b,a.type,a.stateNode):GT(b,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Mm(a,a.memoizedProps,c.memoizedProps)}break;case 27:xn(s,a),Cn(a),p&512&&(Rt||c===null||Br(c,c.return)),c!==null&&p&4&&Mm(a,a.memoizedProps,c.memoizedProps);break;case 5:if(xn(s,a),Cn(a),p&512&&(Rt||c===null||Br(c,c.return)),a.flags&32){b=a.stateNode;try{Co(b,"")}catch(he){Ve(a,a.return,he)}}p&4&&a.stateNode!=null&&(b=a.memoizedProps,Mm(a,b,c!==null?c.memoizedProps:b)),p&1024&&(km=!0);break;case 6:if(xn(s,a),Cn(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,c=a.stateNode;try{c.nodeValue=p}catch(he){Ve(a,a.return,he)}}break;case 3:if(cf=null,b=br,br=lf(s.containerInfo),xn(s,a),br=b,Cn(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{is(s.containerInfo)}catch(he){Ve(a,a.return,he)}km&&(km=!1,VE(a));break;case 4:p=br,br=lf(a.stateNode.containerInfo),xn(s,a),Cn(a),br=p;break;case 12:xn(s,a),Cn(a);break;case 31:xn(s,a),Cn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Kc(a,p)));break;case 13:xn(s,a),Cn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Jc=Nn()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Kc(a,p)));break;case 22:b=a.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,j=oi,X=Rt;if(oi=j||b,Rt=X||U,xn(s,a),Rt=X,oi=j,Cn(a),p&8192)e:for(s=a.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(c===null||U||oi||Rt||za(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){U=c=s;try{if(w=U.stateNode,b)A=w.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=U.stateNode;var re=U.memoizedProps.style,F=re!=null&&re.hasOwnProperty("display")?re.display:null;P.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){Ve(U,U.return,he)}}}else if(s.tag===6){if(c===null){U=s;try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(he){Ve(U,U.return,he)}}}else if(s.tag===18){if(c===null){U=s;try{var Y=U.stateNode;b?DT(Y,!0):DT(U.stateNode,!1)}catch(he){Ve(U,U.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,Kc(a,c))));break;case 19:xn(s,a),Cn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Kc(a,p)));break;case 30:break;case 21:break;default:xn(s,a),Cn(a)}}function Cn(a){var s=a.flags;if(s&2){try{for(var c,p=a.return;p!==null;){if(UE(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,w=Nm(a);Fc(a,w,b);break;case 5:var A=c.stateNode;c.flags&32&&(Co(A,""),c.flags&=-33);var P=Nm(a);Fc(a,P,A);break;case 3:case 4:var U=c.stateNode.containerInfo,j=Nm(a);Dm(a,j,U);break;default:throw Error(r(161))}}catch(X){Ve(a,a.return,X)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function VE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;VE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function li(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)qE(a,s.alternate,s),s=s.sibling}function za(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Xi(4,s,s.return),za(s);break;case 1:Br(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&DE(s,s.return,c),za(s);break;case 27:Ul(s.stateNode);case 26:case 5:Br(s,s.return),za(s);break;case 22:s.memoizedState===null&&za(s);break;case 30:za(s);break;default:za(s)}a=a.sibling}}function ui(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=a,w=s,A=w.flags;switch(w.tag){case 0:case 11:case 15:ui(b,w,c),xl(4,w);break;case 1:if(ui(b,w,c),p=w,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(j){Ve(p,p.return,j)}if(p=w,b=p.updateQueue,b!==null){var P=p.stateNode;try{var U=b.shared.hiddenCallbacks;if(U!==null)for(b.shared.hiddenCallbacks=null,b=0;b<U.length;b++)SS(U[b],P)}catch(j){Ve(p,p.return,j)}}c&&A&64&&NE(w),Cl(w,w.return);break;case 27:LE(w);case 26:case 5:ui(b,w,c),c&&p===null&&A&4&&kE(w),Cl(w,w.return);break;case 12:ui(b,w,c);break;case 31:ui(b,w,c),c&&A&4&&HE(b,w);break;case 13:ui(b,w,c),c&&A&4&&GE(b,w);break;case 22:w.memoizedState===null&&ui(b,w,c),Cl(w,w.return);break;case 30:break;default:ui(b,w,c)}s=s.sibling}}function Um(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&hl(c))}function Lm(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&hl(a))}function _r(a,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)FE(a,s,c,p),s=s.sibling}function FE(a,s,c,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:_r(a,s,c,p),b&2048&&xl(9,s);break;case 1:_r(a,s,c,p);break;case 3:_r(a,s,c,p),b&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&hl(a)));break;case 12:if(b&2048){_r(a,s,c,p),a=s.stateNode;try{var w=s.memoizedProps,A=w.id,P=w.onPostCommit;typeof P=="function"&&P(A,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){Ve(s,s.return,U)}}else _r(a,s,c,p);break;case 31:_r(a,s,c,p);break;case 13:_r(a,s,c,p);break;case 23:break;case 22:w=s.stateNode,A=s.alternate,s.memoizedState!==null?w._visibility&2?_r(a,s,c,p):Rl(a,s):w._visibility&2?_r(a,s,c,p):(w._visibility|=2,Ko(a,s,c,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&Um(A,s);break;case 24:_r(a,s,c,p),b&2048&&Lm(s.alternate,s);break;default:_r(a,s,c,p)}}function Ko(a,s,c,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var w=a,A=s,P=c,U=p,j=A.flags;switch(A.tag){case 0:case 11:case 15:Ko(w,A,P,U,b),xl(8,A);break;case 23:break;case 22:var X=A.stateNode;A.memoizedState!==null?X._visibility&2?Ko(w,A,P,U,b):Rl(w,A):(X._visibility|=2,Ko(w,A,P,U,b)),b&&j&2048&&Um(A.alternate,A);break;case 24:Ko(w,A,P,U,b),b&&j&2048&&Lm(A.alternate,A);break;default:Ko(w,A,P,U,b)}s=s.sibling}}function Rl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,p=s,b=p.flags;switch(p.tag){case 22:Rl(c,p),b&2048&&Um(p.alternate,p);break;case 24:Rl(c,p),b&2048&&Lm(p.alternate,p);break;default:Rl(c,p)}s=s.sibling}}var Ol=8192;function Yo(a,s,c){if(a.subtreeFlags&Ol)for(a=a.child;a!==null;)KE(a,s,c),a=a.sibling}function KE(a,s,c){switch(a.tag){case 26:Yo(a,s,c),a.flags&Ol&&a.memoizedState!==null&&zB(c,br,a.memoizedState,a.memoizedProps);break;case 5:Yo(a,s,c);break;case 3:case 4:var p=br;br=lf(a.stateNode.containerInfo),Yo(a,s,c),br=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Ol,Ol=16777216,Yo(a,s,c),Ol=p):Yo(a,s,c));break;default:Yo(a,s,c)}}function YE(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Pl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Gt=p,WE(p,a)}YE(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)JE(a),a=a.sibling}function JE(a){switch(a.tag){case 0:case 11:case 15:Pl(a),a.flags&2048&&Xi(9,a,a.return);break;case 3:Pl(a);break;case 12:Pl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Yc(a)):Pl(a);break;default:Pl(a)}}function Yc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Gt=p,WE(p,a)}YE(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Xi(8,s,s.return),Yc(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Yc(s));break;default:Yc(s)}a=a.sibling}}function WE(a,s){for(;Gt!==null;){var c=Gt;switch(c.tag){case 0:case 11:case 15:Xi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:hl(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,Gt=p;else e:for(c=a;Gt!==null;){p=Gt;var b=p.sibling,w=p.return;if(zE(p),p===c){Gt=null;break e}if(b!==null){b.return=w,Gt=b;break e}Gt=w}}}var tB={getCacheForType:function(a){var s=en(At),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return en(At).controller.signal}},nB=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Qe=null,Ne=null,ke=0,je=0,zn=null,Qi=!1,Jo=!1,Bm=!1,ci=0,vt=0,Zi=0,$a=0,qm=0,$n=0,Wo=0,Il=null,Rn=null,zm=!1,Jc=0,XE=0,Wc=1/0,Xc=null,ea=null,Nt=0,ta=null,Xo=null,fi=0,$m=0,Hm=null,QE=null,Ml=0,Gm=null;function Hn(){return(Ge&2)!==0&&ke!==0?ke&-ke:$.T!==null?Jm():pw()}function ZE(){if($n===0)if((ke&536870912)===0||Le){var a=ac;ac<<=1,(ac&3932160)===0&&(ac=262144),$n=a}else $n=536870912;return a=Bn.current,a!==null&&(a.flags|=32),$n}function On(a,s,c){(a===Qe&&(je===2||je===9)||a.cancelPendingCommit!==null)&&(Qo(a,0),na(a,ke,$n,!1)),Zs(a,c),((Ge&2)===0||a!==Qe)&&(a===Qe&&((Ge&2)===0&&($a|=c),vt===4&&na(a,ke,$n,!1)),qr(a))}function eT(a,s,c){if((Ge&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&a.expiredLanes)===0||Qs(a,s),b=p?aB(a,s):Vm(a,s,!0),w=p;do{if(b===0){Jo&&!p&&na(a,s,0,!1);break}else{if(c=a.current.alternate,w&&!rB(c)){b=Vm(a,s,!1),w=!1;continue}if(b===2){if(w=s,a.errorRecoveryDisabledLanes&w)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var P=a;b=Il;var U=P.current.memoizedState.isDehydrated;if(U&&(Qo(P,A).flags|=256),A=Vm(P,A,!1),A!==2){if(Bm&&!U){P.errorRecoveryDisabledLanes|=w,$a|=w,b=4;break e}w=Rn,Rn=b,w!==null&&(Rn===null?Rn=w:Rn.push.apply(Rn,w))}b=A}if(w=!1,b!==2)continue}}if(b===1){Qo(a,0),na(a,s,0,!0);break}e:{switch(p=a,w=b,w){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:na(p,s,$n,!Qi);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=Jc+300-Nn(),10<b)){if(na(p,s,$n,!Qi),sc(p,0,!0)!==0)break e;fi=s,p.timeoutHandle=IT(tT.bind(null,p,c,Rn,Xc,zm,s,$n,$a,Wo,Qi,w,"Throttled",-0,0),b);break e}tT(p,c,Rn,Xc,zm,s,$n,$a,Wo,Qi,w,null,-0,0)}}break}while(!0);qr(a)}function tT(a,s,c,p,b,w,A,P,U,j,X,re,F,Y){if(a.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wr},KE(s,w,re);var he=(w&62914560)===w?Jc-Nn():(w&4194048)===w?XE-Nn():0;if(he=$B(re,he),he!==null){fi=w,a.cancelPendingCommit=he(uT.bind(null,a,s,w,c,p,b,A,P,U,X,re,null,F,Y)),na(a,w,A,!j);return}}uT(a,s,w,c,p,b,A,P,U)}function rB(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var b=c[p],w=b.getSnapshot;b=b.value;try{if(!Un(w(),b))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function na(a,s,c,p){s&=~qm,s&=~$a,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var b=s;0<b;){var w=31-kn(b),A=1<<w;p[w]=-1,b&=~A}c!==0&&fw(a,c,s)}function Qc(){return(Ge&6)===0?(Nl(0),!1):!0}function jm(){if(Ne!==null){if(je===0)var a=Ne.return;else a=Ne,ei=Ma=null,om(a),Ho=null,ml=0,a=Ne;for(;a!==null;)ME(a.alternate,a),a=a.return;Ne=null}}function Qo(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,EB(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),fi=0,jm(),Qe=a,Ne=c=Qr(a.current,null),ke=s,je=0,zn=null,Qi=!1,Jo=Qs(a,s),Bm=!1,Wo=$n=qm=$a=Zi=vt=0,Rn=Il=null,zm=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var b=31-kn(p),w=1<<b;s|=a[b],p&=~w}return ci=s,bc(),c}function nT(a,s){Oe=null,$.H=El,s===$o||s===Cc?(s=yS(),je=3):s===Yp?(s=yS(),je=4):je=s===Sm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,Ne===null&&(vt=1,$c(a,er(s,a.current)))}function rT(){var a=Bn.current;return a===null?!0:(ke&4194048)===ke?ir===null:(ke&62914560)===ke||(ke&536870912)!==0?a===ir:!1}function iT(){var a=$.H;return $.H=El,a===null?El:a}function aT(){var a=$.A;return $.A=tB,a}function Zc(){vt=4,Qi||(ke&4194048)!==ke&&Bn.current!==null||(Jo=!0),(Zi&134217727)===0&&($a&134217727)===0||Qe===null||na(Qe,ke,$n,!1)}function Vm(a,s,c){var p=Ge;Ge|=2;var b=iT(),w=aT();(Qe!==a||ke!==s)&&(Xc=null,Qo(a,s)),s=!1;var A=vt;e:do try{if(je!==0&&Ne!==null){var P=Ne,U=zn;switch(je){case 8:jm(),A=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(s=!0);var j=je;if(je=0,zn=null,Zo(a,P,U,j),c&&Jo){A=0;break e}break;default:j=je,je=0,zn=null,Zo(a,P,U,j)}}iB(),A=vt;break}catch(X){nT(a,X)}while(!0);return s&&a.shellSuspendCounter++,ei=Ma=null,Ge=p,$.H=b,$.A=w,Ne===null&&(Qe=null,ke=0,bc()),A}function iB(){for(;Ne!==null;)oT(Ne)}function aB(a,s){var c=Ge;Ge|=2;var p=iT(),b=aT();Qe!==a||ke!==s?(Xc=null,Wc=Nn()+500,Qo(a,s)):Jo=Qs(a,s);e:do try{if(je!==0&&Ne!==null){s=Ne;var w=zn;t:switch(je){case 1:je=0,zn=null,Zo(a,s,w,1);break;case 2:case 9:if(vS(w)){je=0,zn=null,sT(s);break}s=function(){je!==2&&je!==9||Qe!==a||(je=7),qr(a)},w.then(s,s);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:vS(w)?(je=0,zn=null,sT(s)):(je=0,zn=null,Zo(a,s,w,7));break;case 5:var A=null;switch(Ne.tag){case 26:A=Ne.memoizedState;case 5:case 27:var P=Ne;if(A?FT(A):P.stateNode.complete){je=0,zn=null;var U=P.sibling;if(U!==null)Ne=U;else{var j=P.return;j!==null?(Ne=j,ef(j)):Ne=null}break t}}je=0,zn=null,Zo(a,s,w,5);break;case 6:je=0,zn=null,Zo(a,s,w,6);break;case 8:jm(),vt=6;break e;default:throw Error(r(462))}}oB();break}catch(X){nT(a,X)}while(!0);return ei=Ma=null,$.H=p,$.A=b,Ge=c,Ne!==null?0:(Qe=null,ke=0,bc(),vt)}function oB(){for(;Ne!==null&&!O2();)oT(Ne)}function oT(a){var s=PE(a.alternate,a,ci);a.memoizedProps=a.pendingProps,s===null?ef(a):Ne=s}function sT(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=TE(c,s,s.pendingProps,s.type,void 0,ke);break;case 11:s=TE(c,s,s.pendingProps,s.type.render,s.ref,ke);break;case 5:om(s);default:ME(c,s),s=Ne=aS(s,ci),s=PE(c,s,ci)}a.memoizedProps=a.pendingProps,s===null?ef(a):Ne=s}function Zo(a,s,c,p){ei=Ma=null,om(s),Ho=null,ml=0;var b=s.return;try{if(YL(a,b,s,c,ke)){vt=1,$c(a,er(c,a.current)),Ne=null;return}}catch(w){if(b!==null)throw Ne=b,w;vt=1,$c(a,er(c,a.current)),Ne=null;return}s.flags&32768?(Le||p===1?a=!0:Jo||(ke&536870912)!==0?a=!1:(Qi=a=!0,(p===2||p===9||p===3||p===6)&&(p=Bn.current,p!==null&&p.tag===13&&(p.flags|=16384))),lT(s,a)):ef(s)}function ef(a){var s=a;do{if((s.flags&32768)!==0){lT(s,Qi);return}a=s.return;var c=XL(s.alternate,s,ci);if(c!==null){Ne=c;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=a}while(s!==null);vt===0&&(vt=5)}function lT(a,s){do{var c=QL(a.alternate,a);if(c!==null){c.flags&=32767,Ne=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Ne=a;return}Ne=a=c}while(a!==null);vt=6,Ne=null}function uT(a,s,c,p,b,w,A,P,U){a.cancelPendingCommit=null;do tf();while(Nt!==0);if((Ge&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(w=s.lanes|s.childLanes,w|=Np,q2(a,c,w,A,P,U),a===Qe&&(Ne=Qe=null,ke=0),Xo=s,ta=a,fi=c,$m=w,Hm=b,QE=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,cB(rc,function(){return pT(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,b=Z.p,Z.p=2,A=Ge,Ge|=4;try{ZL(a,s,c)}finally{Ge=A,Z.p=b,$.T=p}}Nt=1,cT(),fT(),dT()}}function cT(){if(Nt===1){Nt=0;var a=ta,s=Xo,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var p=Z.p;Z.p=2;var b=Ge;Ge|=4;try{jE(s,a);var w=rv,A=Ww(a.containerInfo),P=w.focusedElem,U=w.selectionRange;if(A!==P&&P&&P.ownerDocument&&Jw(P.ownerDocument.documentElement,P)){if(U!==null&&Rp(P)){var j=U.start,X=U.end;if(X===void 0&&(X=j),"selectionStart"in P)P.selectionStart=j,P.selectionEnd=Math.min(X,P.value.length);else{var re=P.ownerDocument||document,F=re&&re.defaultView||window;if(F.getSelection){var Y=F.getSelection(),he=P.textContent.length,we=Math.min(U.start,he),We=U.end===void 0?we:Math.min(U.end,he);!Y.extend&&we>We&&(A=We,We=we,we=A);var z=Yw(P,we),B=Yw(P,We);if(z&&B&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==B.node||Y.focusOffset!==B.offset)){var G=re.createRange();G.setStart(z.node,z.offset),Y.removeAllRanges(),we>We?(Y.addRange(G),Y.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),Y.addRange(G))}}}}for(re=[],Y=P;Y=Y.parentNode;)Y.nodeType===1&&re.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<re.length;P++){var te=re[P];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}pf=!!nv,rv=nv=null}finally{Ge=b,Z.p=p,$.T=c}}a.current=s,Nt=2}}function fT(){if(Nt===2){Nt=0;var a=ta,s=Xo,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var p=Z.p;Z.p=2;var b=Ge;Ge|=4;try{qE(a,s.alternate,s)}finally{Ge=b,Z.p=p,$.T=c}}Nt=3}}function dT(){if(Nt===4||Nt===3){Nt=0,P2();var a=ta,s=Xo,c=fi,p=QE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Nt=5:(Nt=0,Xo=ta=null,hT(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(ea=null),up(c),s=s.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(Xs,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=$.T,b=Z.p,Z.p=2,$.T=null;try{for(var w=a.onRecoverableError,A=0;A<p.length;A++){var P=p[A];w(P.value,{componentStack:P.stack})}}finally{$.T=s,Z.p=b}}(fi&3)!==0&&tf(),qr(a),b=a.pendingLanes,(c&261930)!==0&&(b&42)!==0?a===Gm?Ml++:(Ml=0,Gm=a):Ml=0,Nl(0)}}function hT(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,hl(s)))}function tf(){return cT(),fT(),dT(),pT()}function pT(){if(Nt!==5)return!1;var a=ta,s=$m;$m=0;var c=up(fi),p=$.T,b=Z.p;try{Z.p=32>c?32:c,$.T=null,c=Hm,Hm=null;var w=ta,A=fi;if(Nt=0,Xo=ta=null,fi=0,(Ge&6)!==0)throw Error(r(331));var P=Ge;if(Ge|=4,JE(w.current),FE(w,w.current,A,c),Ge=P,Nl(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(Xs,w)}catch{}return!0}finally{Z.p=b,$.T=p,hT(a,s)}}function mT(a,s,c){s=er(c,s),s=wm(a.stateNode,s,2),a=Yi(a,s,2),a!==null&&(Zs(a,2),qr(a))}function Ve(a,s,c){if(a.tag===3)mT(a,a,c);else for(;s!==null;){if(s.tag===3){mT(s,a,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ea===null||!ea.has(p))){a=er(c,a),c=vE(2),p=Yi(s,c,2),p!==null&&(gE(c,p,s,a),Zs(p,2),qr(p));break}}s=s.return}}function Fm(a,s,c){var p=a.pingCache;if(p===null){p=a.pingCache=new nB;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(c)||(Bm=!0,b.add(c),a=sB.bind(null,a,s,c),s.then(a,a))}function sB(a,s,c){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Qe===a&&(ke&c)===c&&(vt===4||vt===3&&(ke&62914560)===ke&&300>Nn()-Jc?(Ge&2)===0&&Qo(a,0):qm|=c,Wo===ke&&(Wo=0)),qr(a)}function vT(a,s){s===0&&(s=cw()),a=Oa(a,s),a!==null&&(Zs(a,s),qr(a))}function lB(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),vT(a,c)}function uB(a,s){var c=0;switch(a.tag){case 31:case 13:var p=a.stateNode,b=a.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),vT(a,c)}function cB(a,s){return ap(a,s)}var nf=null,es=null,Km=!1,rf=!1,Ym=!1,ra=0;function qr(a){a!==es&&a.next===null&&(es===null?nf=es=a:es=es.next=a),rf=!0,Km||(Km=!0,dB())}function Nl(a,s){if(!Ym&&rf){Ym=!0;do for(var c=!1,p=nf;p!==null;){if(a!==0){var b=p.pendingLanes;if(b===0)var w=0;else{var A=p.suspendedLanes,P=p.pingedLanes;w=(1<<31-kn(42|a)+1)-1,w&=b&~(A&~P),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,_T(p,w))}else w=ke,w=sc(p,p===Qe?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||Qs(p,w)||(c=!0,_T(p,w));p=p.next}while(c);Ym=!1}}function fB(){gT()}function gT(){rf=Km=!1;var a=0;ra!==0&&SB()&&(a=ra);for(var s=Nn(),c=null,p=nf;p!==null;){var b=p.next,w=yT(p,s);w===0?(p.next=null,c===null?nf=b:c.next=b,b===null&&(es=c)):(c=p,(a!==0||(w&3)!==0)&&(rf=!0)),p=b}Nt!==0&&Nt!==5||Nl(a),ra!==0&&(ra=0)}function yT(a,s){for(var c=a.suspendedLanes,p=a.pingedLanes,b=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var A=31-kn(w),P=1<<A,U=b[A];U===-1?((P&c)===0||(P&p)!==0)&&(b[A]=B2(P,s)):U<=s&&(a.expiredLanes|=P),w&=~P}if(s=Qe,c=ke,c=sc(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,c===0||a===s&&(je===2||je===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&op(p),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Qs(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(p!==null&&op(p),up(c)){case 2:case 8:c=lw;break;case 32:c=rc;break;case 268435456:c=uw;break;default:c=rc}return p=bT.bind(null,a),c=ap(c,p),a.callbackPriority=s,a.callbackNode=c,s}return p!==null&&p!==null&&op(p),a.callbackPriority=2,a.callbackNode=null,2}function bT(a,s){if(Nt!==0&&Nt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(tf()&&a.callbackNode!==c)return null;var p=ke;return p=sc(a,a===Qe?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(eT(a,p,s),yT(a,Nn()),a.callbackNode!=null&&a.callbackNode===c?bT.bind(null,a):null)}function _T(a,s){if(tf())return null;eT(a,s,!0)}function dB(){TB(function(){(Ge&6)!==0?ap(sw,fB):gT()})}function Jm(){if(ra===0){var a=qo;a===0&&(a=ic,ic<<=1,(ic&261888)===0&&(ic=256)),ra=a}return ra}function wT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:fc(""+a)}function ST(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function hB(a,s,c,p,b){if(s==="submit"&&c&&c.stateNode===b){var w=wT((b[En]||null).action),A=p.submitter;A&&(s=(s=A[En]||null)?wT(s.formAction):A.getAttribute("formAction"),s!==null&&(w=s,A=null));var P=new mc("action","action",null,p,b);a.push({event:P,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ra!==0){var U=A?ST(b,A):new FormData(b);mm(c,{pending:!0,data:U,method:b.method,action:w},null,U)}}else typeof w=="function"&&(P.preventDefault(),U=A?ST(b,A):new FormData(b),mm(c,{pending:!0,data:U,method:b.method,action:w},w,U))},currentTarget:b}]})}}for(var Wm=0;Wm<Mp.length;Wm++){var Xm=Mp[Wm],pB=Xm.toLowerCase(),mB=Xm[0].toUpperCase()+Xm.slice(1);yr(pB,"on"+mB)}yr(Zw,"onAnimationEnd"),yr(eS,"onAnimationIteration"),yr(tS,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(IL,"onTransitionRun"),yr(ML,"onTransitionStart"),yr(NL,"onTransitionCancel"),yr(nS,"onTransitionEnd"),Ao("onMouseEnter",["mouseout","mouseover"]),Ao("onMouseLeave",["mouseout","mouseover"]),Ao("onPointerEnter",["pointerout","pointerover"]),Ao("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function ET(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],b=p.event;p=p.listeners;e:{var w=void 0;if(s)for(var A=p.length-1;0<=A;A--){var P=p[A],U=P.instance,j=P.currentTarget;if(P=P.listener,U!==w&&b.isPropagationStopped())break e;w=P,b.currentTarget=j;try{w(b)}catch(X){yc(X)}b.currentTarget=null,w=U}else for(A=0;A<p.length;A++){if(P=p[A],U=P.instance,j=P.currentTarget,P=P.listener,U!==w&&b.isPropagationStopped())break e;w=P,b.currentTarget=j;try{w(b)}catch(X){yc(X)}b.currentTarget=null,w=U}}}}function De(a,s){var c=s[cp];c===void 0&&(c=s[cp]=new Set);var p=a+"__bubble";c.has(p)||(TT(s,a,2,!1),c.add(p))}function Qm(a,s,c){var p=0;s&&(p|=4),TT(c,a,p,s)}var af="_reactListening"+Math.random().toString(36).slice(2);function Zm(a){if(!a[af]){a[af]=!0,gw.forEach(function(c){c!=="selectionchange"&&(vB.has(c)||Qm(c,!1,a),Qm(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[af]||(s[af]=!0,Qm("selectionchange",!1,s))}}function TT(a,s,c,p){switch(ZT(s)){case 2:var b=jB;break;case 8:b=VB;break;default:b=pv}c=b.bind(null,s,c,a),b=void 0,!bp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?a.addEventListener(s,c,{capture:!0,passive:b}):a.addEventListener(s,c,!0):b!==void 0?a.addEventListener(s,c,{passive:b}):a.addEventListener(s,c,!1)}function ev(a,s,c,p,b){var w=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var P=p.stateNode.containerInfo;if(P===b)break;if(A===4)for(A=p.return;A!==null;){var U=A.tag;if((U===3||U===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;P!==null;){if(A=So(P),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){p=w=A;continue e}P=P.parentNode}}p=p.return}Ow(function(){var j=w,X=gp(c),re=[];e:{var F=rS.get(a);if(F!==void 0){var Y=mc,he=a;switch(a){case"keypress":if(hc(c)===0)break e;case"keydown":case"keyup":Y=uL;break;case"focusin":he="focus",Y=Ep;break;case"focusout":he="blur",Y=Ep;break;case"beforeblur":case"afterblur":Y=Ep;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Mw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=X2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=dL;break;case Zw:case eS:case tS:Y=eL;break;case nS:Y=pL;break;case"scroll":case"scrollend":Y=J2;break;case"wheel":Y=vL;break;case"copy":case"cut":case"paste":Y=nL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Dw;break;case"toggle":case"beforetoggle":Y=yL}var we=(s&4)!==0,We=!we&&(a==="scroll"||a==="scrollend"),z=we?F!==null?F+"Capture":null:F;we=[];for(var B=j,G;B!==null;){var te=B;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||z===null||(te=nl(B,z),te!=null&&we.push(kl(B,te,G))),We)break;B=B.return}0<we.length&&(F=new Y(F,he,null,c,X),re.push({event:F,listeners:we}))}}if((s&7)===0){e:{if(F=a==="mouseover"||a==="pointerover",Y=a==="mouseout"||a==="pointerout",F&&c!==vp&&(he=c.relatedTarget||c.fromElement)&&(So(he)||he[wo]))break e;if((Y||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(he=c.relatedTarget||c.toElement,Y=j,he=he?So(he):null,he!==null&&(We=o(he),we=he.tag,he!==We||we!==5&&we!==27&&we!==6)&&(he=null)):(Y=null,he=j),Y!==he)){if(we=Mw,te="onMouseLeave",z="onMouseEnter",B="mouse",(a==="pointerout"||a==="pointerover")&&(we=Dw,te="onPointerLeave",z="onPointerEnter",B="pointer"),We=Y==null?F:tl(Y),G=he==null?F:tl(he),F=new we(te,B+"leave",Y,c,X),F.target=We,F.relatedTarget=G,te=null,So(X)===j&&(we=new we(z,B+"enter",he,c,X),we.target=G,we.relatedTarget=We,te=we),We=te,Y&&he)t:{for(we=gB,z=Y,B=he,G=0,te=z;te;te=we(te))G++;te=0;for(var be=B;be;be=we(be))te++;for(;0<G-te;)z=we(z),G--;for(;0<te-G;)B=we(B),te--;for(;G--;){if(z===B||B!==null&&z===B.alternate){we=z;break t}z=we(z),B=we(B)}we=null}else we=null;Y!==null&&AT(re,F,Y,we,!1),he!==null&&We!==null&&AT(re,We,he,we,!0)}}e:{if(F=j?tl(j):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Be=Hw;else if(zw(F))if(Gw)Be=RL;else{Be=xL;var ve=AL}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&mp(j.elementType)&&(Be=Hw):Be=CL;if(Be&&(Be=Be(a,j))){$w(re,Be,c,X);break e}ve&&ve(a,F,j),a==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&pp(F,"number",F.value)}switch(ve=j?tl(j):window,a){case"focusin":(zw(ve)||ve.contentEditable==="true")&&(Io=ve,Op=j,cl=null);break;case"focusout":cl=Op=Io=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,Xw(re,c,X);break;case"selectionchange":if(PL)break;case"keydown":case"keyup":Xw(re,c,X)}var Pe;if(Ap)e:{switch(a){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Po?Bw(a,c)&&(Ue="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ue="onCompositionStart");Ue&&(kw&&c.locale!=="ko"&&(Po||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Po&&(Pe=Pw()):($i=X,_p="value"in $i?$i.value:$i.textContent,Po=!0)),ve=of(j,Ue),0<ve.length&&(Ue=new Nw(Ue,a,null,c,X),re.push({event:Ue,listeners:ve}),Pe?Ue.data=Pe:(Pe=qw(c),Pe!==null&&(Ue.data=Pe)))),(Pe=_L?wL(a,c):SL(a,c))&&(Ue=of(j,"onBeforeInput"),0<Ue.length&&(ve=new Nw("onBeforeInput","beforeinput",null,c,X),re.push({event:ve,listeners:Ue}),ve.data=Pe)),hB(re,a,j,c,X)}ET(re,s)})}function kl(a,s,c){return{instance:a,listener:s,currentTarget:c}}function of(a,s){for(var c=s+"Capture",p=[];a!==null;){var b=a,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=nl(a,c),b!=null&&p.unshift(kl(a,b,w)),b=nl(a,s),b!=null&&p.push(kl(a,b,w))),a.tag===3)return p;a=a.return}return[]}function gB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function AT(a,s,c,p,b){for(var w=s._reactName,A=[];c!==null&&c!==p;){var P=c,U=P.alternate,j=P.stateNode;if(P=P.tag,U!==null&&U===p)break;P!==5&&P!==26&&P!==27||j===null||(U=j,b?(j=nl(c,w),j!=null&&A.unshift(kl(c,j,U))):b||(j=nl(c,w),j!=null&&A.push(kl(c,j,U)))),c=c.return}A.length!==0&&a.push({event:s,listeners:A})}var yB=/\r\n?/g,bB=/\u0000|\uFFFD/g;function xT(a){return(typeof a=="string"?a:""+a).replace(yB,`
`).replace(bB,"")}function CT(a,s){return s=xT(s),xT(a)===s}function Je(a,s,c,p,b,w){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Co(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Co(a,""+p);break;case"className":uc(a,"class",p);break;case"tabIndex":uc(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":uc(a,c,p);break;case"style":Cw(a,p,w);break;case"data":if(s!=="object"){uc(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=fc(""+p),a.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(s!=="input"&&Je(a,s,"name",b.name,b,null),Je(a,s,"formEncType",b.formEncType,b,null),Je(a,s,"formMethod",b.formMethod,b,null),Je(a,s,"formTarget",b.formTarget,b,null)):(Je(a,s,"encType",b.encType,b,null),Je(a,s,"method",b.method,b,null),Je(a,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=fc(""+p),a.setAttribute(c,p);break;case"onClick":p!=null&&(a.onclick=Wr);break;case"onScroll":p!=null&&De("scroll",a);break;case"onScrollEnd":p!=null&&De("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}c=fc(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""+p):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":p===!0?a.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,p):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(c,p):a.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(c):a.setAttribute(c,p);break;case"popover":De("beforetoggle",a),De("toggle",a),lc(a,"popover",p);break;case"xlinkActuate":Jr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Jr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Jr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Jr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Jr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Jr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Jr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Jr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Jr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":lc(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=K2.get(c)||c,lc(a,c,p))}}function tv(a,s,c,p,b,w){switch(c){case"style":Cw(a,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof p=="string"?Co(a,p):(typeof p=="number"||typeof p=="bigint")&&Co(a,""+p);break;case"onScroll":p!=null&&De("scroll",a);break;case"onScrollEnd":p!=null&&De("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yw.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),s=c.slice(2,b?c.length-7:void 0),w=a[En]||null,w=w!=null?w[c]:null,typeof w=="function"&&a.removeEventListener(s,w,b),typeof p=="function")){typeof w!="function"&&w!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,p,b);break e}c in a?a[c]=p:p===!0?a.setAttribute(c,""):lc(a,c,p)}}}function nn(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",a),De("load",a);var p=!1,b=!1,w;for(w in c)if(c.hasOwnProperty(w)){var A=c[w];if(A!=null)switch(w){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(a,s,w,A,c,null)}}b&&Je(a,s,"srcSet",c.srcSet,c,null),p&&Je(a,s,"src",c.src,c,null);return;case"input":De("invalid",a);var P=w=A=b=null,U=null,j=null;for(p in c)if(c.hasOwnProperty(p)){var X=c[p];if(X!=null)switch(p){case"name":b=X;break;case"type":A=X;break;case"checked":U=X;break;case"defaultChecked":j=X;break;case"value":w=X;break;case"defaultValue":P=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:Je(a,s,p,X,c,null)}}Ew(a,w,P,U,j,A,b,!1);return;case"select":De("invalid",a),p=A=w=null;for(b in c)if(c.hasOwnProperty(b)&&(P=c[b],P!=null))switch(b){case"value":w=P;break;case"defaultValue":A=P;break;case"multiple":p=P;default:Je(a,s,b,P,c,null)}s=w,c=A,a.multiple=!!p,s!=null?xo(a,!!p,s,!1):c!=null&&xo(a,!!p,c,!0);return;case"textarea":De("invalid",a),w=b=p=null;for(A in c)if(c.hasOwnProperty(A)&&(P=c[A],P!=null))switch(A){case"value":p=P;break;case"defaultValue":b=P;break;case"children":w=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Je(a,s,A,P,c,null)}Aw(a,p,b,w);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(p=c[U],p!=null))switch(U){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Je(a,s,U,p,c,null)}return;case"dialog":De("beforetoggle",a),De("toggle",a),De("cancel",a),De("close",a);break;case"iframe":case"object":De("load",a);break;case"video":case"audio":for(p=0;p<Dl.length;p++)De(Dl[p],a);break;case"image":De("error",a),De("load",a);break;case"details":De("toggle",a);break;case"embed":case"source":case"link":De("error",a),De("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in c)if(c.hasOwnProperty(j)&&(p=c[j],p!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(a,s,j,p,c,null)}return;default:if(mp(s)){for(X in c)c.hasOwnProperty(X)&&(p=c[X],p!==void 0&&tv(a,s,X,p,c,void 0));return}}for(P in c)c.hasOwnProperty(P)&&(p=c[P],p!=null&&Je(a,s,P,p,c,null))}function _B(a,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,A=null,P=null,U=null,j=null,X=null;for(Y in c){var re=c[Y];if(c.hasOwnProperty(Y)&&re!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":U=re;default:p.hasOwnProperty(Y)||Je(a,s,Y,null,p,re)}}for(var F in p){var Y=p[F];if(re=c[F],p.hasOwnProperty(F)&&(Y!=null||re!=null))switch(F){case"type":w=Y;break;case"name":b=Y;break;case"checked":j=Y;break;case"defaultChecked":X=Y;break;case"value":A=Y;break;case"defaultValue":P=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==re&&Je(a,s,F,Y,p,re)}}hp(a,A,P,U,j,X,w,b);return;case"select":Y=A=P=F=null;for(w in c)if(U=c[w],c.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":Y=U;default:p.hasOwnProperty(w)||Je(a,s,w,null,p,U)}for(b in p)if(w=p[b],U=c[b],p.hasOwnProperty(b)&&(w!=null||U!=null))switch(b){case"value":F=w;break;case"defaultValue":P=w;break;case"multiple":A=w;default:w!==U&&Je(a,s,b,w,p,U)}s=P,c=A,p=Y,F!=null?xo(a,!!c,F,!1):!!p!=!!c&&(s!=null?xo(a,!!c,s,!0):xo(a,!!c,c?[]:"",!1));return;case"textarea":Y=F=null;for(P in c)if(b=c[P],c.hasOwnProperty(P)&&b!=null&&!p.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Je(a,s,P,null,p,b)}for(A in p)if(b=p[A],w=c[A],p.hasOwnProperty(A)&&(b!=null||w!=null))switch(A){case"value":F=b;break;case"defaultValue":Y=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==w&&Je(a,s,A,b,p,w)}Tw(a,F,Y);return;case"option":for(var he in c)if(F=c[he],c.hasOwnProperty(he)&&F!=null&&!p.hasOwnProperty(he))switch(he){case"selected":a.selected=!1;break;default:Je(a,s,he,null,p,F)}for(U in p)if(F=p[U],Y=c[U],p.hasOwnProperty(U)&&F!==Y&&(F!=null||Y!=null))switch(U){case"selected":a.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(a,s,U,F,p,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in c)F=c[we],c.hasOwnProperty(we)&&F!=null&&!p.hasOwnProperty(we)&&Je(a,s,we,null,p,F);for(j in p)if(F=p[j],Y=c[j],p.hasOwnProperty(j)&&F!==Y&&(F!=null||Y!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,s));break;default:Je(a,s,j,F,p,Y)}return;default:if(mp(s)){for(var We in c)F=c[We],c.hasOwnProperty(We)&&F!==void 0&&!p.hasOwnProperty(We)&&tv(a,s,We,void 0,p,F);for(X in p)F=p[X],Y=c[X],!p.hasOwnProperty(X)||F===Y||F===void 0&&Y===void 0||tv(a,s,X,F,p,Y);return}}for(var z in c)F=c[z],c.hasOwnProperty(z)&&F!=null&&!p.hasOwnProperty(z)&&Je(a,s,z,null,p,F);for(re in p)F=p[re],Y=c[re],!p.hasOwnProperty(re)||F===Y||F==null&&Y==null||Je(a,s,re,F,p,Y)}function RT(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var b=c[p],w=b.transferSize,A=b.initiatorType,P=b.duration;if(w&&P&&RT(A)){for(A=0,P=b.responseEnd,p+=1;p<c.length;p++){var U=c[p],j=U.startTime;if(j>P)break;var X=U.transferSize,re=U.initiatorType;X&&RT(re)&&(U=U.responseEnd,A+=X*(U<P?1:(P-j)/(U-j)))}if(--p,s+=8*(w+A)/(b.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var nv=null,rv=null;function sf(a){return a.nodeType===9?a:a.ownerDocument}function OT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PT(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function iv(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var av=null;function SB(){var a=window.event;return a&&a.type==="popstate"?a===av?!1:(av=a,!0):(av=null,!1)}var IT=typeof setTimeout=="function"?setTimeout:void 0,EB=typeof clearTimeout=="function"?clearTimeout:void 0,MT=typeof Promise=="function"?Promise:void 0,TB=typeof queueMicrotask=="function"?queueMicrotask:typeof MT<"u"?function(a){return MT.resolve(null).then(a).catch(AB)}:IT;function AB(a){setTimeout(function(){throw a})}function ia(a){return a==="head"}function NT(a,s){var c=s,p=0;do{var b=c.nextSibling;if(a.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(p===0){a.removeChild(b),is(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Ul(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Ul(c);for(var w=c.firstChild;w;){var A=w.nextSibling,P=w.nodeName;w[el]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=A}}else c==="body"&&Ul(a.ownerDocument.body);c=b}while(c);is(s)}function DT(a,s){var c=a;a=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=p}while(c)}function ov(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ov(c),fp(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function xB(a,s,c,p){for(;a.nodeType===1;){var b=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[el])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=ar(a.nextSibling),a===null)break}return null}function CB(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=ar(a.nextSibling),a===null))return null;return a}function kT(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=ar(a.nextSibling),a===null))return null;return a}function sv(a){return a.data==="$?"||a.data==="$~"}function lv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function RB(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function ar(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var uv=null;function UT(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return ar(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function LT(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function BT(a,s,c){switch(s=sf(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Ul(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);fp(a)}var or=new Map,qT=new Set;function lf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var di=Z.d;Z.d={f:OB,r:PB,D:IB,C:MB,L:NB,m:DB,X:UB,S:kB,M:LB};function OB(){var a=di.f(),s=Qc();return a||s}function PB(a){var s=Eo(a);s!==null&&s.tag===5&&s.type==="form"?nE(s):di.r(a)}var ts=typeof document>"u"?null:document;function zT(a,s,c){var p=ts;if(p&&typeof s=="string"&&s){var b=Qn(s);b='link[rel="'+a+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),qT.has(b)||(qT.add(b),a={rel:a,crossOrigin:c,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),nn(s,"link",a),Ht(s),p.head.appendChild(s)))}}function IB(a){di.D(a),zT("dns-prefetch",a,null)}function MB(a,s){di.C(a,s),zT("preconnect",a,s)}function NB(a,s,c){di.L(a,s,c);var p=ts;if(p&&a&&s){var b='link[rel="preload"][as="'+Qn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+Qn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+Qn(c.imageSizes)+'"]')):b+='[href="'+Qn(a)+'"]';var w=b;switch(s){case"style":w=ns(a);break;case"script":w=rs(a)}or.has(w)||(a=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),or.set(w,a),p.querySelector(b)!==null||s==="style"&&p.querySelector(Ll(w))||s==="script"&&p.querySelector(Bl(w))||(s=p.createElement("link"),nn(s,"link",a),Ht(s),p.head.appendChild(s)))}}function DB(a,s){di.m(a,s);var c=ts;if(c&&a){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+Qn(p)+'"][href="'+Qn(a)+'"]',w=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=rs(a)}if(!or.has(w)&&(a=m({rel:"modulepreload",href:a},s),or.set(w,a),c.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Bl(w)))return}p=c.createElement("link"),nn(p,"link",a),Ht(p),c.head.appendChild(p)}}}function kB(a,s,c){di.S(a,s,c);var p=ts;if(p&&a){var b=To(p).hoistableStyles,w=ns(a);s=s||"default";var A=b.get(w);if(!A){var P={loading:0,preload:null};if(A=p.querySelector(Ll(w)))P.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},c),(c=or.get(w))&&cv(a,c);var U=A=p.createElement("link");Ht(U),nn(U,"link",a),U._p=new Promise(function(j,X){U.onload=j,U.onerror=X}),U.addEventListener("load",function(){P.loading|=1}),U.addEventListener("error",function(){P.loading|=2}),P.loading|=4,uf(A,s,p)}A={type:"stylesheet",instance:A,count:1,state:P},b.set(w,A)}}}function UB(a,s){di.X(a,s);var c=ts;if(c&&a){var p=To(c).hoistableScripts,b=rs(a),w=p.get(b);w||(w=c.querySelector(Bl(b)),w||(a=m({src:a,async:!0},s),(s=or.get(b))&&fv(a,s),w=c.createElement("script"),Ht(w),nn(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function LB(a,s){di.M(a,s);var c=ts;if(c&&a){var p=To(c).hoistableScripts,b=rs(a),w=p.get(b);w||(w=c.querySelector(Bl(b)),w||(a=m({src:a,async:!0,type:"module"},s),(s=or.get(b))&&fv(a,s),w=c.createElement("script"),Ht(w),nn(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function $T(a,s,c,p){var b=(b=Ae.current)?lf(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=ns(c.href),c=To(b).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=ns(c.href);var w=To(b).hoistableStyles,A=w.get(a);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,A),(w=b.querySelector(Ll(a)))&&!w._p&&(A.instance=w,A.state.loading=5),or.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},or.set(a,c),w||BB(b,a,c,A.state))),s&&p===null)throw Error(r(528,""));return A}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=rs(c),c=To(b).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ns(a){return'href="'+Qn(a)+'"'}function Ll(a){return'link[rel="stylesheet"]['+a+"]"}function HT(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function BB(a,s,c,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),nn(s,"link",c),Ht(s),a.head.appendChild(s))}function rs(a){return'[src="'+Qn(a)+'"]'}function Bl(a){return"script[async]"+a}function GT(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+Qn(c.href)+'"]');if(p)return s.instance=p,Ht(p),p;var b=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Ht(p),nn(p,"style",b),uf(p,c.precedence,a),s.instance=p;case"stylesheet":b=ns(c.href);var w=a.querySelector(Ll(b));if(w)return s.state.loading|=4,s.instance=w,Ht(w),w;p=HT(c),(b=or.get(b))&&cv(p,b),w=(a.ownerDocument||a).createElement("link"),Ht(w);var A=w;return A._p=new Promise(function(P,U){A.onload=P,A.onerror=U}),nn(w,"link",p),s.state.loading|=4,uf(w,c.precedence,a),s.instance=w;case"script":return w=rs(c.src),(b=a.querySelector(Bl(w)))?(s.instance=b,Ht(b),b):(p=c,(b=or.get(w))&&(p=m({},c),fv(p,b)),a=a.ownerDocument||a,b=a.createElement("script"),Ht(b),nn(b,"link",p),a.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,uf(p,c.precedence,a));return s.instance}function uf(a,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,w=b,A=0;A<p.length;A++){var P=p[A];if(P.dataset.precedence===s)w=P;else if(w!==b)break}w?w.parentNode.insertBefore(a,w.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function cv(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function fv(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var cf=null;function jT(a,s,c){if(cf===null){var p=new Map,b=cf=new Map;b.set(c,p)}else b=cf,p=b.get(c),p||(p=new Map,b.set(c,p));if(p.has(a))return p;for(p.set(a,null),c=c.getElementsByTagName(a),b=0;b<c.length;b++){var w=c[b];if(!(w[el]||w[Qt]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var A=w.getAttribute(s)||"";A=a+A;var P=p.get(A);P?P.push(w):p.set(A,[w])}}return p}function VT(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function qB(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function FT(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function zB(a,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=ns(p.href),w=s.querySelector(Ll(b));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=ff.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=w,Ht(w);return}w=s.ownerDocument||s,p=HT(p),(b=or.get(b))&&cv(p,b),w=w.createElement("link"),Ht(w);var A=w;A._p=new Promise(function(P,U){A.onload=P,A.onerror=U}),nn(w,"link",p),c.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=ff.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var dv=0;function $B(a,s){return a.stylesheets&&a.count===0&&hf(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var p=setTimeout(function(){if(a.stylesheets&&hf(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+s);0<a.imgBytes&&dv===0&&(dv=62500*wB());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&hf(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>dv?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function ff(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var df=null;function hf(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,df=new Map,s.forEach(HB,a),df=null,ff.call(a))}function HB(a,s){if(!(s.state.loading&4)){var c=df.get(a);if(c)var p=c.get(null);else{c=new Map,df.set(a,c);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var A=b[w];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),p=A)}p&&c.set(null,p)}b=s.instance,A=b.getAttribute("data-precedence"),w=c.get(A)||p,w===p&&c.set(null,b),c.set(A,b),this.count++,p=ff.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),w?w.parentNode.insertBefore(b,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),s.state.loading|=4}}var ql={$$typeof:R,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function GB(a,s,c,p,b,w,A,P,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.hiddenUpdates=sp(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function KT(a,s,c,p,b,w,A,P,U,j,X,re){return a=new GB(a,s,c,A,U,j,X,re,P),s=1,w===!0&&(s|=24),w=Ln(3,null,null,s),a.current=w,w.stateNode=a,s=Vp(),s.refCount++,a.pooledCache=s,s.refCount++,w.memoizedState={element:p,isDehydrated:c,cache:s},Jp(w),a}function YT(a){return a?(a=Do,a):Do}function JT(a,s,c,p,b,w){b=YT(b),p.context===null?p.context=b:p.pendingContext=b,p=Ki(s),p.payload={element:c},w=w===void 0?null:w,w!==null&&(p.callback=w),c=Yi(a,p,s),c!==null&&(On(c,a,s),gl(c,a,s))}function WT(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function hv(a,s){WT(a,s),(a=a.alternate)&&WT(a,s)}function XT(a){if(a.tag===13||a.tag===31){var s=Oa(a,67108864);s!==null&&On(s,a,67108864),hv(a,67108864)}}function QT(a){if(a.tag===13||a.tag===31){var s=Hn();s=lp(s);var c=Oa(a,s);c!==null&&On(c,a,s),hv(a,s)}}var pf=!0;function jB(a,s,c,p){var b=$.T;$.T=null;var w=Z.p;try{Z.p=2,pv(a,s,c,p)}finally{Z.p=w,$.T=b}}function VB(a,s,c,p){var b=$.T;$.T=null;var w=Z.p;try{Z.p=8,pv(a,s,c,p)}finally{Z.p=w,$.T=b}}function pv(a,s,c,p){if(pf){var b=mv(p);if(b===null)ev(a,s,p,mf,c),eA(a,p);else if(KB(b,a,s,c,p))p.stopPropagation();else if(eA(a,p),s&4&&-1<FB.indexOf(a)){for(;b!==null;){var w=Eo(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var A=Ta(w.pendingLanes);if(A!==0){var P=w;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var U=1<<31-kn(A);P.entanglements[1]|=U,A&=~U}qr(w),(Ge&6)===0&&(Wc=Nn()+500,Nl(0))}}break;case 31:case 13:P=Oa(w,2),P!==null&&On(P,w,2),Qc(),hv(w,2)}if(w=mv(p),w===null&&ev(a,s,p,mf,c),w===b)break;b=w}b!==null&&p.stopPropagation()}else ev(a,s,p,null,c)}}function mv(a){return a=gp(a),vv(a)}var mf=null;function vv(a){if(mf=null,a=So(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return mf=a,null}function ZT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I2()){case sw:return 2;case lw:return 8;case rc:case M2:return 32;case uw:return 268435456;default:return 32}default:return 32}}var gv=!1,aa=null,oa=null,sa=null,zl=new Map,$l=new Map,la=[],FB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eA(a,s){switch(a){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":zl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(s.pointerId)}}function Hl(a,s,c,p,b,w){return a===null||a.nativeEvent!==w?(a={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[b]},s!==null&&(s=Eo(s),s!==null&&XT(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),a)}function KB(a,s,c,p,b){switch(s){case"focusin":return aa=Hl(aa,a,s,c,p,b),!0;case"dragenter":return oa=Hl(oa,a,s,c,p,b),!0;case"mouseover":return sa=Hl(sa,a,s,c,p,b),!0;case"pointerover":var w=b.pointerId;return zl.set(w,Hl(zl.get(w)||null,a,s,c,p,b)),!0;case"gotpointercapture":return w=b.pointerId,$l.set(w,Hl($l.get(w)||null,a,s,c,p,b)),!0}return!1}function tA(a){var s=So(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,mw(a.priority,function(){QT(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,mw(a.priority,function(){QT(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function vf(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=mv(a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);vp=p,c.target.dispatchEvent(p),vp=null}else return s=Eo(c),s!==null&&XT(s),a.blockedOn=c,!1;s.shift()}return!0}function nA(a,s,c){vf(a)&&c.delete(s)}function YB(){gv=!1,aa!==null&&vf(aa)&&(aa=null),oa!==null&&vf(oa)&&(oa=null),sa!==null&&vf(sa)&&(sa=null),zl.forEach(nA),$l.forEach(nA)}function gf(a,s){a.blockedOn===s&&(a.blockedOn=null,gv||(gv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YB)))}var yf=null;function rA(a){yf!==a&&(yf=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){yf===a&&(yf=null);for(var s=0;s<a.length;s+=3){var c=a[s],p=a[s+1],b=a[s+2];if(typeof p!="function"){if(vv(p||c)===null)continue;break}var w=Eo(c);w!==null&&(a.splice(s,3),s-=3,mm(w,{pending:!0,data:b,method:c.method,action:p},p,b))}}))}function is(a){function s(U){return gf(U,a)}aa!==null&&gf(aa,a),oa!==null&&gf(oa,a),sa!==null&&gf(sa,a),zl.forEach(s),$l.forEach(s);for(var c=0;c<la.length;c++){var p=la[c];p.blockedOn===a&&(p.blockedOn=null)}for(;0<la.length&&(c=la[0],c.blockedOn===null);)tA(c),c.blockedOn===null&&la.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var b=c[p],w=c[p+1],A=b[En]||null;if(typeof w=="function")A||rA(c);else if(A){var P=null;if(w&&w.hasAttribute("formAction")){if(b=w,A=w[En]||null)P=A.formAction;else if(vv(b)!==null)continue}else P=A.action;typeof P=="function"?c[p+1]=P:(c.splice(p,3),p-=3),rA(c)}}}function iA(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function yv(a){this._internalRoot=a}bf.prototype.render=yv.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Hn();JT(c,p,a,s,null,null)},bf.prototype.unmount=yv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;JT(a.current,2,null,a,null,null),Qc(),s[wo]=null}};function bf(a){this._internalRoot=a}bf.prototype.unstable_scheduleHydration=function(a){if(a){var s=pw();a={blockedOn:null,target:a,priority:s};for(var c=0;c<la.length&&s!==0&&s<la[c].priority;c++);la.splice(c,0,a),c===0&&tA(a)}};var aA=t.version;if(aA!=="19.2.3")throw Error(r(527,aA,"19.2.3"));Z.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var JB={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{Xs=_f.inject(JB),Dn=_f}catch{}}return jl.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,p="",b=dE,w=hE,A=pE;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=KT(a,1,!1,null,null,c,p,null,b,w,A,iA),a[wo]=s.current,Zm(a),new yv(s)},jl.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var p=!1,b="",w=dE,A=hE,P=pE,U=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),s=KT(a,1,!0,s,c??null,p,b,U,w,A,P,iA),s.context=YT(null),c=s.current,p=Hn(),p=lp(p),b=Ki(p),b.callback=null,Yi(c,b,p),c=p,s.current.lanes=c,Zs(s,c),qr(s),a[wo]=s.current,Zm(a),new bf(s)},jl.version="19.2.3",jl}var mA;function lq(){if(mA)return Sv.exports;mA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sv.exports=sq(),Sv.exports}var uq=lq();const cq=Fr(uq);function rh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function fq(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?o(h.value):i(h.value).then(u,f)}d((r=r.apply(e,t||[])).next())})}const dq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Y0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class hq extends Y0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vA extends Y0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gA extends Y0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wy||(wy={}));class pq{constructor(t,{headers:n={},customFetch:r,region:i=wy.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=dq(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return fq(this,arguments,void 0,function*(n,r={}){var i;let o,l;try{const{headers:u,method:f,body:d,signal:h,timeout:m}=r;let g={},{region:_}=r;_||(_=this.region);const S=new URL(`${this.url}/${n}`);_&&_!=="any"&&(g["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let E;d&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",E=d):typeof d=="string"?(g["Content-Type"]="text/plain",E=d):typeof FormData<"u"&&d instanceof FormData?E=d:(g["Content-Type"]="application/json",E=JSON.stringify(d)):E=d;let T=h;m&&(l=new AbortController,o=setTimeout(()=>l.abort(),m),h?(T=l.signal,h.addEventListener("abort",()=>l.abort())):T=l.signal);const C=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:E,signal:T}).catch(M=>{throw new hq(M)}),O=C.headers.get("x-relay-error");if(O&&O==="true")throw new vA(C);if(!C.ok)throw new gA(C);let R=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return R==="application/json"?I=yield C.json():R==="application/octet-stream"||R==="application/pdf"?I=yield C.blob():R==="text/event-stream"?I=C:R==="multipart/form-data"?I=yield C.formData():I=yield C.text(),{data:I,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof gA||u instanceof vA?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var mq=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},vq=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,u=null,f=null,d=o.status,h=o.statusText;if(o.ok){var m,g;if(n.method!=="HEAD"){var _;const C=await o.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?u=C:u=JSON.parse(C))}const E=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),T=(g=o.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&T&&T.length>1&&(f=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,d=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const E=await o.text();try{l=JSON.parse(E),Array.isArray(l)&&o.status===404&&(u=[],l=null,d=200,h="OK")}catch{o.status===404&&E===""?(d=204,h="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,d=200,h="OK"),l&&n.shouldThrowOnError)throw new mq(l)}return{error:l,data:u,count:f,status:d,statusText:h}});return this.shouldThrowOnError||(i=i.catch(o=>{var l;let u="";const f=o==null?void 0:o.cause;if(f){var d,h,m,g;const S=(d=f==null?void 0:f.message)!==null&&d!==void 0?d:"",E=(h=f==null?void 0:f.code)!==null&&h!==void 0?h:"";u=`${(m=o==null?void 0:o.name)!==null&&m!==void 0?m:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"Error"}: ${S}`,E&&(u+=` (${E})`),f!=null&&f.stack&&(u+=`
${f.stack}`)}else{var _;u=(_=o==null?void 0:o.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},gq=class extends vq{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${f}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const yA=new RegExp("[,()]");var ps=class extends gq{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&yA.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&yA.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},yq=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new ps({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ps({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(u.length>0){const f=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new ps({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ps({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ps({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},bq=class gI{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yq(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new gI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var l;let u;const f=new URL(`${this.url}/rpc/${t}`);let d;r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{f.searchParams.append(m,g)})):(u="POST",d=n);const h=new Headers(this.headers);return o&&h.set("Prefer",`count=${o}`),new ps({method:u,url:f,headers:h,schema:this.schemaName,body:d,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class _q{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const wq="2.88.0",Sq=`realtime-js/${wq}`,yI="1.0.0",Eq="2.0.0",bA=yI,Sy=1e4,Tq=1e3,Aq=100;var ca;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ca||(ca={}));var Dt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dt||(Dt={}));var Er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Er||(Er={}));var Ey;(function(e){e.websocket="websocket"})(Ey||(Ey={}));var Wa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Wa||(Wa={}));class xq{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var i,o;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",f=(o=t.join_ref)!==null&&o!==void 0?o:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+l.length+d.length+m.length,_=new ArrayBuffer(this.HEADER_LENGTH+g);let S=new DataView(_),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,f.length),S.setUint8(E++,u.length),S.setUint8(E++,l.length),S.setUint8(E++,d.length),S.setUint8(E++,m.length),S.setUint8(E++,n),Array.from(f,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(u,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(l,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(d,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(m,C=>S.setUint8(E++,C.charCodeAt(0)));var T=new Uint8Array(_.byteLength+r.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(r),_.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,l,u,f]=r;return n({join_ref:i,ref:o,topic:l,event:u,payload:f})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let f=this.HEADER_LENGTH+4;const d=r.decode(t.slice(f,f+i));f=f+i;const h=r.decode(t.slice(f,f+o));f=f+o;const m=r.decode(t.slice(f,f+l));f=f+l;const g=t.slice(f,t.byteLength),_=u===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,S={type:this.BROADCAST_EVENT,event:h,payload:_};return l>0&&(S.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class bI{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const _A=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=Cq(l,e,t,i),o),{}):{}},Cq=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?_I(o,l):Ty(l)},_I=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Iq(t,n)}switch(e){case et.bool:return Rq(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return Oq(t);case et.json:case et.jsonb:return Pq(t);case et.timestamp:return Mq(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Ty(t);default:return Ty(t)}},Ty=e=>e,Rq=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Oq=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Pq=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Iq=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>_I(t,u))}return e},Mq=e=>typeof e=="string"?e.replace(" ","T"):e,wI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class xv{constructor(t,n,r={},i=Sy){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wA||(wA={}));class ou{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ou.syncState(this.state,i,o,l),this.pendingDiffs.forEach(f=>{this.state=ou.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ou.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},f={};return this.map(o,(d,h)=>{l[d]||(f[d]=h)}),this.map(l,(d,h)=>{const m=o[d];if(m){const g=h.map(T=>T.presence_ref),_=m.map(T=>T.presence_ref),S=h.filter(T=>_.indexOf(T.presence_ref)<0),E=m.filter(T=>g.indexOf(T.presence_ref)<0);S.length>0&&(u[d]=S),E.length>0&&(f[d]=E)}else u[d]=h}),this.syncDiff(o,{joins:u,leaves:f},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,f)=>{var d;const h=(d=t[u])!==null&&d!==void 0?d:[];if(t[u]=this.cloneDeep(f),h.length>0){const m=t[u].map(_=>_.presence_ref),g=h.filter(_=>m.indexOf(_.presence_ref)<0);t[u].unshift(...g)}r(u,h,f)}),this.map(l,(u,f)=>{let d=t[u];if(!d)return;const h=f.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),t[u]=d,i(u,d,f),d.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var SA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(SA||(SA={}));var su;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(su||(su={}));var hi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hi||(hi={}));class bs{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new xv(this,Er.join,this.params,this.timeout),this.rejoinTimer=new bI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Er.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new ou(this),this.broadcastEndpointURL=wI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Dt.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[su.PRESENCE]&&this.bindings[su.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},g={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(hi.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(hi.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t==null||t(hi.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,C=[];for(let O=0;O<T;O++){const R=E[O],{filter:{event:I,schema:M,table:N,filter:k}}=R,H=_&&_[O];if(H&&H.event===I&&bs.isFilterValueEqual(H.schema,M)&&bs.isFilterValueEqual(H.table,N)&&bs.isFilterValueEqual(H.filter,k))C.push(Object.assign(Object.assign({},R),{id:H.id}));else{this.unsubscribe(),this.state=Dt.errored,t==null||t(hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(hi.SUBSCRIBED);return}}).receive("error",_=>{this.state=Dt.errored,t==null||t(hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Dt.joined&&t===su.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const d=await u.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,f;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Er.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new xv(this,Er.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new xv(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Aq){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:f,leave:d,join:h}=Er;if(r&&[u,f,d,h].indexOf(l)>=0&&r!==this._joinRef())return;let g=this._onMessage(l,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var S,E,T;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(E=_.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(_=>_.callback(g,r)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var S,E,T,C,O,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const I=_.id,M=(S=_.filter)===null||S===void 0?void 0:S.event;return I&&((E=n.ids)===null||E===void 0?void 0:E.includes(I))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const I=(O=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return I==="*"||I===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof g=="object"&&"ids"in g){const S=g.data,{schema:E,table:T,commit_timestamp:C,type:O,errors:R}=S;g=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:C,eventType:O,new:{},old:{},errors:R}),this._getPayloadRecords(S))}_.callback(g,r)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&bs.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Er.close,{},t)}_onError(t){this._on(Er.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=_A(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=_A(t.columns,t.old_record)),n}}const Cv=()=>{},wf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nq=[1e3,2e3,5e3,1e4],Dq=1e4,kq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Uq{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sy,this.transport=null,this.heartbeatIntervalMs=wf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cv,this.ref=0,this.reconnectTimer=null,this.vsn=bA,this.logger=Cv,this.conn=null,this.sendBuffer=[],this.serializer=new xq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ey.websocket}`,this.httpEndpoint=wI(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_q.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ca.connecting:return Wa.Connecting;case ca.open:return Wa.Open;case ca.closing:return Wa.Closing;default:return Wa.Closed}}isConnected(){return this.connectionState()===Wa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new bs(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Tq,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",f=o.status||"";this.log("receive",`${f} ${r} ${i} ${u}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ca.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ca.open||this.conn.readyState===ca.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Er.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([kq],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:Sq};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Er.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,f,d,h,m,g,_;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Sy,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:wf.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Cv,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:bA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(S=>Nq[S-1]||Dq),this.vsn){case yI:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((S,E)=>E(JSON.stringify(S))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:((S,E)=>E(JSON.parse(S)));break;case Eq:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var uu=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Lq(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function Bq(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function qq(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:l}){const u=Lq(e.baseUrl,r,i),f=await Bq(e.auth),d=await t(u,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...f,...l},body:o?JSON.stringify(o):void 0}),h=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),g=m&&h?JSON.parse(h):h;if(!d.ok){const _=m?g:void 0,S=_==null?void 0:_.error;throw new uu((S==null?void 0:S.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:_})}return{status:d.status,headers:d.headers,data:g}}}}function Sf(e){return e.join("")}var zq=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Sf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sf(e.namespace)}`}),!0}catch(t){if(t instanceof uu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof uu&&n.status===409)return;throw n}}};function as(e){return e.join("")}var $q=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof uu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof uu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Hq=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=qq({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new zq(this.client,t),this.tableOps=new $q(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ih=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Gq=class extends ih{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ay=class extends ih{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const J0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jq=()=>Response,xy=e=>{if(Array.isArray(e))return e.map(n=>xy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=xy(r)}),t},Vq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Fq=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function Kq(e,t){if(cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yq(e){var t=Kq(e,"string");return cu(t)=="symbol"?t:t+""}function Jq(e,t,n){return(t=Yq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){Jq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Rv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Wq=async(e,t,n)=>{e instanceof await jq()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,o=(r==null?void 0:r.statusCode)||i+"";t(new Gq(Rv(r),i,o))}).catch(r=>{t(new Ay(Rv(r),r))}):t(new Ay(Rv(e),e))},Xq=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(Vq(r)?(i.headers=Ee({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Ee(Ee({},i),n))};async function Mu(e,t,n,r,i,o){return new Promise((l,u)=>{e(n,Xq(t,r,i,o)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>Wq(f,u,r))})}async function fu(e,t,n,r){return Mu(e,"GET",t,n,r)}async function Sr(e,t,n,r,i){return Mu(e,"POST",t,r,i,n)}async function Cy(e,t,n,r,i){return Mu(e,"PUT",t,r,i,n)}async function Qq(e,t,n,r){return Mu(e,"HEAD",t,Ee(Ee({},n),{},{noResolveJson:!0}),r)}async function W0(e,t,n,r,i){return Mu(e,"DELETE",t,r,i,n)}var Zq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}}};let SI;SI=Symbol.toStringTag;var ez=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[SI]="BlobDownloadBuilder",this.promise=null}asStream(){return new Zq(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}}};const tz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},TA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var nz=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=J0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let o;const l=Ee(Ee({},TA),r);let u=Ee(Ee({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",i.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),f&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(f))):(o=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(u=Ee(Ee({},u),r.headers));const d=i._removeEmptyFolders(t),h=i._getFinalPath(d),m=await(e=="PUT"?Cy:Sr)(i.fetch,`${i.url}/object/${h}`,o,Ee({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),l=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let f;const d=Ee({upsert:TA.upsert},r),h=Ee(Ee({},i.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",d.cacheControl)):(f=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType),{data:{path:o,fullPath:(await Cy(i.fetch,u.toString(),f,{headers:h})).Key},error:null}}catch(f){if(i.shouldThrowOnError)throw f;if(ft(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const i=Ee({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await Sr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(n.url+o.url),u=l.searchParams.get("token");if(!u)throw new ih("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Sr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await Sr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),o=await Sr(r.fetch,`${r.url}/object/sign/${i}`,Ee({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{const i=await Sr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Ee(Ee({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),l=()=>fu(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new ez(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:xy(await fu(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Qq(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r)&&r instanceof Ay){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}async remove(e){var t=this;try{return{data:await W0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const i=Ee(Ee(Ee({},tz),t),{},{prefix:e||""});return{data:await Sr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{const r=Ee({},e);return{data:await Sr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const EI="2.88.0",TI={"X-Client-Info":`storage-js/${EI}`};var rz=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Ee(Ee({},TI),t),this.fetch=J0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await fu(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await fu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Sr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Cy(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Sr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await W0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},iz=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},TI),t),this.fetch=J0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Sr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await fu(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await W0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!Fq(e))throw new ih("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Hq({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const l=i[o];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(f){if(r)throw f;return{data:null,error:f}}}}})}};const X0={"X-Client-Info":`storage-js/${EI}`,"Content-Type":"application/json"};var AI=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Ov=class extends AI{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},az=class extends AI{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Q0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},AA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sz=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new Ov(AA(o),r,l))}).catch(()=>{const o=r+"";t(new Ov(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new Ov(i.statusText||`HTTP ${r} error`,r,o))}}else t(new az(AA(e),e))},lz=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(oz(r)?(i.headers=Ee({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Ee(Ee({},i),n)):i};async function uz(e,t,n,r,i,o){return new Promise((l,u)=>{e(n,lz(t,r,i,o)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;const d=f.headers.get("content-type");return!d||!d.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>sz(f,u,r))})}async function Fn(e,t,n,r,i){return uz(e,"POST",t,r,i,n)}var cz=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},X0),t),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Fn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Vn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Fn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Vn(r))return{data:null,error:r};throw r}}},fz=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},X0),t),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Fn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Fn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Fn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}},dz=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},X0),t),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}},hz=class extends dz{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new pz(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},pz=class extends cz{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new mz(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},mz=class extends fz{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},vz=class extends rz{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new nz(this.url,this.headers,e,this.fetch)}get vectors(){return new hz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new iz(this.url+"/iceberg",this.headers,this.fetch)}};const xI="2.88.0",ms=30*1e3,Ry=3,Pv=Ry*ms,gz="http://localhost:9999",yz="supabase.auth.token",bz={"X-Client-Info":`gotrue-js/${xI}`},Oy="X-Supabase-Api-Version",CI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_z=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wz=600*1e3;class du extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sz extends du{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Ez(e){return ye(e)&&e.name==="AuthApiError"}class Xa extends du{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Oi extends du{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Gn extends Oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tz(e){return ye(e)&&e.name==="AuthSessionMissingError"}class os extends Oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ef extends Oi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Tf extends Oi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Az(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class xA extends Oi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xz extends Oi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Py extends Oi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Iv(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class CA extends Oi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Iy extends Oi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const td="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),RA=` 	
\r=`.split(""),Cz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<RA.length;t+=1)e[RA[t].charCodeAt(0)]=-2;for(let t=0;t<td.length;t+=1)e[td[t].charCodeAt(0)]=t;return e})();function OA(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(td[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(td[r]),t.queuedBits-=6}}function RI(e,t,n){const r=Cz[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function PA(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{Pz(l,r,n)};for(let l=0;l<e.length;l+=1)RI(e.charCodeAt(l),i,o);return t.join("")}function Rz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Oz(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Rz(r,t)}}function Pz(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ts(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)RI(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Iz(e){const t=[];return Oz(e,n=>t.push(n)),new Uint8Array(t)}function Qa(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>OA(i,n,r)),OA(null,n,r),t.join("")}function Mz(e){return Math.round(Date.now()/1e3)+e}function Nz(){return Symbol("auth-callback")}const on=()=>typeof window<"u"&&typeof document<"u",Ha={tested:!1,writable:!1},OI=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ha.tested)return Ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ha.tested=!0,Ha.writable=!0}catch{Ha.tested=!0,Ha.writable=!1}return Ha.writable};function Dz(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const PI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ga=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},rn=async(e,t)=>{await e.removeItem(t)};class ah{constructor(){this.promise=new ah.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ah.promiseConstructor=Promise;function Mv(e){const t=e.split(".");if(t.length!==3)throw new Iy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!_z.test(t[r]))throw new Iy("JWT not in base64url format");return{header:JSON.parse(PA(t[0])),payload:JSON.parse(PA(t[1])),signature:Ts(t[2]),raw:{header:t[0],payload:t[1]}}}async function Uz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Lz(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function Bz(e){return("0"+e.toString(16)).substr(-2)}function qz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Bz).join("")}async function zz(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function $z(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await zz(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ss(e,t,n=!1){const r=qz();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await vs(e,`${t}-code-verifier`,i);const o=await $z(r);return[o,r===o?"plain":"s256"]}const Hz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gz(e){const t=e.headers.get(Oy);if(!t||!t.match(Hz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function jz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Vz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ls(e){if(!Fz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nv(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kz(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function IA(e){return JSON.parse(JSON.stringify(e))}const Va=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yz=[502,503,504];async function MA(e){var t;if(!kz(e))throw new Py(Va(e),0);if(Yz.includes(e.status))throw new Py(Va(e),e.status);let n;try{n=await e.json()}catch(o){throw new Xa(Va(o),o)}let r;const i=Gz(e);if(i&&i.getTime()>=CI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new CA(Va(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Gn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new CA(Va(n),e.status,n.weak_password.reasons);throw new Sz(Va(n),e.status||500,r)}const Jz=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Se(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Oy]||(o[Oy]=CI["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await Wz(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function Wz(e,t,n,r,i,o){const l=Jz(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new Py(Va(f),0)}if(u.ok||await MA(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(f){await MA(f)}}function wr(e){var t;let n=null;Zz(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Mz(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function NA(e){const t=wr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ha(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Xz(e){return{data:e,error:null}}function Qz(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=rh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function DA(e){return e}function Zz(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dv=["global","local","others"];class e${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=PI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Dv[0]){if(Dv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dv.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ha})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=rh(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Qz,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ye(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ha})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:DA});if(h.error)throw h.error;const m=await h.json(),g=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ye(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ls(t);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ha})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ls(t);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ha})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ls(t);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ha})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ls(t.userId);try{const{data:n,error:r}=await Se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ls(t.userId),ls(t.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:DA});if(h.error)throw h.error;const m=await h.json(),g=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ye(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}}function kA(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const us={debug:!!(globalThis&&OI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class II extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class t$ extends II{}async function n$(e,t,n){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new t$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(us.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function r$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function MI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function i$(e){return parseInt(e,16)}function a$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function o$(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:f,resources:d,scheme:h,uri:m,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=MI(e.address),S=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",T=`${S} wants you to sign in with your Ethereum account:
${_}

${E}`;let C=`URI: ${m}
Version: ${g}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),f&&(C+=`
Request ID: ${f}`),d){let O=`
Resources:`;for(const R of d){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);O+=`
- ${R}`}C+=O}return`${T}
${C}`}class Ot extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class nd extends Ot{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function s$({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(NI(l)){if(o.rp.id!==l)return new Ot({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function l$({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(NI(r)){if(n.rpId!==r)return new Ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class u${createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const c$=new u$;function f$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=rh(e,["challenge","user","excludeCredentials"]),o=Ts(t).buffer,l=Object.assign(Object.assign({},n),{id:Ts(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];u.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:Ts(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function d$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=rh(e,["challenge","allowCredentials"]),i=Ts(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Ts(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function h$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Qa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Qa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function p$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Qa(new Uint8Array(i.authenticatorData)),clientDataJSON:Qa(new Uint8Array(i.clientDataJSON)),signature:Qa(new Uint8Array(i.signature)),userHandle:i.userHandle?Qa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function NI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function UA(){var e,t;return!!(on()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function m$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nd("Browser returned unexpected credential type",t)}:{data:null,error:new nd("Empty credential response",t)}}catch(t){return{data:null,error:s$({error:t,options:e})}}}async function v$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nd("Browser returned unexpected credential type",t)}:{data:null,error:new nd("Empty credential response",t)}}catch(t){return{data:null,error:l$({error:t,options:e})}}}const g$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},y$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function rd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=rd(u,l):r[o]=rd(l)}else r[o]=l}return r}function b$(e,t){return rd(g$,e,t||{})}function _$(e,t){return rd(y$,e,t||{})}class w${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const f=i??c$.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=b$(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:m}=await m$({publicKey:d,signal:f});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const d=_$(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:m}=await v$(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:f}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new Xa("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new du("rpId is required for WebAuthn authentication")};try{if(!UA())return{data:null,error:new Xa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new Xa("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new du("rpId is required for WebAuthn registration")};try{if(!UA())return{data:null,error:new Xa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:f,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new Xa("Unexpected error in register",l)}}}}r$();const S$={url:gz,storageKey:yz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function LA(e,t,n){return await n()}const cs={};class hu{get jwks(){var t,n;return(n=(t=cs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=cs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},S$),t);if(this.storageKey=o.storageKey,this.instanceID=(n=hu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,hu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&on()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new e$({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=PI(o.fetch),this.lock=o.lock||LA,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&on()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=n$:this.lock=LA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new w$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:OI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kA(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=kA(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${xI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(on()&&(n=Dz(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),on()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Az(o)){const f=(t=o.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ye(n)?this._returnResult({error:n}):this._returnResult({error:new Xa("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:wr}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(ye(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:m,options:g}=t;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await ss(this.storage,this.storageKey)),o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:_,code_challenge_method:S},xform:wr})}else if("phone"in t){const{phone:h,password:m,options:g}=t;o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:wr})}else throw new Ef("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await rn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(await rn(this.storage,`${this.storageKey}-code-verifier`),ye(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:NA})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:NA})}else throw new Ef("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new os;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,f,d,h,m,g;let _,S;if("message"in t)_=t.message,S=t.signature;else{const{chain:E,wallet:T,statement:C,options:O}=t;let R;if(on())if(typeof T=="object")R=T;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")R=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=T}const I=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href),M=await R.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=MI(M[0]);let k=(r=O==null?void 0:O.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const q=await R.request({method:"eth_chainId"});k=i$(q)}const H={domain:I.host,address:N,statement:C,uri:I.href,version:"1",chainId:k,nonce:(i=O==null?void 0:O.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=O==null?void 0:O.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=O==null?void 0:O.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.resources};_=o$(H),S=await R.request({method:"personal_sign",params:[a$(_),N]})}try{const{data:E,error:T}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:wr});if(T)throw T;if(!E||!E.session||!E.user){const C=new os;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(ye(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,i,o,l,u,f,d,h,m,g,_;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:T,wallet:C,statement:O,options:R}=t;let I;if(on())if(typeof C=="object")I=C;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))I=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=C}const M=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const N=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),O?{statement:O}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)S=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),E=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${M.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((m=(h=R==null?void 0:R.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...R.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await I.signMessage(new TextEncoder().encode(S),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=N}}try{const{data:T,error:C}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Qa(E)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:wr});if(C)throw C;if(!T||!T.session||!T.user){const O=new os;return this._returnResult({data:{user:null,session:null},error:O})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(ye(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await Ga(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new xz;const{data:o,error:l}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:wr});if(await rn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new os;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(await rn(this.storage,`${this.storageKey}-code-verifier`),ye(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wr}),{data:f,error:d}=u;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const h=new os;return this._returnResult({data:{user:null,session:null},error:h})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:f}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ss(this.storage,this.storageKey));const{error:m}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:u,options:f}=t,{data:d,error:h}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new Ef("You must provide either an email or phone number.")}catch(u){if(await rn(this.storage,`${this.storageKey}-code-verifier`),ye(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:wr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,d=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(i){if(ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,l;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await ss(this.storage,this.storageKey));const d=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:Xz});return!((o=d.data)===null||o===void 0)&&o.url&&on()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(u){if(await rn(this.storage,`${this.storageKey}-code-verifier`),ye(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Gn;const{error:i}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ye(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Ef("You must provide either an email or phone number and a type")}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Pv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Ga(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Nv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Kz(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ha}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gn}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ha})})}catch(n){if(ye(n))return Tz(n)&&(await this._removeSession(),await rn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Gn;const l=i.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await ss(this.storage,this.storageKey));const{data:d,error:h}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:ha});if(h)throw h;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await rn(this.storage,`${this.storageKey}-code-verifier`),ye(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Mv(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ye(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Gn;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!on())throw new Tf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Tf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xA("No code detected.");const{data:O,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:f,token_type:d}=t;if(!o||!u||!l||!d)throw new Tf("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let g=h+m;f&&(g=parseInt(f));const _=g-h;_*1e3<=ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const S=g-m;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,g,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,g,h);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const C={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:g,refresh_token:l,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(r){if(ye(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ga(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(Ez(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await rn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Nz(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ss(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await rn(this.storage,`${this.storageKey}-code-verifier`),ye(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,f,d,h;const{data:m,error:g}=o;if(g)throw g;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",_,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return on()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ye(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:f,access_token:d,nonce:h}=t,m=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:f,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wr}),{data:g,error:_}=m;return _?this._returnResult({data:{user:null,session:null},error:_}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new os}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:_}))}catch(i){if(await rn(this.storage,`${this.storageKey}-code-verifier`),ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Lz(async i=>(i>0&&await Uz(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Iv(o)&&Date.now()+l-r<ms})}catch(r){if(this._debug(n,"error",r),ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),on()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ga(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ga(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await vs(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Nv()}else if(i&&!i.user&&!i.user){const l=await Ga(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await rn(this.storage,this.storageKey+"-user"),await vs(this.storage,this.storageKey,i)):i.user=Nv()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Pv;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Pv}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Iv(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ah;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Gn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),ye(o)){const l={data:null,error:o};return Iv(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await rn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await vs(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=IA(i);await vs(this.storage,this.storageKey,o)}else{const i=IA(n);await vs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await rn(this.storage,this.storageKey),await rn(this.storage,this.storageKey+"-code-verifier"),await rn(this.storage,this.storageKey+"-user"),this.userStorage&&await rn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&on()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ms);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ms}ms, refresh threshold is ${Ry} ticks`),i<=Ry&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof II)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await ss(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:d}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?h$(t.webauthn.credential_response):p$(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:f$(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:d$(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Mv(r.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Gn})})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Gn});const l=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&on()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Gn});const l=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&on()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Gn})})}catch(t){if(ye(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Gn})})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+wz>i)return r;const{data:o,error:l}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});r=_.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:f}}=Mv(r);n!=null&&n.allowExpired||jz(o.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:o,header:i,signature:l},error:null}}const h=Vz(i.alg),m=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,Iz(`${u}.${f}`)))throw new Iy("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}}hu.nextInstanceID={};const E$=hu,T$="2.88.0";let nu="";typeof Deno<"u"?nu="deno":typeof document<"u"?nu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nu="react-native":nu="node";const A$={"X-Client-Info":`supabase-js-${nu}/${T$}`},x$={headers:A$},C$={schema:"public"},R$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},O$={};function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function P$(e,t){if(pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I$(e){var t=P$(e,"string");return pu(t)=="symbol"?t:t+""}function M$(e,t,n){return(t=I$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(r){M$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const N$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),D$=()=>Headers,k$=(e,t,n)=>{const r=N$(n),i=D$();return async(o,l)=>{var u;const f=(u=await t())!==null&&u!==void 0?u:e;let d=new i(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(o,gt(gt({},l),{},{headers:d}))}};function U$(e){return e.endsWith("/")?e:e+"/"}function L$(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:f,auth:d,realtime:h,global:m}=t,g={db:gt(gt({},f),i),auth:gt(gt({},d),o),realtime:gt(gt({},h),l),storage:{},global:gt(gt(gt({},m),u),{},{headers:gt(gt({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function B$(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(U$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var q$=class extends E${constructor(e){super(e)}},z$=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=B$(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:C$,realtime:O$,auth:gt(gt({},R$),{},{storageKey:l}),global:x$},f=L$(n??{},u);if(this.storageKey=(r=f.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=f.auth)!==null&&d!==void 0?d:{},this.headers,f.global.fetch)}this.fetch=k$(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(gt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new bq(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new vz(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new pq(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:l,lock:u,debug:f,throwOnError:d},h,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new q$({url:this.authUrl.href,headers:gt(gt({},g),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:l,lock:u,debug:f,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Uq(this.realtimeUrl.href,gt(gt({},e),{},{params:gt(gt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $$=(e,t,n)=>new z$(e,t,n);function H$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}H$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const an=[];for(let e=0;e<256;++e)an.push((e+256).toString(16).slice(1));function G$(e,t=0){return(an[e[t+0]]+an[e[t+1]]+an[e[t+2]]+an[e[t+3]]+"-"+an[e[t+4]]+an[e[t+5]]+"-"+an[e[t+6]]+an[e[t+7]]+"-"+an[e[t+8]]+an[e[t+9]]+"-"+an[e[t+10]]+an[e[t+11]]+an[e[t+12]]+an[e[t+13]]+an[e[t+14]]+an[e[t+15]]).toLowerCase()}let kv;const j$=new Uint8Array(16);function V$(){if(!kv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");kv=crypto.getRandomValues.bind(crypto)}return kv(j$)}const F$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qA={randomUUID:F$};function K$(e,t,n){var i;e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??V$();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,G$(r)}function My(e,t,n){return qA.randomUUID&&!e?qA.randomUUID():K$(e)}const Y$="https://srmsdbzvvyzucbwinfjm.supabase.co",J$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNybXNkYnp2dnl6dWNid2luZmptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4ODQyMTAsImV4cCI6MjA4MTQ2MDIxMH0.2JzSBhAjUkQof1PJdRezQ6fruz4246v5uEIHN7CUK4k",mu=$$(Y$,J$),W$=async e=>{try{const t=(e.name.split(".").pop()||"jpg").toLowerCase(),n=e.name.replace(/[^a-zA-Z0-9]/g,"").slice(0,15),i=`${Date.now()}_${n}.${t}`;console.log(`[Storage] Uploading ${i} (${e.type})...`);const{data:o,error:l}=await mu.storage.from("images").upload(i,e,{cacheControl:"3600",upsert:!1,contentType:e.type||"image/jpeg"});if(l)throw console.error("[Storage] Upload failed:",l),l;const{data:u}=mu.storage.from("images").getPublicUrl(i);return u.publicUrl}catch(t){throw console.error("[Storage] Unexpected error during upload:",t),t}},X$=async()=>{try{const{data:e,error:t}=await mu.from("inventoryItem").select("*").order("createdAt",{ascending:!1});if(t)throw console.error("Error fetching items from Supabase:",t),new Error(t.message);return(e||[]).map(n=>{let r=[];return n.entries&&Array.isArray(n.entries)&&n.entries.length>0?r=n.entries:r=[{id:My(),purchaseDate:n.purchaseDate||"",location:n.location||"",price:n.price||0,currency:n.currency||"HKD",quantity:1,expirationDate:n.expirationDate||"",startUseDate:n.startUseDate||"",finishUseDate:n.finishUseDate||"",disposed:n.disposed||!1}],{id:n.id,createdAt:n.createdAt,productName:n.productName||"",brand:n.brand||"",category:n.category||"",notes:n.notes||"",imageBase64:n.imageBase64,entries:r}})}catch(e){return console.error("Unexpected error loading items",e),[]}},Q$=async e=>{try{const t={id:e.id,productName:e.productName,brand:e.brand,category:e.category,notes:e.notes,imageBase64:e.imageBase64,createdAt:e.createdAt,entries:e.entries},{error:n}=await mu.from("inventoryItem").upsert(t);if(n)throw console.error("Error saving item to Supabase:",n),new Error(n.message)}catch(t){throw console.error("Unexpected error saving item",t),t}},Z$=async e=>{try{const{error:t}=await mu.from("inventoryItem").delete().eq("id",e);if(t)throw console.error("Error deleting item from Supabase:",t),new Error(t.message)}catch(t){throw console.error("Unexpected error deleting item",t),t}};function DI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=DI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=DI(e))&&(r&&(r+=" "),r+=t);return r}var eH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Z0(e){if(typeof e!="string")return!1;var t=eH;return t.includes(e)}var tH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nH=new Set(tH);function kI(e){return typeof e!="string"?!1:nH.has(e)}function UI(e){return typeof e=="string"&&e.startsWith("data-")}function Pr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(kI(n)||UI(n))&&(t[n]=e[n]);return t}function vu(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Pr(t)}return typeof e=="object"&&!Array.isArray(e)?Pr(e):null}function hr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(kI(n)||UI(n)||Z0(n))&&(t[n]=e[n]);return t}var rH=["children","width","height","viewBox","className","style","title","desc"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(null,arguments)}function iH(e,t){if(e==null)return{};var n,r,i=aH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eb=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:f,desc:d}=e,h=iH(e,rH),m=o||{width:r,height:i,x:0,y:0},g=Ke("recharts-surface",l);return x.createElement("svg",Ny({},hr(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),x.createElement("title",null,f),x.createElement("desc",null,d),n)}),oH=["children","className"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dy.apply(null,arguments)}function sH(e,t){if(e==null)return{};var n,r,i=lH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _n=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=sH(e,oH),o=Ke("recharts-layer",r);return x.createElement("g",Dy({className:o},hr(i),{ref:t}),n)}),tb=vI(),LI=x.createContext(null),uH=()=>x.useContext(LI);function tt(e){return function(){return e}}const BI=Math.cos,id=Math.sin,Nr=Math.sqrt,ad=Math.PI,oh=2*ad,ky=Math.PI,Uy=2*ky,Fa=1e-6,cH=Uy-Fa;function qI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function fH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return qI;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class dH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?qI:fH(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,f=r-t,d=i-n,h=l-t,m=u-n,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Fa)if(!(Math.abs(m*f-d*h)>Fa)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-l,S=i-u,E=f*f+d*d,T=_*_+S*S,C=Math.sqrt(E),O=Math.sqrt(g),R=o*Math.tan((ky-Math.acos((E+g-T)/(2*C*O)))/2),I=R/O,M=R/C;Math.abs(I-1)>Fa&&this._append`L${t+I*h},${n+I*m}`,this._append`A${o},${o},0,0,${+(m*_>h*S)},${this._x1=t+M*f},${this._y1=n+M*d}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=t+u,h=n+f,m=1^l,g=l?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Fa||Math.abs(this._y1-h)>Fa)&&this._append`L${d},${h}`,r&&(g<0&&(g=g%Uy+Uy),g>cH?this._append`A${r},${r},0,1,${m},${t-u},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:g>Fa&&this._append`A${r},${r},0,${+(g>=ky)},${m},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function nb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new dH(t)}function rb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zI(e){this._context=e}zI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function sh(e){return new zI(e)}function $I(e){return e[0]}function HI(e){return e[1]}function GI(e,t){var n=tt(!0),r=null,i=sh,o=null,l=nb(u);e=typeof e=="function"?e:e===void 0?$I:tt(e),t=typeof t=="function"?t:t===void 0?HI:tt(t);function u(f){var d,h=(f=rb(f)).length,m,g=!1,_;for(r==null&&(o=i(_=l())),d=0;d<=h;++d)!(d<h&&n(m=f[d],d,f))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+e(m,d,f),+t(m,d,f));if(_)return o=null,_+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:tt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:tt(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:tt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function Af(e,t,n){var r=null,i=tt(!0),o=null,l=sh,u=null,f=nb(d);e=typeof e=="function"?e:e===void 0?$I:tt(+e),t=typeof t=="function"?t:tt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?HI:tt(+n);function d(m){var g,_,S,E=(m=rb(m)).length,T,C=!1,O,R=new Array(E),I=new Array(E);for(o==null&&(u=l(O=f())),g=0;g<=E;++g){if(!(g<E&&i(T=m[g],g,m))===C)if(C=!C)_=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=g-1;S>=_;--S)u.point(R[S],I[S]);u.lineEnd(),u.areaEnd()}C&&(R[g]=+e(T,g,m),I[g]=+t(T,g,m),u.point(r?+r(T,g,m):R[g],n?+n(T,g,m):I[g]))}if(O)return u=null,O+""||null}function h(){return GI().defined(i).curve(l).context(o)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:tt(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:tt(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:tt(!!m),d):i},d.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),d):l},d.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),d):o},d}class jI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function hH(e){return new jI(e,!0)}function pH(e){return new jI(e,!1)}const ib={draw(e,t){const n=Nr(t/ad);e.moveTo(n,0),e.arc(0,0,n,0,oh)}},mH={draw(e,t){const n=Nr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},VI=Nr(1/3),vH=VI*2,gH={draw(e,t){const n=Nr(t/vH),r=n*VI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},yH={draw(e,t){const n=Nr(t),r=-n/2;e.rect(r,r,n,n)}},bH=.8908130915292852,FI=id(ad/10)/id(7*ad/10),_H=id(oh/10)*FI,wH=-BI(oh/10)*FI,SH={draw(e,t){const n=Nr(t*bH),r=_H*n,i=wH*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=oh*o/5,u=BI(l),f=id(l);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*i,f*r+u*i)}e.closePath()}},Uv=Nr(3),EH={draw(e,t){const n=-Nr(t/(Uv*3));e.moveTo(0,n*2),e.lineTo(-Uv*n,-n),e.lineTo(Uv*n,-n),e.closePath()}},sr=-.5,lr=Nr(3)/2,Ly=1/Nr(12),TH=(Ly/2+1)*3,AH={draw(e,t){const n=Nr(t/TH),r=n/2,i=n*Ly,o=r,l=n*Ly+n,u=-o,f=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(u,f),e.lineTo(sr*r-lr*i,lr*r+sr*i),e.lineTo(sr*o-lr*l,lr*o+sr*l),e.lineTo(sr*u-lr*f,lr*u+sr*f),e.lineTo(sr*r+lr*i,sr*i-lr*r),e.lineTo(sr*o+lr*l,sr*l-lr*o),e.lineTo(sr*u+lr*f,sr*f-lr*u),e.closePath()}};function xH(e,t){let n=null,r=nb(i);e=typeof e=="function"?e:tt(e||ib),t=typeof t=="function"?t:tt(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:tt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:tt(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function od(){}function sd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function KI(e){this._context=e}KI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CH(e){return new KI(e)}function YI(e){this._context=e}YI.prototype={areaStart:od,areaEnd:od,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RH(e){return new YI(e)}function JI(e){this._context=e}JI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OH(e){return new JI(e)}function WI(e){this._context=e}WI.prototype={areaStart:od,areaEnd:od,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function PH(e){return new WI(e)}function zA(e){return e<0?-1:1}function $A(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(zA(o)+zA(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function HA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Lv(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function ld(e){this._context=e}ld.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lv(this,this._t0,HA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lv(this,HA(this,n=$A(this,e,t)),n);break;default:Lv(this,this._t0,n=$A(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function XI(e){this._context=new QI(e)}(XI.prototype=Object.create(ld.prototype)).point=function(e,t){ld.prototype.point.call(this,t,e)};function QI(e){this._context=e}QI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function IH(e){return new ld(e)}function MH(e){return new XI(e)}function ZI(e){this._context=e}ZI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=GA(e),i=GA(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function GA(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function NH(e){return new ZI(e)}function lh(e,t){this._context=e,this._t=t}lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function DH(e){return new lh(e,.5)}function kH(e){return new lh(e,0)}function UH(e){return new lh(e,1)}function oo(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function By(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function LH(e,t){return e[t]}function BH(e){const t=[];return t.key=e,t}function qH(){var e=tt([]),t=By,n=oo,r=LH;function i(o){var l=Array.from(e.apply(this,arguments),BH),u,f=l.length,d=-1,h;for(const m of o)for(u=0,++d;u<f;++u)(l[u][d]=[0,+r(m,l[u].key,d,o)]).data=m;for(u=0,h=rb(t(l));u<f;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:tt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:tt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?By:typeof o=="function"?o:tt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??oo,i):n},i}function zH(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}oo(e,t)}}function $H(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}oo(e,t)}}function HH(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,f=0,d=0;u<l;++u){for(var h=e[t[u]],m=h[r][1]||0,g=h[r-1][1]||0,_=(m-g)/2,S=0;S<u;++S){var E=e[t[S]],T=E[r][1]||0,C=E[r-1][1]||0;_+=T-C}f+=m,d+=_*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,oo(e,t)}}var Bv={},qv={},jA;function GH(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(qv)),qv}var zv={},VA;function eM(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(zv)),zv}var $v={},FA;function ab(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})($v)),$v}var Hv={},Gv={},KA;function jH(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Gv)),Gv}var YA;function ob(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jH(),n=ab();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,f="",d="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const m=i[u];d?m==="\\"&&u+1<l?(u++,f+=i[u]):m===d?d="":f+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,o.push(f),f=""):f+=m:m==="["?(h=!0,f&&(o.push(f),f="")):m==="."?f&&(o.push(f),f=""):f+=m,u++}return f&&o.push(f),o}e.toPath=r})(Hv)),Hv}var JA;function sb(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GH(),n=eM(),r=ab(),i=ob();function o(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?n.isDeepKey(f)?o(u,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?d:h}default:{if(Array.isArray(f))return l(u,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?d:h}}}function l(u,f,d){if(f.length===0)return d;let h=u;for(let m=0;m<f.length;m++){if(h==null||t.isUnsafeProperty(f[m]))return d;h=h[f[m]]}return h===void 0?d:h}e.get=o})(Bv)),Bv}var jv,WA;function VH(){return WA||(WA=1,jv=sb().get),jv}var FH=VH();const so=Fr(FH);var KH=4;function ma(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:KH,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,l)=>{var u=n[l-1];return typeof u=="string"?i+u+o:u!==void 0?i+ma(u)+o:i+o},"")}var Kt=e=>e===0?0:e>0?1:-1,Ir=e=>typeof e=="number"&&e!=+e,wi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,pe=e=>(typeof e=="number"||e instanceof Number)&&!Ir(e),Gr=e=>pe(e)||typeof e=="string",YH=0,gu=e=>{var t=++YH;return"".concat(e||"").concat(t)},mn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&typeof t!="string")return r;var o;if(wi(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return Ir(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},tM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function kt(e,t,n){return pe(e)&&pe(t)?ma(e+n*(t-e)):t}function JH(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):so(r,t))===n)}var Yt=e=>e===null||typeof e>"u",Nu=e=>Yt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function WH(e){return e!=null}function Du(){}var XH=["type","size","sizeType"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qy.apply(null,arguments)}function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(r){QH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QH(e,t,n){return(t=ZH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZH(e){var t=eG(e,"string");return typeof t=="symbol"?t:t+""}function eG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tG(e,t){if(e==null)return{};var n,r,i=nG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nM={symbolCircle:ib,symbolCross:mH,symbolDiamond:gH,symbolSquare:yH,symbolStar:SH,symbolTriangle:EH,symbolWye:AH},rG=Math.PI/180,iG=e=>{var t="symbol".concat(Nu(e));return nM[t]||ib},aG=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*rG;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oG=(e,t)=>{nM["symbol".concat(Nu(e))]=t},lb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=tG(e,XH),o=QA(QA({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var g=iG(l),_=xH().type(g).size(aG(n,r,l)),S=_();if(S!==null)return S},{className:f,cx:d,cy:h}=o,m=hr(o);return pe(d)&&pe(h)&&pe(n)?x.createElement("path",qy({},m,{className:Ke("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};lb.registerSymbol=oG;var rM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,sG=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Z0(i)&&(r[i]=(o=>n[i](n,o)))}),r},lG=(e,t,n)=>r=>(e(t,n,r),null),ku=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];Z0(i)&&typeof o=="function"&&(r||(r={}),r[i]=lG(o,t,n))}),r};function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(n),!0).forEach(function(r){cG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cG(e,t,n){return(t=fG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jt(e,t){var n=uG({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(null,arguments)}function ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ex(Object(n),!0).forEach(function(r){pG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pG(e,t,n){return(t=mG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mG(e){var t=vG(e,"string");return typeof t=="symbol"?t:t+""}function vG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cr=32,gG={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function yG(e){var{data:t,iconType:n,inactiveColor:r}=e,i=cr/2,o=cr/6,l=cr/3,u=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline"){var d;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:cr,y2:i,className:"recharts-legend-icon"})}if(f==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(cr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(cr/8,"h").concat(cr,"v").concat(cr*3/4,"h").concat(-cr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var h=hG({},t);return delete h.legendIcon,x.cloneElement(t.legendIcon,h)}return x.createElement(lb,{fill:u,cx:i,cy:i,size:cr,sizeType:"diameter",type:f})}function bG(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=e,u={x:0,y:0,width:cr,height:cr},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var g=h.formatter||i,_=Ke({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var S=h.inactive?o:h.color,E=g?g(h.value,h,m):h.value;return x.createElement("li",ud({className:_,style:f,key:"legend-item-".concat(m)},ku(e,h,m)),x.createElement(eb,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(E," legend icon")},x.createElement(yG,{data:h,iconType:l,inactiveColor:o})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},E))})}var _G=e=>{var t=Jt(e,gG),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:o},x.createElement(bG,ud({},t,{payload:n})))},Vv={},Fv={},tx;function wG(){return tx||(tx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Fv)),Fv}var Kv={},nx;function iM(){return nx||(nx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Kv)),Kv}var Yv={},Jv={},Wv={},rx;function SG(){return rx||(rx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Wv)),Wv}var ix;function ub(){return ix||(ix=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SG();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Jv)),Jv}var Xv={},ax;function EG(){return ax||(ax=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Xv)),Xv}var ox;function TG(){return ox||(ox=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ub(),n=EG();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Yv)),Yv}var Qv={},Zv={},sx;function AG(){return sx||(sx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Zv)),Zv}var eg={},tg={},ng={},rg={},lx;function aM(){return lx||(lx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(rg)),rg}var ig={},ux;function oM(){return ux||(ux=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(ig)),ig}var ag={},cx;function sM(){return cx||(cx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(ag)),ag}var fx;function xG(){return fx||(fx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM(),n=oM(),r=sM();function i(h,m,g){return typeof g!="function"?i(h,m,()=>{}):o(h,m,function _(S,E,T,C,O,R){const I=g(S,E,T,C,O,R);return I!==void 0?!!I:o(S,E,_,R)},new Map)}function o(h,m,g,_){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,g,_);case"function":return Object.keys(m).length>0?o(h,{...m},g,_):r.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,g,_){if(m==null)return!0;if(Array.isArray(m))return f(h,m,g,_);if(m instanceof Map)return u(h,m,g,_);if(m instanceof Set)return d(h,m,g,_);const S=Object.keys(m);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(_!=null&&_.has(m))return _.get(m)===h;_==null||_.set(m,h);try{for(let E=0;E<S.length;E++){const T=S[E];if(!n.isPrimitive(h)&&!(T in h)||m[T]===void 0&&h[T]!==void 0||m[T]===null&&h[T]!==null||!g(h[T],m[T],T,h,m,_))return!1}return!0}finally{_==null||_.delete(m)}}function u(h,m,g,_){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,E]of m.entries()){const T=h.get(S);if(g(T,E,S,h,m,_)===!1)return!1}return!0}function f(h,m,g,_){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let E=0;E<m.length;E++){const T=m[E];let C=!1;for(let O=0;O<h.length;O++){if(S.has(O))continue;const R=h[O];let I=!1;if(g(R,T,E,h,m,_)&&(I=!0),I){S.add(O),C=!0;break}}if(!C)return!1}return!0}function d(h,m,g,_){return m.size===0?!0:h instanceof Set?f([...h],[...m],g,_):!1}e.isMatchWith=i,e.isSetMatch=d})(ng)),ng}var dx;function lM(){return dx||(dx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xG();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(tg)),tg}var og={},sg={},lg={},hx;function CG(){return hx||(hx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(lg)),lg}var ug={},px;function uM(){return px||(px=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ug)),ug}var cg={},mx;function cM(){return mx||(mx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",g="[object ArrayBuffer]",_="[object Object]",S="[object Error]",E="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",O="[object Uint16Array]",R="[object Uint32Array]",I="[object BigUint64Array]",M="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",H="[object BigInt64Array]",q="[object Float32Array]",ne="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=q,e.float64ArrayTag=ne,e.functionTag=m,e.int16ArrayTag=N,e.int32ArrayTag=k,e.int8ArrayTag=M,e.mapTag=f,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=R,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=C})(cg)),cg}var fg={},vx;function RG(){return vx||(vx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(fg)),fg}var gx;function fM(){return gx||(gx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CG(),n=uM(),r=cM(),i=oM(),o=RG();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,g,_=new Map,S=void 0){const E=S==null?void 0:S(h,m,g,_);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(_.has(h))return _.get(h);if(Array.isArray(h)){const T=new Array(h.length);_.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,g,_,S);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;_.set(h,T);for(const[C,O]of h)T.set(C,u(O,C,g,_,S));return T}if(h instanceof Set){const T=new Set;_.set(h,T);for(const C of h)T.add(u(C,void 0,g,_,S));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);_.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,g,_,S);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return _.set(h,T),f(T,h,g,_,S),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return _.set(h,T),f(T,h,g,_,S),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return _.set(h,T),f(T,h,g,_,S),T}if(h instanceof Error){const T=new h.constructor;return _.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,f(T,h,g,_,S),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return _.set(h,T),f(T,h,g,_,S),T}if(h instanceof Number){const T=new Number(h.valueOf());return _.set(h,T),f(T,h,g,_,S),T}if(h instanceof String){const T=new String(h.valueOf());return _.set(h,T),f(T,h,g,_,S),T}if(typeof h=="object"&&d(h)){const T=Object.create(Object.getPrototypeOf(h));return _.set(h,T),f(T,h,g,_,S),T}return h}function f(h,m,g=h,_,S){const E=[...Object.keys(m),...t.getSymbols(m)];for(let T=0;T<E.length;T++){const C=E[T],O=Object.getOwnPropertyDescriptor(h,C);(O==null||O.writable)&&(h[C]=u(m[C],C,g,_,S))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=f})(sg)),sg}var yx;function OG(){return yx||(yx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fM();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(og)),og}var bx;function PG(){return bx||(bx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM(),n=OG();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(eg)),eg}var dg={},hg={},pg={},_x;function IG(){return _x||(_x=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fM(),n=cM();function r(i,o){return t.cloneDeepWith(i,(l,u,f,d)=>{const h=o==null?void 0:o(l,u,f,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(pg)),pg}var wx;function MG(){return wx||(wx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IG();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(hg)),hg}var mg={},vg={},Sx;function dM(){return Sx||(Sx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(vg)),vg}var gg={},Ex;function NG(){return Ex||(Ex=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uM();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(gg)),gg}var Tx;function DG(){return Tx||(Tx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM(),n=dM(),r=NG(),i=ob();function o(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=l;for(let h=0;h<f.length;h++){const m=f[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=o})(mg)),mg}var Ax;function kG(){return Ax||(Ax=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM(),n=ab(),r=MG(),i=sb(),o=DG();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,u);return h===void 0?o.has(d,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=l})(dg)),dg}var xx;function UG(){return xx||(xx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM(),n=AG(),r=PG(),i=kG();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(Qv)),Qv}var Cx;function LG(){return Cx||(Cx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wG(),n=iM(),r=TG(),i=UG();function o(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=o})(Vv)),Vv}var yg,Rx;function BG(){return Rx||(Rx=1,yg=LG().uniqBy),yg}var qG=BG();const Ox=Fr(qG);function hM(e,t,n){return t===!0?Ox(e,n):typeof t=="function"?Ox(e,t):e}var bg={exports:{}},_g={},wg={exports:{}},Sg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px;function zG(){if(Px)return Sg;Px=1;var e=Bs();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(m,g){var _=g(),S=r({inst:{value:_,getSnapshot:g}}),E=S[0].inst,T=S[1];return o(function(){E.value=_,E.getSnapshot=g,f(E)&&T({inst:E})},[m,_,g]),i(function(){return f(E)&&T({inst:E}),m(function(){f(E)&&T({inst:E})})},[m]),l(_),_}function f(m){var g=m.getSnapshot;m=m.value;try{var _=g();return!n(m,_)}catch{return!0}}function d(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return Sg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Sg}var Ix;function $G(){return Ix||(Ix=1,wg.exports=zG()),wg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx;function HG(){if(Mx)return _g;Mx=1;var e=Bs(),t=$G();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,f=e.useDebugValue;return _g.useSyncExternalStoreWithSelector=function(d,h,m,g,_){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function C(N){if(!O){if(O=!0,R=N,N=g(N),_!==void 0&&E.hasValue){var k=E.value;if(_(k,N))return I=k}return I=N}if(k=I,r(R,N))return k;var H=g(N);return _!==void 0&&_(k,H)?(R=N,k):(R=N,I=H)}var O=!1,R,I,M=m===void 0?null:m;return[function(){return C(h())},M===null?void 0:function(){return C(M())}]},[h,m,g,_]);var T=i(d,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),f(T),T},_g}var Nx;function GG(){return Nx||(Nx=1,bg.exports=HG()),bg.exports}var jG=GG(),cb=x.createContext(null),VG=e=>e,nt=()=>{var e=x.useContext(cb);return e?e.store.dispatch:VG},Yf=()=>{},FG=()=>Yf,KG=(e,t)=>e===t;function ge(e){var t=x.useContext(cb);return jG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:FG,t?t.store.getState:Yf,t?t.store.getState:Yf,t?e:Yf,KG)}function YG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function JG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function WG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Dx=e=>Array.isArray(e)?e:[e];function XG(e){const t=Array.isArray(e[0])?e[0]:e;return WG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function QG(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var ZG=class{constructor(e){this.value=e}deref(){return this.value}},ej=typeof WeakRef<"u"?WeakRef:ZG,tj=0,kx=1;function xf(){return{s:tj,v:void 0,o:null,p:null}}function pM(e,t={}){let n=xf();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var m;let u=n;const{length:f}=arguments;for(let g=0,_=f;g<_;g++){const S=arguments[g];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const T=E.get(S);T===void 0?(u=xf(),E.set(S,u)):u=T}else{let E=u.p;E===null&&(u.p=E=new Map);const T=E.get(S);T===void 0?(u=xf(),E.set(S,u)):u=T}}const d=u;let h;if(u.s===kx)h=u.v;else if(h=e.apply(null,arguments),o++,r){const g=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;g!=null&&r(g,h)&&(h=g,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new ej(h):h}return d.s=kx,d.v=h,h}return l.clearCache=()=>{n=xf(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function nj(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),YG(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:m,memoizeOptions:g=[],argsMemoize:_=pM,argsMemoizeOptions:S=[]}=h,E=Dx(g),T=Dx(S),C=XG(i),O=m(function(){return o++,d.apply(null,arguments)},...E),R=_(function(){l++;const M=QG(C,arguments);return u=O.apply(null,M),u},...T);return Object.assign(R,{resultFunc:d,memoizedResultFunc:O,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var V=nj(pM),rj=Object.assign((e,t=V)=>{JG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>rj}),Eg={},Tg={},Ag={},Ux;function ij(){return Ux||(Ux=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(Ag)),Ag}var xg={},Cg={},Lx;function mM(){return Lx||(Lx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Cg)),Cg}var Bx;function aj(){return Bx||(Bx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(xg)),xg}var qx;function oj(){return qx||(qx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ij(),n=aj(),r=ob();function i(o,l,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const d=(_,S)=>{let E=_;for(let T=0;T<S.length&&E!=null;++T)E=E[S[T]];return E},h=(_,S)=>S==null||_==null?S:typeof _=="object"&&"key"in _?Object.hasOwn(S,_.key)?S[_.key]:d(S,_.path):typeof _=="function"?_(S):Array.isArray(_)?d(S,_):typeof S=="object"?S[_]:S,m=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return o.map(_=>({original:_,criteria:m.map(S=>h(S,_))})).slice().sort((_,S)=>{for(let E=0;E<m.length;E++){const T=t.compareValues(_.criteria[E],S.criteria[E],u[E]);if(T!==0)return T}return 0}).map(_=>_.original)}e.orderBy=i})(Tg)),Tg}var Rg={},zx;function sj(){return zx||(zx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,f)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&f<o?l(h,f+1):i.push(h)}};return l(n,0),i}e.flatten=t})(Rg)),Rg}var Og={},$x;function vM(){return $x||($x=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dM(),n=ub(),r=aM(),i=sM();function o(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}e.isIterateeCall=o})(Og)),Og}var Hx;function lj(){return Hx||(Hx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oj(),n=sj(),r=vM();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(Eg)),Eg}var Pg,Gx;function uj(){return Gx||(Gx=1,Pg=lj().sortBy),Pg}var cj=uj();const uh=Fr(cj);var gM=e=>e.legend.settings,fj=e=>e.legend.size,dj=e=>e.legend.payload,hj=V([dj,gM],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?uh(r,n):r});function pj(){return ge(hj)}var Cf=1;function yM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>Cf||Math.abs(l.left-t.left)>Cf||Math.abs(l.top-t.top)>Cf||Math.abs(l.width-t.width)>Cf)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function sn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mj=typeof Symbol=="function"&&Symbol.observable||"@@observable",jx=mj,Ig=()=>Math.random().toString(36).substring(7).split("").join("."),vj={INIT:`@@redux/INIT${Ig()}`,REPLACE:`@@redux/REPLACE${Ig()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ig()}`},cd=vj;function fb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bM(e,t,n){if(typeof e!="function")throw new Error(sn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(sn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(sn(1));return n(bM)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((T,C)=>{l.set(C,T)}))}function h(){if(f)throw new Error(sn(3));return i}function m(T){if(typeof T!="function")throw new Error(sn(4));if(f)throw new Error(sn(5));let C=!0;d();const O=u++;return l.set(O,T),function(){if(C){if(f)throw new Error(sn(6));C=!1,d(),l.delete(O),o=null}}}function g(T){if(!fb(T))throw new Error(sn(7));if(typeof T.type>"u")throw new Error(sn(8));if(typeof T.type!="string")throw new Error(sn(17));if(f)throw new Error(sn(9));try{f=!0,i=r(i,T)}finally{f=!1}return(o=l).forEach(O=>{O()}),T}function _(T){if(typeof T!="function")throw new Error(sn(10));r=T,g({type:cd.REPLACE})}function S(){const T=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(sn(11));function O(){const I=C;I.next&&I.next(h())}return O(),{unsubscribe:T(O)}},[jx](){return this}}}return g({type:cd.INIT}),{dispatch:g,subscribe:m,getState:h,replaceReducer:_,[jx]:S}}function gj(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:cd.INIT})>"u")throw new Error(sn(12));if(typeof n(void 0,{type:cd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sn(13))})}function _M(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{gj(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],g=n[m],_=l[m],S=g(_,u);if(typeof S>"u")throw u&&u.type,new Error(sn(14));d[m]=S,f=f||S!==_}return f=f||r.length!==Object.keys(l).length,f?d:l}}function fd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function yj(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(sn(15))};const l={getState:i.getState,dispatch:(f,...d)=>o(f,...d)},u=e.map(f=>f(l));return o=fd(...u)(i.dispatch),{...i,dispatch:o}}}function wM(e){return fb(e)&&"type"in e&&typeof e.type=="string"}var SM=Symbol.for("immer-nothing"),Vx=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function Tr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Yn=Object,Os=Yn.getPrototypeOf,dd="constructor",ch="prototype",zy="configurable",hd="enumerable",Jf="writable",yu="value",Si=e=>!!e&&!!e[wn];function Mr(e){var t;return e?EM(e)||fh(e)||!!e[Vx]||!!((t=e[dd])!=null&&t[Vx])||dh(e)||hh(e):!1}var bj=Yn[ch][dd].toString(),Fx=new WeakMap;function EM(e){if(!e||!db(e))return!1;const t=Os(e);if(t===null||t===Yn[ch])return!0;const n=Yn.hasOwnProperty.call(t,dd)&&t[dd];if(n===Object)return!0;if(!gs(n))return!1;let r=Fx.get(n);return r===void 0&&(r=Function.toString.call(n),Fx.set(n,r)),r===bj}function Uu(e,t,n=!0){Lu(e)===0?(n?Reflect.ownKeys(e):Yn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Lu(e){const t=e[wn];return t?t.type_:fh(e)?1:dh(e)?2:hh(e)?3:0}var Kx=(e,t,n=Lu(e))=>n===2?e.has(t):Yn[ch].hasOwnProperty.call(e,t),$y=(e,t,n=Lu(e))=>n===2?e.get(t):e[t],pd=(e,t,n,r=Lu(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function _j(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var fh=Array.isArray,dh=e=>e instanceof Map,hh=e=>e instanceof Set,db=e=>typeof e=="object",gs=e=>typeof e=="function",Mg=e=>typeof e=="boolean",pi=e=>e.copy_||e.base_,hb=e=>e.modified_?e.copy_:e.base_;function Hy(e,t){if(dh(e))return new Map(e);if(hh(e))return new Set(e);if(fh(e))return Array[ch].slice.call(e);const n=EM(e);if(t===!0||t==="class_only"&&!n){const r=Yn.getOwnPropertyDescriptors(e);delete r[wn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[Jf]===!1&&(u[Jf]=!0,u[zy]=!0),(u.get||u.set)&&(r[l]={[zy]:!0,[Jf]:!0,[hd]:u[hd],[yu]:e[l]})}return Yn.create(Os(e),r)}else{const r=Os(e);if(r!==null&&n)return{...e};const i=Yn.create(r);return Yn.assign(i,e)}}function pb(e,t=!1){return ph(e)||Si(e)||!Mr(e)||(Lu(e)>1&&Yn.defineProperties(e,{set:Rf,add:Rf,clear:Rf,delete:Rf}),Yn.freeze(e),t&&Uu(e,(n,r)=>{pb(r,!0)},!1)),e}function wj(){Tr(2)}var Rf={[yu]:wj};function ph(e){return e===null||!db(e)?!0:Yn.isFrozen(e)}var md="MapSet",Gy="Patches",TM={};function Ps(e){const t=TM[e];return t||Tr(0,e),t}var Sj=e=>!!TM[e],bu,AM=()=>bu,Ej=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Sj(md)?Ps(md):void 0});function Yx(e,t){t&&(e.patchPlugin_=Ps(Gy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jy(e){Vy(e),e.drafts_.forEach(Tj),e.drafts_=null}function Vy(e){e===bu&&(bu=e.parent_)}var Jx=e=>bu=Ej(bu,e);function Tj(e){const t=e[wn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Wx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[wn].modified_&&(jy(t),Tr(4)),Mr(e)&&(e=Xx(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[wn].base_,e,t)}else e=Xx(t,n);return Aj(t,e,!0),jy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==SM?e:void 0}function Xx(e,t){if(ph(t))return t;const n=t[wn];if(!n)return mb(t,e.handledSet_,e);if(!mh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);RM(n,e)}return n.copy_}function Aj(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pb(t,n)}function xM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var mh=(e,t)=>e.scope_===t,xj=[];function CM(e,t,n,r){const i=pi(e),o=e.type_;if(r!==void 0&&$y(i,r,o)===t){pd(i,r,n,o);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Uu(i,(f,d)=>{if(Si(d)){const h=u.get(d)||[];h.push(f),u.set(d,h)}})}const l=e.draftLocations_.get(t)??xj;for(const u of l)pd(i,u,n,o)}function Cj(e,t,n){e.callbacks_.push(function(i){var u;const o=t;if(!o||!mh(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const l=hb(o);CM(e,o.draft_??o,l,n),RM(o,i)})}function RM(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}xM(e)}}function Rj(e,t,n){const{scope_:r}=e;if(Si(n)){const i=n[wn];mh(i,r)&&i.callbacks_.push(function(){Wf(e);const l=hb(i);CM(e,n,l,t)})}else Mr(n)&&e.callbacks_.push(function(){const o=pi(e);$y(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&mb($y(e.copy_,t,e.type_),r.handledSet_,r)})}function mb(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Si(e)||t.has(e)||!Mr(e)||ph(e)||(t.add(e),Uu(e,(r,i)=>{if(Si(i)){const o=i[wn];if(mh(o,n)){const l=hb(o);pd(e,r,l,e.type_),xM(o)}}else Mr(i)&&mb(i,t,n)})),e}function Oj(e,t){const n=fh(e),r={type_:n?1:0,scope_:t?t.scope_:AM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=vb;n&&(i=[r],o=_u);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var vb={get(e,t){if(t===wn)return e;const n=pi(e);if(!Kx(n,t,e.type_))return Pj(e,n,t);const r=n[t];if(e.finalized_||!Mr(r))return r;if(r===Ng(e.base_,t)){Wf(e);const i=e.type_===1?+t:t,o=Ky(e.scope_,r,e,i);return e.copy_[i]=o}return r},has(e,t){return t in pi(e)},ownKeys(e){return Reflect.ownKeys(pi(e))},set(e,t,n){const r=OM(pi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Ng(pi(e),t),o=i==null?void 0:i[wn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(_j(n,i)&&(n!==void 0||Kx(e.base_,t,e.type_)))return!0;Wf(e),Fy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Rj(e,t,n)),!0},deleteProperty(e,t){return Wf(e),Ng(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Fy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=pi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Jf]:!0,[zy]:e.type_!==1||t!=="length",[hd]:r[hd],[yu]:n[t]}},defineProperty(){Tr(11)},getPrototypeOf(e){return Os(e.base_)},setPrototypeOf(){Tr(12)}},_u={};Uu(vb,(e,t)=>{_u[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});_u.deleteProperty=function(e,t){return _u.set.call(this,e,t,void 0)};_u.set=function(e,t,n){return vb.set.call(this,e[0],t,n,e[0])};function Ng(e,t){const n=e[wn];return(n?pi(n):e)[t]}function Pj(e,t,n){var i;const r=OM(t,n);return r?yu in r?r[yu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function OM(e,t){if(!(t in e))return;let n=Os(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Os(n)}}function Fy(e){e.modified_||(e.modified_=!0,e.parent_&&Fy(e.parent_))}function Wf(e){e.copy_||(e.assigned_=new Map,e.copy_=Hy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ij=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(gs(n)&&!gs(r)){const l=r;r=n;const u=this;return function(d=l,...h){return u.produce(d,m=>r.call(this,m,...h))}}gs(r)||Tr(6),i!==void 0&&!gs(i)&&Tr(7);let o;if(Mr(n)){const l=Jx(this),u=Ky(l,n,void 0);let f=!0;try{o=r(u),f=!1}finally{f?jy(l):Vy(l)}return Yx(l,i),Wx(o,l)}else if(!n||!db(n)){if(o=r(n),o===void 0&&(o=n),o===SM&&(o=void 0),this.autoFreeze_&&pb(o,!0),i){const l=[],u=[];Ps(Gy).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else Tr(1,n)},this.produceWithPatches=(n,r)=>{if(gs(n))return(u,...f)=>this.produceWithPatches(u,d=>n(d,...f));let i,o;return[this.produce(n,r,(u,f)=>{i=u,o=f}),i,o]},Mg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Mg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Mg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Mr(t)||Tr(8),Si(t)&&(t=Cr(t));const n=Jx(this),r=Ky(n,t,void 0);return r[wn].isManual_=!0,Vy(n),r}finishDraft(t,n){const r=t&&t[wn];(!r||!r.isManual_)&&Tr(9);const{scope_:i}=r;return Yx(i,n),Wx(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Ps(Gy).applyPatches_;return Si(t)?i(t,n):this.produce(t,o=>i(o,n))}};function Ky(e,t,n,r){const[i,o]=dh(t)?Ps(md).proxyMap_(t,n):hh(t)?Ps(md).proxySet_(t,n):Oj(t,n);return((n==null?void 0:n.scope_)??AM()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?Cj(n,o,r):o.callbacks_.push(function(f){var h;(h=f.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:d}=f;o.modified_&&d&&d.generatePatches_(o,[],f)}),i}function Cr(e){return Si(e)||Tr(10,e),PM(e)}function PM(e){if(!Mr(e)||ph(e))return e;const t=e[wn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Hy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Hy(e,!0);return Uu(n,(i,o)=>{pd(n,i,PM(o))},r),t&&(t.finalized_=!1),n}var Mj=new Ij,IM=Mj.produce;function MM(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var Nj=MM(),Dj=MM,kj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fd:fd.apply(null,arguments)};function pr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Jn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>wM(r)&&r.type===e,n}var NM=class ru extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ru.prototype)}static get[Symbol.species](){return ru}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ru(...t[0].concat(this)):new ru(...t.concat(this))}};function Qx(e){return Mr(e)?IM(e,()=>{}):e}function Of(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Uj(e){return typeof e=="boolean"}var Lj=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new NM;return n&&(Uj(n)?l.push(Nj):l.push(Dj(n.extraArgument))),l},DM="RTK_autoBatch",lt=()=>e=>({payload:e,meta:{[DM]:!0}}),Zx=e=>t=>{setTimeout(t,e)},kM=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Zx(10):e.type==="callback"?e.queueNotification:Zx(e.timeout),d=()=>{l=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),g=r.subscribe(m);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[DM]),o=!i,o&&(l||(l=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},Bj=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new NM(e);return r&&i.push(kM(typeof r=="object"?r:void 0)),i};function qj(e){const t=Lj(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(fb(n))u=_M(n);else throw new Error(Jn(1));let f;typeof r=="function"?f=r(t):f=t();let d=fd;i&&(d=kj({trace:!1,...typeof i=="object"&&i}));const h=yj(...f),m=Bj(h);let g=typeof l=="function"?l(m):m();const _=d(...g);return bM(u,o,_)}function UM(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Jn(28));if(u in t)throw new Error(Jn(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function zj(e){return typeof e=="function"}function $j(e,t){let[n,r,i]=UM(t),o;if(zj(e))o=()=>Qx(e());else{const u=Qx(e);o=()=>u}function l(u=o(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(Si(h)){const _=m(h,f);return _===void 0?h:_}else{if(Mr(h))return IM(h,g=>m(g,f));{const g=m(h,f);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return l.getInitialState=o,l}var Hj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gj=(e=21)=>{let t="",n=e;for(;n--;)t+=Hj[Math.random()*64|0];return t},jj=Symbol.for("rtk-slice-createasyncthunk");function Vj(e,t){return`${e}/${t}`}function Fj({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[jj];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Jn(11));const u=(typeof i.reducers=="function"?i.reducers(Yj()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(I,M){const N=typeof I=="string"?I:I.type;if(!N)throw new Error(Jn(12));if(N in d.sliceCaseReducersByType)throw new Error(Jn(13));return d.sliceCaseReducersByType[N]=M,h},addMatcher(I,M){return d.sliceMatchers.push({matcher:I,reducer:M}),h},exposeAction(I,M){return d.actionCreators[I]=M,h},exposeCaseReducer(I,M){return d.sliceCaseReducersByName[I]=M,h}};f.forEach(I=>{const M=u[I],N={reducerName:I,type:Vj(o,I),createNotation:typeof i.reducers=="function"};Wj(M)?Qj(N,M,h,t):Jj(N,M,h)});function m(){const[I={},M=[],N=void 0]=typeof i.extraReducers=="function"?UM(i.extraReducers):[i.extraReducers],k={...I,...d.sliceCaseReducersByType};return $j(i.initialState,H=>{for(let q in k)H.addCase(q,k[q]);for(let q of d.sliceMatchers)H.addMatcher(q.matcher,q.reducer);for(let q of M)H.addMatcher(q.matcher,q.reducer);N&&H.addDefaultCase(N)})}const g=I=>I,_=new Map,S=new WeakMap;let E;function T(I,M){return E||(E=m()),E(I,M)}function C(){return E||(E=m()),E.getInitialState()}function O(I,M=!1){function N(H){let q=H[I];return typeof q>"u"&&M&&(q=Of(S,N,C)),q}function k(H=g){const q=Of(_,M,()=>new WeakMap);return Of(q,H,()=>{const ne={};for(const[J,ee]of Object.entries(i.selectors??{}))ne[J]=Kj(ee,H,()=>Of(S,H,C),M);return ne})}return{reducerPath:I,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const R={name:o,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...O(l),injectInto(I,{reducerPath:M,...N}={}){const k=M??l;return I.inject({reducerPath:k,reducer:T},N),{...R,...O(k,!0)}}};return R}}function Kj(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var In=Fj();function Yj(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Jj({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!Xj(r))throw new Error(Jn(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?pr(e,l):pr(e))}function Wj(e){return e._reducerDefinitionType==="asyncThunk"}function Xj(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Qj({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Jn(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:f,settled:d,options:h}=n,m=i(e,o,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:l||Pf,pending:u||Pf,rejected:f||Pf,settled:d||Pf})}function Pf(){}var Zj="task",LM="listener",BM="completed",gb="cancelled",e3=`task-${gb}`,t3=`task-${BM}`,Yy=`${LM}-${gb}`,n3=`${LM}-${BM}`,vh=class{constructor(e){bv(this,"name","TaskAbortError");bv(this,"message");this.code=e,this.message=`${Zj} ${gb} (reason: ${e})`}},yb=(e,t)=>{if(typeof e!="function")throw new TypeError(Jn(32))},vd=()=>{},qM=(e,t=vd)=>(e.catch(t),e),zM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ro=e=>{if(e.aborted)throw new vh(e.reason)};function $M(e,t){let n=vd;return new Promise((r,i)=>{const o=()=>i(new vh(e.reason));if(e.aborted){o();return}n=zM(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=vd})}var r3=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof vh?"cancelled":"rejected",error:n}}finally{t==null||t()}},gd=e=>t=>qM($M(e,t).then(n=>(ro(e),n))),HM=e=>{const t=gd(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:As}=Object,eC={},gh="listenerMiddleware",i3=(e,t)=>{const n=r=>zM(e,()=>r.abort(e.reason));return(r,i)=>{yb(r);const o=new AbortController;n(o);const l=r3(async()=>{ro(e),ro(o.signal);const u=await r({pause:gd(o.signal),delay:HM(o.signal),signal:o.signal});return ro(o.signal),u},()=>o.abort(t3));return i!=null&&i.autoJoin&&t.push(l.catch(vd)),{result:gd(e)(l),cancel(){o.abort(e3)}}}},a3=(e,t)=>{const n=async(r,i)=>{ro(t);let o=()=>{};const u=[new Promise((f,d)=>{let h=e({predicate:r,effect:(m,g)=>{g.unsubscribe(),f([m,g.getState(),g.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await $M(t,Promise.race(u));return ro(t),f}finally{o()}};return(r,i)=>qM(n(r,i))},GM=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=pr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Jn(21));return yb(o),{predicate:i,type:t,effect:o}},jM=As(e=>{const{type:t,predicate:n,effect:r}=GM(e);return{id:Gj(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Jn(22))}}},{withTypes:()=>jM}),tC=(e,t)=>{const{type:n,effect:r,predicate:i}=GM(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Jy=e=>{e.pending.forEach(t=>{t.abort(Yy)})},o3=(e,t)=>()=>{for(const n of t.keys())Jy(n);e.clear()},nC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},VM=As(pr(`${gh}/add`),{withTypes:()=>VM}),s3=pr(`${gh}/removeAll`),FM=As(pr(`${gh}/remove`),{withTypes:()=>FM}),l3=(...e)=>{console.error(`${gh}/error`,...e)},Bu=(e={})=>{const t=new Map,n=new Map,r=_=>{const S=n.get(_)??0;n.set(_,S+1)},i=_=>{const S=n.get(_)??1;S===1?n.delete(_):n.set(_,S-1)},{extra:o,onError:l=l3}=e;yb(l);const u=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),S=>{_.unsubscribe(),S!=null&&S.cancelActive&&Jy(_)}),f=_=>{const S=tC(t,_)??jM(_);return u(S)};As(f,{withTypes:()=>f});const d=_=>{const S=tC(t,_);return S&&(S.unsubscribe(),_.cancelActive&&Jy(S)),!!S};As(d,{withTypes:()=>d});const h=async(_,S,E,T)=>{const C=new AbortController,O=a3(f,C.signal),R=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(S,As({},E,{getOriginalState:T,condition:(I,M)=>O(I,M).then(Boolean),take:O,delay:HM(C.signal),pause:gd(C.signal),extra:o,signal:C.signal,fork:i3(C.signal,R),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((I,M,N)=>{I!==C&&(I.abort(Yy),N.delete(I))})},cancel:()=>{C.abort(Yy),_.pending.delete(C)},throwIfCancelled:()=>{ro(C.signal)}})))}catch(I){I instanceof vh||nC(l,I,{raisedBy:"effect"})}finally{await Promise.all(R),C.abort(n3),i(_),_.pending.delete(C)}},m=o3(t,n);return{middleware:_=>S=>E=>{if(!wM(E))return S(E);if(VM.match(E))return f(E.payload);if(s3.match(E)){m();return}if(FM.match(E))return d(E.payload);let T=_.getState();const C=()=>{if(T===eC)throw new Error(Jn(23));return T};let O;try{if(O=S(E),t.size>0){const R=_.getState(),I=Array.from(t.values());for(const M of I){let N=!1;try{N=M.predicate(E,R,T)}catch(k){N=!1,nC(l,k,{raisedBy:"predicate"})}N&&h(M,E,_,C)}}}finally{T=eC}return O},startListening:f,stopListening:d,clearListeners:m}};function Jn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var u3={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KM=In({name:"chartLayout",initialState:u3,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:c3,setLayout:f3,setChartSize:d3,setScale:h3}=KM.actions,p3=KM.reducer;function YM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function dt(e){return Number.isFinite(e)}function jr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(r){m3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m3(e,t,n){return(t=v3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v3(e){var t=g3(e,"string");return typeof t=="symbol"?t:t+""}function g3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ot(e,t,n){return Yt(e)||Yt(t)?n:Gr(t)?so(e,t,n):typeof t=="function"?t(e):n}var y3=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&pe(e[o]))return _s(_s({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&pe(e[l]))return _s(_s({},e),{},{[l]:e[l]+(i||0)})}return e},mo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",JM=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},WM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:g,axisType:_}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=_==="angleAxis"&&o&&o.length>=2?Kt(o[0]-o[1])*2*E:E,m||g){var T=(m||g||[]).map((C,O)=>{var R=r?r.indexOf(C):C;return{coordinate:l(R)+E,value:C,offset:E,index:O}});return T.filter(C=>!Ir(C.coordinate))}return f&&d?d.map((C,O)=>({coordinate:l(C)+E,value:C,index:O,offset:E})):l.ticks&&h!=null?l.ticks(h).map((C,O)=>({coordinate:l(C)+E,value:C,offset:E,index:O})):l.domain().map((C,O)=>({coordinate:l(C)+E,value:r?r[C]:C,index:O,offset:E}))},iC=1e-4,b3=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-iC,o=Math.max(r[0],r[1])+iC,l=e(t[0]),u=e(t[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([t[0],t[n-1]])}},_3=(e,t)=>{if(!t||t.length!==2||!pe(t[0])||!pe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!pe(e[0])||e[0]<n)&&(i[0]=n),(!pe(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},w3=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0,u=0;u<n;++u){var f=e[u],d=f==null?void 0:f[i];if(d!=null){var h=d[1],m=d[0],g=Ir(h)?m:h;g>=0?(d[0]=o,d[1]=o+g,o=h):(d[0]=l,d[1]=l+g,l=h)}}}},S3=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0;l<n;++l){var u=e[l],f=u==null?void 0:u[i];if(f!=null){var d=Ir(f[1])?f[0]:f[1];d>=0?(f[0]=o,f[1]=o+d,o=f[1]):(f[0]=0,f[1]=0)}}}},E3={sign:w3,expand:zH,none:oo,silhouette:$H,wiggle:HH,positive:S3},T3=(e,t,n)=>{var r,i=(r=E3[n])!==null&&r!==void 0?r:oo,o=qH().keys(t).value((u,f)=>Number(ot(u,f,0))).order(By).offset(i),l=o(e);return l.forEach((u,f)=>{u.forEach((d,h)=>{var m=ot(e[h],t[f],0);Array.isArray(m)&&m.length===2&&pe(m[0])&&pe(m[1])&&(d[0]=m[0],d[1]=m[1])})}),l};function A3(e){return e==null?void 0:String(e)}var aC=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=ot(o,t.dataKey,t.scale.domain()[l]);return Yt(u)?null:t.scale(u)-i/2+r},x3=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},C3=e=>{var t=e.flat(2).filter(pe);return[Math.min(...t),Math.max(...t)]},R3=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],O3=(e,t,n)=>{if(e!=null)return R3(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:l}=o,u=l.reduce((f,d)=>{var h=YM(d,t,n),m=C3(h);return!dt(m[0])||!dt(m[1])?f:[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},oC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=uh(t,h=>h.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var f=i[l],d=i[l-1];o=Math.min(((f==null?void 0:f.coordinate)||0)-((d==null?void 0:d.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function lC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return _s(_s({},t),{},{dataKey:n,payload:r,value:i,name:o})}function yh(e,t){if(e)return String(e);if(typeof t=="string")return t}var P3=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},I3=(e,t)=>t==="centric"?e.angle:e.radius,Pi=e=>e.layout.width,Ii=e=>e.layout.height,M3=e=>e.layout.scale,XM=e=>e.layout.margin,bh=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_h=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),QM="data-recharts-item-index",ZM="data-recharts-item-id",qu=60;function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function If(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(n),!0).forEach(function(r){N3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N3(e,t,n){return(t=D3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D3(e){var t=k3(e,"string");return typeof t=="symbol"?t:t+""}function k3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U3=e=>e.brush.height;function L3(e){var t=_h(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:qu;return n+i}return n},0)}function B3(e){var t=_h(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:qu;return n+i}return n},0)}function q3(e){var t=bh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function z3(e){var t=bh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Lt=V([Pi,Ii,XM,U3,L3,B3,q3,z3,gM,fj],(e,t,n,r,i,o,l,u,f,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},g=If(If({},m),h),_=g.bottom;g.bottom+=r,g=y3(g,f,d);var S=e-g.left-g.right,E=t-g.top-g.bottom;return If(If({brushBottom:_},g),{},{width:Math.max(S,0),height:Math.max(E,0)})}),$3=V(Lt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),bb=V(Pi,Ii,(e,t)=>({x:0,y:0,width:e,height:t})),H3=x.createContext(null),Mn=()=>x.useContext(H3)!=null,wh=e=>e.brush,Sh=V([wh,Lt,XM],(e,t,n)=>({height:e.height,x:pe(e.x)?e.x:t.left,y:pe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:pe(e.width)?e.width:t.width})),Dg={},kg={},Ug={},cC;function G3(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{d&&h(),E()};let g=null;const _=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},r)},S=()=>{g!==null&&(clearTimeout(g),g=null)},E=()=>{S(),l=void 0,u=null},T=()=>{h()},C=function(...O){if(i!=null&&i.aborted)return;l=this,u=O;const R=g==null;_(),f&&R&&h()};return C.schedule=_,C.cancel=E,C.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),C}e.debounce=t})(Ug)),Ug}var fC;function j3(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G3();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const g=t.debounce(function(...E){h=r.apply(this,E),m=null},i,{edges:d}),_=function(...E){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(h=r.apply(this,E),m=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,E),h)},S=()=>(g.flush(),h);return _.cancel=g.cancel,_.flush=S,_}e.debounce=n})(kg)),kg}var dC;function V3(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j3();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Dg)),Dg}var Lg,hC;function F3(){return hC||(hC=1,Lg=V3().throttle),Lg}var K3=F3();const Y3=Fr(K3);var bd=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},eN=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=wi(r)?e:Number(r),f=wi(i)?t:Number(i);return o&&o>0&&(u?f=u/o:f&&(u=f*o),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},J3={width:0,height:0,overflow:"visible"},W3={width:0,overflowX:"visible"},X3={height:0,overflowY:"visible"},Q3={},Z3=e=>{var{width:t,height:n}=e,r=wi(t),i=wi(n);return r&&i?J3:r?W3:i?X3:Q3};function e4(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(null,arguments)}function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(n),!0).forEach(function(r){t4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t4(e,t,n){return(t=n4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n4(e){var t=r4(e,"string");return typeof t=="symbol"?t:t+""}function r4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tN=x.createContext({width:-1,height:-1});function i4(e){return jr(e.width)&&jr(e.height)}function nN(e){var{children:t,width:n,height:r}=e,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return i4(i)?x.createElement(tN.Provider,{value:i},t):null}var _b=()=>x.useContext(tN),a4=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:f,children:d,debounce:h=0,id:m,className:g,onResize:_,style:S={}}=e,E=x.useRef(null),T=x.useRef();T.current=_,x.useImperativeHandle(t,()=>E.current);var[C,O]=x.useState({containerWidth:r.width,containerHeight:r.height}),R=x.useCallback((H,q)=>{O(ne=>{var J=Math.round(H),ee=Math.round(q);return ne.containerWidth===J&&ne.containerHeight===ee?ne:{containerWidth:J,containerHeight:ee}})},[]);x.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Du;var H=ee=>{var oe,{width:fe,height:me}=ee[0].contentRect;R(fe,me),(oe=T.current)===null||oe===void 0||oe.call(T,fe,me)};h>0&&(H=Y3(H,h,{trailing:!0,leading:!1}));var q=new ResizeObserver(H),{width:ne,height:J}=E.current.getBoundingClientRect();return R(ne,J),q.observe(E.current),()=>{q.disconnect()}},[R,h]);var{containerWidth:I,containerHeight:M}=C;bd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:k}=eN(I,M,{width:i,height:o,aspect:n,maxHeight:f});return bd(N!=null&&N>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,k,i,o,l,u,n),x.createElement("div",{id:m?"".concat(m):void 0,className:Ke("recharts-responsive-container",g),style:mC(mC({},S),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:f}),ref:E},x.createElement("div",{style:Z3({width:i,height:o})},x.createElement(nN,{width:N,height:k},d)))}),vC=x.forwardRef((e,t)=>{var n=_b();if(jr(n.width)&&jr(n.height))return e.children;var{width:r,height:i}=e4({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=eN(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return pe(o)&&pe(l)?x.createElement(nN,{width:o,height:l},e.children):x.createElement(a4,Wy({},e,{width:r,height:i,ref:t}))});function rN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Eh=()=>{var e,t=Mn(),n=ge($3),r=ge(Sh),i=(e=ge(wh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},o4={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},iN=()=>{var e;return(e=ge(Lt))!==null&&e!==void 0?e:o4},wb=()=>ge(Pi),Sb=()=>ge(Ii),s4=()=>ge(e=>e.layout.margin),He=e=>e.layout.layoutType,zu=()=>ge(He),l4=()=>{var e=zu();return e!==void 0},Th=e=>{var t=nt(),n=Mn(),{width:r,height:i}=e,o=_b(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),x.useEffect(()=>{!n&&jr(l)&&jr(u)&&t(d3({width:l,height:u}))},[t,n,l,u]),null},aN=Symbol.for("immer-nothing"),gC=Symbol.for("immer-draftable"),Wn=Symbol.for("immer-state");function Ar(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wu=Object.getPrototypeOf;function Is(e){return!!e&&!!e[Wn]}function lo(e){var t;return e?oN(e)||Array.isArray(e)||!!e[gC]||!!((t=e.constructor)!=null&&t[gC])||$u(e)||xh(e):!1}var u4=Object.prototype.constructor.toString(),yC=new WeakMap;function oN(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=yC.get(n);return r===void 0&&(r=Function.toString.call(n),yC.set(n,r)),r===u4}function _d(e,t,n=!0){Ah(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Ah(e){const t=e[Wn];return t?t.type_:Array.isArray(e)?1:$u(e)?2:xh(e)?3:0}function Xy(e,t){return Ah(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sN(e,t,n){const r=Ah(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function c4(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function $u(e){return e instanceof Map}function xh(e){return e instanceof Set}function Ka(e){return e.copy_||e.base_}function Qy(e,t){if($u(e))return new Map(e);if(xh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=oN(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Wn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(wu(e),r)}else{const r=wu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Eb(e,t=!1){return Ch(e)||Is(e)||!lo(e)||(Ah(e)>1&&Object.defineProperties(e,{set:Mf,add:Mf,clear:Mf,delete:Mf}),Object.freeze(e),t&&Object.values(e).forEach(n=>Eb(n,!0))),e}function f4(){Ar(2)}var Mf={value:f4};function Ch(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var d4={};function uo(e){const t=d4[e];return t||Ar(0,e),t}var Su;function lN(){return Su}function h4(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bC(e,t){t&&(uo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Zy(e){e0(e),e.drafts_.forEach(p4),e.drafts_=null}function e0(e){e===Su&&(Su=e.parent_)}function _C(e){return Su=h4(Su,e)}function p4(e){const t=e[Wn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Wn].modified_&&(Zy(t),Ar(4)),lo(e)&&(e=wd(t,e),t.parent_||Sd(t,e)),t.patches_&&uo("Patches").generateReplacementPatches_(n[Wn].base_,e,t.patches_,t.inversePatches_)):e=wd(t,n,[]),Zy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==aN?e:void 0}function wd(e,t,n){if(Ch(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Wn];if(!i)return _d(t,(o,l)=>SC(e,i,t,o,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Sd(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),_d(l,(f,d)=>SC(e,i,o,f,d,n,u),r),Sd(e,o,!1),n&&e.patches_&&uo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function SC(e,t,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=Ch(i);if(!(u&&!l)){if(Is(i)){const f=o&&t&&t.type_!==3&&!Xy(t.assigned_,r)?o.concat(r):void 0,d=wd(e,i,f);if(sN(n,r,d),Is(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(lo(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;wd(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&($u(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Sd(e,i)}}}function Sd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Eb(t,n)}function m4(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:lN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Tb;n&&(i=[r],o=Eu);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var Tb={get(e,t){if(t===Wn)return e;const n=Ka(e);if(!Xy(n,t))return v4(e,n,t);const r=n[t];return e.finalized_||!lo(r)?r:r===Bg(e.base_,t)?(qg(e),e.copy_[t]=n0(r,e)):r},has(e,t){return t in Ka(e)},ownKeys(e){return Reflect.ownKeys(Ka(e))},set(e,t,n){const r=uN(Ka(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Bg(Ka(e),t),o=i==null?void 0:i[Wn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(c4(n,i)&&(n!==void 0||Xy(e.base_,t)))return!0;qg(e),t0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Bg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,qg(e),t0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ka(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ar(11)},getPrototypeOf(e){return wu(e.base_)},setPrototypeOf(){Ar(12)}},Eu={};_d(Tb,(e,t)=>{Eu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Eu.deleteProperty=function(e,t){return Eu.set.call(this,e,t,void 0)};Eu.set=function(e,t,n){return Tb.set.call(this,e[0],t,n,e[0])};function Bg(e,t){const n=e[Wn];return(n?Ka(n):e)[t]}function v4(e,t,n){var i;const r=uN(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function uN(e,t){if(!(t in e))return;let n=wu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=wu(n)}}function t0(e){e.modified_||(e.modified_=!0,e.parent_&&t0(e.parent_))}function qg(e){e.copy_||(e.copy_=Qy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var g4=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(f=o,...d){return l.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&Ar(6),r!==void 0&&typeof r!="function"&&Ar(7);let i;if(lo(t)){const o=_C(this),l=n0(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Zy(o):e0(o)}return bC(o,r),wC(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===aN&&(i=void 0),this.autoFreeze_&&Eb(i,!0),r){const o=[],l=[];uo("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else Ar(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){lo(e)||Ar(8),Is(e)&&(e=y4(e));const t=_C(this),n=n0(e,void 0);return n[Wn].isManual_=!0,e0(t),n}finishDraft(e,t){const n=e&&e[Wn];(!n||!n.isManual_)&&Ar(9);const{scope_:r}=n;return bC(r,t),wC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=uo("Patches").applyPatches_;return Is(e)?r(e,t):this.produce(e,i=>r(i,t))}};function n0(e,t){const n=$u(e)?uo("MapSet").proxyMap_(e,t):xh(e)?uo("MapSet").proxySet_(e,t):m4(e,t);return(t?t.scope_:lN()).drafts_.push(n),n}function y4(e){return Is(e)||Ar(10,e),cN(e)}function cN(e){if(!lo(e)||Ch(e))return e;const t=e[Wn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Qy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Qy(e,!0);return _d(n,(i,o)=>{sN(n,i,cN(o))},r),t&&(t.finalized_=!1),n}var b4=new g4;b4.produce;var _4={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},fN=In({name:"legend",initialState:_4,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:lt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Cr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:lt()},removeLegendPayload:{reducer(e,t){var n=Cr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:lt()}}}),{setLegendSize:EC,setLegendSettings:w4,addLegendPayload:dN,replaceLegendPayload:hN,removeLegendPayload:pN}=fN.actions,S4=fN.reducer,E4=["contextPayload"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r0.apply(null,arguments)}function TC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(n),!0).forEach(function(r){T4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T4(e,t,n){return(t=A4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A4(e){var t=x4(e,"string");return typeof t=="symbol"?t:t+""}function x4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C4(e,t){if(e==null)return{};var n,r,i=R4(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function R4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function O4(e){return e.value}function P4(e){var{contextPayload:t}=e,n=C4(e,E4),r=hM(t,e.payloadUniqBy,O4),i=Ms(Ms({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(_G,i)}function I4(e,t,n,r,i,o){var{layout:l,align:u,verticalAlign:f}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?d={left:((r||0)-o.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?h={top:((i||0)-o.height)/2}:h=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ms(Ms({},d),h)}function M4(e){var t=nt();return x.useEffect(()=>{t(w4(e))},[t,e]),null}function N4(e){var t=nt();return x.useEffect(()=>(t(EC(e)),()=>{t(EC({width:0,height:0}))}),[t,e]),null}function D4(e,t,n,r){return e==="vertical"&&pe(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var k4={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function mN(e){var t=Jt(e,k4),n=pj(),r=uH(),i=s4(),{width:o,height:l,wrapperStyle:u,portal:f}=t,[d,h]=yM([n]),m=wb(),g=Sb();if(m==null||g==null)return null;var _=m-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),S=D4(t.layout,l,o,_),E=f?u:Ms(Ms({position:"absolute",width:(S==null?void 0:S.width)||o||"auto",height:(S==null?void 0:S.height)||l||"auto"},I4(u,t,i,m,g,d)),u),T=f??r;if(T==null||n==null)return null;var C=x.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:h},x.createElement(M4,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&x.createElement(N4,{width:d.width,height:d.height}),x.createElement(P4,r0({},t,S,{margin:i,chartWidth:m,chartHeight:g,contextPayload:n})));return tb.createPortal(C,T)}mN.displayName="Legend";function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(null,arguments)}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(r){U4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U4(e,t,n){return(t=L4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L4(e){var t=B4(e,"string");return typeof t=="symbol"?t:t+""}function B4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q4(e){return Array.isArray(e)&&Gr(e[0])&&Gr(e[1])?e.join(" ~ "):e}var z4=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:g=!1}=e,_=()=>{if(o&&o.length){var M={padding:0,margin:0},N=(u?uh(o,u):o).map((k,H)=>{if(k.type==="none")return null;var q=k.formatter||l||q4,{value:ne,name:J}=k,ee=ne,oe=J;if(q){var fe=q(ne,J,k,H,o);if(Array.isArray(fe))[ee,oe]=fe;else if(fe!=null)ee=fe;else return null}var me=zg({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:me},Gr(oe)?x.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,Gr(oe)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},ee),x.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:M},N)}return null},S=zg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=zg({margin:0},i),T=!Yt(h),C=T?h:"",O=Ke("recharts-default-tooltip",f),R=Ke("recharts-tooltip-label",d);T&&m&&o!==void 0&&o!==null&&(C=m(h,o));var I=g?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",i0({className:O,style:S},I),x.createElement("p",{className:R,style:E},x.isValidElement(C)?C:"".concat(C)),_())},Vl="recharts-tooltip-wrapper",$4={visibility:"hidden"};function H4(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ke(Vl,{["".concat(Vl,"-right")]:pe(n)&&t&&pe(t.x)&&n>=t.x,["".concat(Vl,"-left")]:pe(n)&&t&&pe(t.x)&&n<t.x,["".concat(Vl,"-bottom")]:pe(r)&&t&&pe(t.y)&&r>=t.y,["".concat(Vl,"-top")]:pe(r)&&t&&pe(t.y)&&r<t.y})}function xC(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=e;if(o&&pe(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?h:m;var g=f[r];if(g==null)return 0;if(l[r]){var _=h,S=g;return _<S?Math.max(m,g):Math.max(h,g)}if(d==null)return 0;var E=m+u,T=g+d;return E>T?Math.max(h,g):Math.max(m,g)}function G4(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function j4(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:f}=e,d,h,m;return l.height>0&&l.width>0&&n?(h=xC({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=xC({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=G4({translateX:h,translateY:m,useTranslate3d:u})):d=$4,{cssProperties:d,cssClasses:H4({translateX:h,translateY:m,coordinate:n})}}function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(r){a0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a0(e,t,n){return(t=V4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V4(e){var t=F4(e,"string");return typeof t=="symbol"?t:t+""}function F4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class K4 extends x.PureComponent{constructor(){super(...arguments),a0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),a0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:f,offset:d,position:h,reverseDirection:m,useTranslate3d:g,viewBox:_,wrapperStyle:S,lastBoundingBox:E,innerRef:T,hasPortalFromProps:C}=this.props,{cssClasses:O,cssProperties:R}=j4({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:g,viewBox:_}),I=C?{}:Nf(Nf({transition:f&&t?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=Nf(Nf({},I),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:M,ref:T},o)}}var vN=()=>{var e;return(e=ge(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o0.apply(null,arguments)}function RC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(n),!0).forEach(function(r){Y4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y4(e,t,n){return(t=J4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J4(e){var t=W4(e,"string");return typeof t=="symbol"?t:t+""}function W4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PC={curveBasisClosed:RH,curveBasisOpen:OH,curveBasis:CH,curveBumpX:hH,curveBumpY:pH,curveLinearClosed:PH,curveLinear:sh,curveMonotoneX:IH,curveMonotoneY:MH,curveNatural:NH,curveStep:DH,curveStepAfter:UH,curveStepBefore:kH},Ed=e=>dt(e.x)&&dt(e.y),IC=e=>e.base!=null&&Ed(e.base)&&Ed(e),Fl=e=>e.x,Kl=e=>e.y,X4=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Nu(e));return(n==="curveMonotone"||n==="curveBump")&&t?PC["".concat(n).concat(t==="vertical"?"Y":"X")]:PC[n]||sh},Q4=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=X4(t,i),u=o?n.filter(Ed):n,f;if(Array.isArray(r)){var d=n.map((_,S)=>OC(OC({},_),{},{base:r[S]}));i==="vertical"?f=Af().y(Kl).x1(Fl).x0(_=>_.base.x):f=Af().x(Fl).y1(Kl).y0(_=>_.base.y);var h=f.defined(IC).curve(l),m=o?d.filter(IC):d;return h(m)}i==="vertical"&&pe(r)?f=Af().y(Kl).x1(Fl).x0(r):pe(r)?f=Af().x(Fl).y1(Kl).y0(r):f=GI().x(Fl).y(Kl);var g=f.defined(Ed).curve(l);return g(u)},Ab=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=zu();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},u=n&&n.length?Q4(l):r;return x.createElement("path",o0({},Pr(e),sG(e),{className:Ke("recharts-curve",t),d:u===null?void 0:u,ref:i}))},Z4=["x","y","top","left","width","height","className"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s0.apply(null,arguments)}function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(n),!0).forEach(function(r){tV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tV(e,t,n){return(t=nV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nV(e){var t=rV(e,"string");return typeof t=="symbol"?t:t+""}function rV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iV(e,t){if(e==null)return{};var n,r,i=aV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oV=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),sV=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,f=iV(e,Z4),d=eV({x:t,y:n,top:r,left:i,width:o,height:l},f);return!pe(t)||!pe(n)||!pe(o)||!pe(l)||!pe(r)||!pe(i)?null:x.createElement("path",s0({},hr(d),{className:Ke("recharts-cross",u),d:oV(t,n,o,l,r,i)}))};function lV(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function NC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(n),!0).forEach(function(r){uV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uV(e,t,n){return(t=cV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cV(e){var t=fV(e,"string");return typeof t=="symbol"?t:t+""}function fV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dV=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),gN=(e,t,n)=>e.map(r=>"".concat(dV(r)," ").concat(t,"ms ").concat(n)).join(","),hV=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Tu=(e,t)=>Object.keys(t).reduce((n,r)=>DC(DC({},n),{},{[r]:e(r,t[r])}),{});function kC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(n),!0).forEach(function(r){pV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pV(e,t,n){return(t=mV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Td=(e,t,n)=>e+(t-e)*n,l0=e=>{var{from:t,to:n}=e;return t!==n},yN=(e,t,n)=>{var r=Tu((i,o)=>{if(l0(o)){var[l,u]=e(o.from,o.to,o.velocity);return Ut(Ut({},o),{},{from:l,velocity:u})}return o},t);return n<1?Tu((i,o)=>l0(o)&&r[i]!=null?Ut(Ut({},o),{},{velocity:Td(o.velocity,r[i].velocity,n),from:Td(o.from,r[i].from,n)}):o,t):yN(e,r,n-1)};function gV(e,t,n,r,i,o){var l,u=r.reduce((g,_)=>Ut(Ut({},g),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),f=()=>Tu((g,_)=>_.from,u),d=()=>!Object.values(u).filter(l0).length,h=null,m=g=>{l||(l=g);var _=g-l,S=_/n.dt;u=yN(n,u,S),i(Ut(Ut(Ut({},e),t),f())),l=g,d()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var g;(g=h)===null||g===void 0||g()})}function yV(e,t,n,r,i,o,l){var u=null,f=i.reduce((m,g)=>{var _=e[g],S=t[g];return _==null||S==null?m:Ut(Ut({},m),{},{[g]:[_,S]})},{}),d,h=m=>{d||(d=m);var g=(m-d)/r,_=Tu((E,T)=>Td(...T,n(g)),f);if(o(Ut(Ut(Ut({},e),t),_)),g<1)u=l.setTimeout(h);else{var S=Tu((E,T)=>Td(...T,n(1)),f);o(Ut(Ut(Ut({},e),t),S))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const bV=(e,t,n,r,i,o)=>{var l=hV(e,t);return n==null?()=>(i(Ut(Ut({},e),t)),()=>{}):n.isStepper===!0?gV(e,t,n,l,i,o):yV(e,t,n,r,l,i,o)};var Ad=1e-4,bN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_N=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),UC=(e,t)=>n=>{var r=bN(e,t);return _N(r,n)},_V=(e,t)=>n=>{var r=bN(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return _N(i,n)},wV=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},SV=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=wV(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},EV=(e,t,n,r)=>{var i=UC(e,n),o=UC(t,r),l=_V(e,n),u=d=>d>1?1:d<0?0:d,f=d=>{for(var h=d>1?1:d,m=h,g=0;g<8;++g){var _=i(m)-h,S=l(m);if(Math.abs(_-h)<Ad||S<Ad)return o(m);m=u(m-_/S)}return o(m)};return f.isStepper=!1,f},LC=function(){return EV(...SV(...arguments))},TV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,f)=>{var d=-(l-u)*n,h=f*r,m=f+(d-h)*i/1e3,g=f*i/1e3+l;return Math.abs(g-u)<Ad&&Math.abs(m)<Ad?[u,0]:[g,m]};return o.isStepper=!0,o.dt=i,o},AV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LC(e);case"spring":return TV();default:if(e.split("(")[0]==="cubic-bezier")return LC(e)}return typeof e=="function"?e:null};function xV(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...d]=u;if(typeof f=="number"){i=e.setTimeout(o.bind(null,d),f);return}o(f),i=e.setTimeout(o.bind(null,d));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class CV{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function RV(){return xV(new CV)}var OV=x.createContext(RV);function PV(e,t){var n=x.useContext(OV);return x.useMemo(()=>t??n(e),[e,t,n])}var IV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rh={isSsr:IV()},MV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},BC={t:0},$g={t:1};function Oh(e){var t=Jt(e,MV),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:f,children:d}=t,h=n==="auto"?!Rh.isSsr:n,m=PV(t.animationId,t.animationManager),[g,_]=x.useState(h?BC:$g),S=x.useRef(null);return x.useEffect(()=>{h||_($g)},[h]),x.useEffect(()=>{if(!h||!r)return Du;var E=bV(BC,$g,AV(o),i,_,m.getTimeoutController()),T=()=>{S.current=E()};return m.start([f,l,T,i,u]),()=>{m.stop(),S.current&&S.current(),u()}},[h,r,i,o,l,f,u,m]),d(g.t)}function Ph(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(gu(t)),r=x.useRef(e);return r.current!==e&&(n.current=gu(t),r.current=e),n.current}var NV=["radius"],DV=["radius"],qC,zC,$C,HC,GC,jC,VC,FC,KC,YC;function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(n),!0).forEach(function(r){kV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kV(e,t,n){return(t=UV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UV(e){var t=LV(e,"string");return typeof t=="symbol"?t:t+""}function LV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xd.apply(null,arguments)}function XC(e,t){if(e==null)return{};var n,r,i=BV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var QC=(e,t,n,r,i)=>{var o=ma(n),l=ma(r),u=Math.min(Math.abs(o)/2,Math.abs(l)/2),f=l>=0?1:-1,d=o>=0?1:-1,h=l>=0&&o>=0||l<0&&o<0?1:0,m;if(u>0&&i instanceof Array){for(var g=[0,0,0,0],_=0,S=4;_<S;_++)g[_]=i[_]>u?u:i[_];m=yt(qC||(qC=zr(["M",",",""])),e,t+f*g[0]),g[0]>0&&(m+=yt(zC||(zC=zr(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,e+d*g[0],t)),m+=yt($C||($C=zr(["L ",",",""])),e+n-d*g[1],t),g[1]>0&&(m+=yt(HC||(HC=zr(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,e+n,t+f*g[1])),m+=yt(GC||(GC=zr(["L ",",",""])),e+n,t+r-f*g[2]),g[2]>0&&(m+=yt(jC||(jC=zr(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,e+n-d*g[2],t+r)),m+=yt(VC||(VC=zr(["L ",",",""])),e+d*g[3],t+r),g[3]>0&&(m+=yt(FC||(FC=zr(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,e,t+r-f*g[3])),m+="Z"}else if(u>0&&i===+i&&i>0){var E=Math.min(u,i);m=yt(KC||(KC=zr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*E,E,E,h,e+d*E,t,e+n-d*E,t,E,E,h,e+n,t+f*E,e+n,t+r-f*E,E,E,h,e+n-d*E,t+r,e+d*E,t+r,E,E,h,e,t+r-f*E)}else m=yt(YC||(YC=zr(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return m},ZC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wN=e=>{var t=Jt(e,ZC),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:o,y:l,width:u,height:f,radius:d,className:h}=t,{animationEasing:m,animationDuration:g,animationBegin:_,isAnimationActive:S,isUpdateAnimationActive:E}=t,T=x.useRef(u),C=x.useRef(f),O=x.useRef(o),R=x.useRef(l),I=x.useMemo(()=>({x:o,y:l,width:u,height:f,radius:d}),[o,l,u,f,d]),M=Ph(I,"rectangle-");if(o!==+o||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var N=Ke("recharts-rectangle",h);if(!E){var k=hr(t),{radius:H}=k,q=XC(k,NV);return x.createElement("path",xd({},q,{x:ma(o),y:ma(l),width:ma(u),height:ma(f),radius:typeof d=="number"?d:void 0,className:N,d:QC(o,l,u,f,d)}))}var ne=T.current,J=C.current,ee=O.current,oe=R.current,fe="0px ".concat(r===-1?1:r,"px"),me="".concat(r,"px 0px"),$=gN(["strokeDasharray"],g,typeof m=="string"?m:ZC.animationEasing);return x.createElement(Oh,{animationId:M,key:M,canBegin:r>0,duration:g,easing:m,isActive:E,begin:_},Z=>{var se=kt(ne,u,Z),W=kt(J,f,Z),ue=kt(ee,o,Z),D=kt(oe,l,Z);n.current&&(T.current=se,C.current=W,O.current=ue,R.current=D);var K;S?Z>0?K={transition:$,strokeDasharray:me}:K={strokeDasharray:fe}:K={strokeDasharray:me};var ie=hr(t),{radius:le}=ie,_e=XC(ie,DV);return x.createElement("path",xd({},_e,{radius:typeof d=="number"?d:void 0,className:N,d:QC(ue,D,se,W,d),ref:n,style:WC(WC({},K),t.style)}))})};function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(n),!0).forEach(function(r){qV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qV(e,t,n){return(t=zV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zV(e){var t=$V(e,"string");return typeof t=="symbol"?t:t+""}function $V(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cd=Math.PI/180,HV=e=>e*180/Math.PI,It=(e,t,n,r)=>({x:e+Math.cos(-Cd*r)*n,y:t+Math.sin(-Cd*r)*n}),SN=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},GV=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},jV=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=GV({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:l,angle:HV(f),angleInRadian:f}},VV=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},FV=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},KV=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=jV({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:d}=VV(t),h=o,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?t1(t1({},t),{},{radius:i,angle:FV(h,t)}):null};function EN(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=It(t,n,r,i),u=It(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var n1,r1,i1,a1,o1,s1,l1;function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(null,arguments)}function Za(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var YV=(e,t)=>{var n=Kt(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Df=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:f}=e,d=u*(l?1:-1)+r,h=Math.asin(u/d)/Cd,m=f?i:i+o*h,g=It(t,n,d,m),_=It(t,n,r,m),S=f?i-o*h:i,E=It(t,n,d*Math.cos(h*Cd),S);return{center:g,circleTangency:_,lineTangency:E,theta:h}},TN=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=YV(o,l),f=o+u,d=It(t,n,i,o),h=It(t,n,i,f),m=yt(n1||(n1=Za(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(u)>180),+(o>f),h.x,h.y);if(r>0){var g=It(t,n,r,o),_=It(t,n,r,f);m+=yt(r1||(r1=Za(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(o<=f),g.x,g.y)}else m+=yt(i1||(i1=Za(["L ",","," Z"])),t,n);return m},JV=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}=e,h=Kt(d-f),{circleTangency:m,lineTangency:g,theta:_}=Df({cx:t,cy:n,radius:i,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:T}=Df({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:u}),C=u?Math.abs(f-d):Math.abs(f-d)-_-T;if(C<0)return l?yt(a1||(a1=Za(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,o,o,o*2,o,o,-o*2):TN({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var O=yt(o1||(o1=Za(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,o,o,+(h<0),m.x,m.y,i,i,+(C>180),+(h<0),S.x,S.y,o,o,+(h<0),E.x,E.y);if(r>0){var{circleTangency:R,lineTangency:I,theta:M}=Df({cx:t,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:N,lineTangency:k,theta:H}=Df({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),q=u?Math.abs(f-d):Math.abs(f-d)-M-H;if(q<0&&o===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+=yt(s1||(s1=Za(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,o,o,+(h<0),N.x,N.y,r,r,+(q>180),+(h>0),R.x,R.y,o,o,+(h<0),I.x,I.y)}else O+=yt(l1||(l1=Za(["L",",","Z"])),t,n);return O},WV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AN=e=>{var t=Jt(e,WV),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h,className:m}=t;if(o<i||d===h)return null;var g=Ke("recharts-sector",m),_=o-i,S=mn(l,_,0,!0),E;return S>0&&Math.abs(d-h)<360?E=JV({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,_/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h}):E=TN({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),x.createElement("path",u0({},hr(t),{className:g,d:E}))};function XV(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(rM(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=t,f=It(r,i,o,u),d=It(r,i,l,u);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return EN(t)}}var Hg={},Gg={},jg={},u1;function QV(){return u1||(u1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mM();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(jg)),jg}var c1;function ZV(){return c1||(c1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QV();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Gg)),Gg}var f1;function eF(){return f1||(f1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vM(),n=ZV();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=l;return f}e.range=r})(Hg)),Hg}var Vg,d1;function tF(){return d1||(d1=1,Vg=eF().range),Vg}var nF=tF();const xN=Fr(nF);function ga(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xb(e){let t,n,r;e.length!==2?(t=ga,n=(u,f)=>ga(e(u),f),r=(u,f)=>e(u)-f):(t=e===ga||e===rF?e:iF,n=e,r=e);function i(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<0?d=m+1:h=m}while(d<h)}return d}function o(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<=0?d=m+1:h=m}while(d<h)}return d}function l(u,f,d=0,h=u.length){const m=i(u,f,d,h-1);return m>d&&r(u[m-1],f)>-r(u[m],f)?m-1:m}return{left:i,center:l,right:o}}function iF(){return 0}function CN(e){return e===null?NaN:+e}function*aF(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const oF=xb(ga),Hu=oF.right;xb(CN).center;class h1 extends Map{constructor(t,n=uF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(p1(this,t))}has(t){return super.has(p1(this,t))}set(t,n){return super.set(sF(this,t),n)}delete(t){return super.delete(lF(this,t))}}function p1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function sF({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function lF({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function uF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cF(e=ga){if(e===ga)return RN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function RN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fF=Math.sqrt(50),dF=Math.sqrt(10),hF=Math.sqrt(2);function Rd(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=fF?10:o>=dF?5:o>=hF?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(e*d),f=Math.round(t*d),u/d<e&&++u,f/d>t&&--f,d=-d):(d=Math.pow(10,i)*l,u=Math.round(e/d),f=Math.round(t/d),u*d<e&&++u,f*d>t&&--f),f<u&&.5<=n&&n<2?Rd(e,t,n*2):[u,f,d]}function c0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Rd(t,e,n):Rd(e,t,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)f[d]=(o-d)/-l;else for(let d=0;d<u;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<u;++d)f[d]=(i+d)/-l;else for(let d=0;d<u;++d)f[d]=(i+d)*l;return f}function f0(e,t,n){return t=+t,e=+e,n=+n,Rd(e,t,n)[2]}function d0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?f0(t,e,n):f0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function m1(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function v1(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ON(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?RN:cF(i);r>n;){if(r-n>600){const f=r-n+1,d=t-n+1,h=Math.log(f),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(f-m)/f)*(d-f/2<0?-1:1),_=Math.max(n,Math.floor(t-d*m/f+g)),S=Math.min(r,Math.floor(t+(f-d)*m/f+g));ON(e,t,_,S,i)}const o=e[t];let l=n,u=r;for(Yl(e,n,t),i(e[r],o)>0&&Yl(e,n,r);l<u;){for(Yl(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?Yl(e,n,u):(++u,Yl(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Yl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function pF(e,t,n){if(e=Float64Array.from(aF(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return v1(e);if(t>=1)return m1(e);var r,i=(r-1)*t,o=Math.floor(i),l=m1(ON(e,o).subarray(0,o+1)),u=v1(e.subarray(o+1));return l+(u-l)*(i-o)}}function mF(e,t,n=CN){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function vF(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const h0=Symbol("implicit");function Cb(){var e=new h1,t=[],n=[],r=h0;function i(o){let l=e.get(o);if(l===void 0){if(r!==h0)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new h1;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Cb(t,n).unknown(r)},gr.apply(i,arguments),i}function Rb(){var e=Cb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,f=0,d=0,h=.5;delete e.unknown;function m(){var g=t().length,_=i<r,S=_?i:r,E=_?r:i;o=(E-S)/Math.max(1,g-f+d*2),u&&(o=Math.floor(o)),S+=(E-S-o*(g-f))*h,l=o*(1-f),u&&(S=Math.round(S),l=Math.round(l));var T=vF(g).map(function(C){return S+o*C});return n(_?T.reverse():T)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(g){return arguments.length?(u=!!g,m()):u},e.padding=function(g){return arguments.length?(f=Math.min(1,d=+g),m()):f},e.paddingInner=function(g){return arguments.length?(f=Math.min(1,g),m()):f},e.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return Rb(t(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},gr.apply(m(),arguments)}function PN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return PN(t())},e}function gF(){return PN(Rb.apply(null,arguments).paddingInner(1))}function Ob(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function IN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Gu(){}var Au=.7,Od=1/Au,xs="\\s*([+-]?\\d+)\\s*",xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yF=/^#([0-9a-f]{3,8})$/,bF=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),_F=new RegExp(`^rgb\\(${Hr},${Hr},${Hr}\\)$`),wF=new RegExp(`^rgba\\(${xs},${xs},${xs},${xu}\\)$`),SF=new RegExp(`^rgba\\(${Hr},${Hr},${Hr},${xu}\\)$`),EF=new RegExp(`^hsl\\(${xu},${Hr},${Hr}\\)$`),TF=new RegExp(`^hsla\\(${xu},${Hr},${Hr},${xu}\\)$`),g1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ob(Gu,Cu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:y1,formatHex:y1,formatHex8:AF,formatHsl:xF,formatRgb:b1,toString:b1});function y1(){return this.rgb().formatHex()}function AF(){return this.rgb().formatHex8()}function xF(){return MN(this).formatHsl()}function b1(){return this.rgb().formatRgb()}function Cu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=yF.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_1(t):n===3?new Pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bF.exec(e))?new Pn(t[1],t[2],t[3],1):(t=_F.exec(e))?new Pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wF.exec(e))?kf(t[1],t[2],t[3],t[4]):(t=SF.exec(e))?kf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EF.exec(e))?E1(t[1],t[2]/100,t[3]/100,1):(t=TF.exec(e))?E1(t[1],t[2]/100,t[3]/100,t[4]):g1.hasOwnProperty(e)?_1(g1[e]):e==="transparent"?new Pn(NaN,NaN,NaN,0):null}function _1(e){return new Pn(e>>16&255,e>>8&255,e&255,1)}function kf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Pn(e,t,n,r)}function CF(e){return e instanceof Gu||(e=Cu(e)),e?(e=e.rgb(),new Pn(e.r,e.g,e.b,e.opacity)):new Pn}function p0(e,t,n,r){return arguments.length===1?CF(e):new Pn(e,t,n,r??1)}function Pn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ob(Pn,p0,IN(Gu,{brighter(e){return e=e==null?Od:Math.pow(Od,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Au:Math.pow(Au,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pn(io(this.r),io(this.g),io(this.b),Pd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:w1,formatHex:w1,formatHex8:RF,formatRgb:S1,toString:S1}));function w1(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}`}function RF(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}${eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function S1(){const e=Pd(this.opacity);return`${e===1?"rgb(":"rgba("}${io(this.r)}, ${io(this.g)}, ${io(this.b)}${e===1?")":`, ${e})`}`}function Pd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eo(e){return e=io(e),(e<16?"0":"")+e.toString(16)}function E1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xr(e,t,n,r)}function MN(e){if(e instanceof xr)return new xr(e.h,e.s,e.l,e.opacity);if(e instanceof Gu||(e=Cu(e)),!e)return new xr;if(e instanceof xr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,f=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=f<.5?o+i:2-o-i,l*=60):u=f>0&&f<1?0:l,new xr(l,u,f,e.opacity)}function OF(e,t,n,r){return arguments.length===1?MN(e):new xr(e,t,n,r??1)}function xr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ob(xr,OF,IN(Gu,{brighter(e){return e=e==null?Od:Math.pow(Od,e),new xr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Au:Math.pow(Au,e),new xr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Pn(Fg(e>=240?e-240:e+120,i,r),Fg(e,i,r),Fg(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xr(T1(this.h),Uf(this.s),Uf(this.l),Pd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pd(this.opacity);return`${e===1?"hsl(":"hsla("}${T1(this.h)}, ${Uf(this.s)*100}%, ${Uf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function T1(e){return e=(e||0)%360,e<0?e+360:e}function Uf(e){return Math.max(0,Math.min(1,e||0))}function Fg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Pb=e=>()=>e;function PF(e,t){return function(n){return e+n*t}}function IF(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function MF(e){return(e=+e)==1?NN:function(t,n){return n-t?IF(t,n,e):Pb(isNaN(t)?n:t)}}function NN(e,t){var n=t-e;return n?PF(e,n):Pb(isNaN(e)?t:e)}const A1=(function e(t){var n=MF(t);function r(i,o){var l=n((i=p0(i)).r,(o=p0(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),d=NN(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function NF(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function DF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kF(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=qs(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function UF(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Id(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function LF(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=qs(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var m0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kg=new RegExp(m0.source,"g");function BF(e){return function(){return e}}function qF(e){return function(t){return e(t)+""}}function zF(e,t){var n=m0.lastIndex=Kg.lastIndex=0,r,i,o,l=-1,u=[],f=[];for(e=e+"",t=t+"";(r=m0.exec(e))&&(i=Kg.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:Id(r,i)})),n=Kg.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?f[0]?qF(f[0].x):BF(t):(t=f.length,function(d){for(var h=0,m;h<t;++h)u[(m=f[h]).i]=m.x(d);return u.join("")})}function qs(e,t){var n=typeof t,r;return t==null||n==="boolean"?Pb(t):(n==="number"?Id:n==="string"?(r=Cu(t))?(t=r,A1):zF:t instanceof Cu?A1:t instanceof Date?UF:DF(t)?NF:Array.isArray(t)?kF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LF:Id)(e,t)}function Ib(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function $F(e,t){t===void 0&&(t=e,e=qs);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function HF(e){return function(){return e}}function Md(e){return+e}var x1=[0,1];function bn(e){return e}function v0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:HF(isNaN(t)?NaN:.5)}function GF(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function jF(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=v0(i,r),o=n(l,o)):(r=v0(r,i),o=n(o,l)),function(u){return o(r(u))}}function VF(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=v0(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var f=Hu(e,u,1,r)-1;return o[f](i[f](u))}}function ju(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ih(){var e=x1,t=x1,n=qs,r,i,o,l=bn,u,f,d;function h(){var g=Math.min(e.length,t.length);return l!==bn&&(l=GF(e[0],e[g-1])),u=g>2?VF:jF,f=d=null,m}function m(g){return g==null||isNaN(g=+g)?o:(f||(f=u(e.map(r),t,n)))(r(l(g)))}return m.invert=function(g){return l(i((d||(d=u(t,e.map(r),Id)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Md),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),n=Ib,h()},m.clamp=function(g){return arguments.length?(l=g?!0:bn,h()):l!==bn},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(o=g,m):o},function(g,_){return r=g,i=_,h()}}function Mb(){return Ih()(bn,bn)}function FF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ns(e){return e=Nd(Math.abs(e)),e?e[1]:NaN}function KF(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function YF(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var JF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ru(e){if(!(t=JF.exec(e)))throw new Error("invalid format: "+e);var t;return new Nb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ru.prototype=Nb.prototype;function Nb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WF(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var DN;function XF(e,t){var n=Nd(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(DN=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Nd(e,Math.max(0,t+o-1))[0]}function C1(e,t){var n=Nd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const R1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:FF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>C1(e*100,t),r:C1,s:XF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function O1(e){return e}var P1=Array.prototype.map,I1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function QF(e){var t=e.grouping===void 0||e.thousands===void 0?O1:KF(P1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?O1:YF(P1.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Ru(m);var g=m.fill,_=m.align,S=m.sign,E=m.symbol,T=m.zero,C=m.width,O=m.comma,R=m.precision,I=m.trim,M=m.type;M==="n"?(O=!0,M="g"):R1[M]||(R===void 0&&(R=12),I=!0,M="g"),(T||g==="0"&&_==="=")&&(T=!0,g="0",_="=");var N=E==="$"?n:E==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",k=E==="$"?r:/[%p]/.test(M)?l:"",H=R1[M],q=/[defgprs%]/.test(M);R=R===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function ne(J){var ee=N,oe=k,fe,me,$;if(M==="c")oe=H(J)+oe,J="";else{J=+J;var Z=J<0||1/J<0;if(J=isNaN(J)?f:H(Math.abs(J),R),I&&(J=WF(J)),Z&&+J==0&&S!=="+"&&(Z=!1),ee=(Z?S==="("?S:u:S==="-"||S==="("?"":S)+ee,oe=(M==="s"?I1[8+DN/3]:"")+oe+(Z&&S==="("?")":""),q){for(fe=-1,me=J.length;++fe<me;)if($=J.charCodeAt(fe),48>$||$>57){oe=($===46?i+J.slice(fe+1):J.slice(fe))+oe,J=J.slice(0,fe);break}}}O&&!T&&(J=t(J,1/0));var se=ee.length+J.length+oe.length,W=se<C?new Array(C-se+1).join(g):"";switch(O&&T&&(J=t(W+J,W.length?C-oe.length:1/0),W=""),_){case"<":J=ee+J+oe+W;break;case"=":J=ee+W+J+oe;break;case"^":J=W.slice(0,se=W.length>>1)+ee+J+oe+W.slice(se);break;default:J=W+ee+J+oe;break}return o(J)}return ne.toString=function(){return m+""},ne}function h(m,g){var _=d((m=Ru(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(Ns(g)/3)))*3,E=Math.pow(10,-S),T=I1[8+S/3];return function(C){return _(E*C)+T}}return{format:d,formatPrefix:h}}var Lf,Db,kN;ZF({thousands:",",grouping:[3],currency:["$",""]});function ZF(e){return Lf=QF(e),Db=Lf.format,kN=Lf.formatPrefix,Lf}function e8(e){return Math.max(0,-Ns(Math.abs(e)))}function t8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ns(t)/3)))*3-Ns(Math.abs(e)))}function n8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ns(t)-Ns(e))+1}function UN(e,t,n,r){var i=d0(e,t,n),o;switch(r=Ru(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=t8(i,l))&&(r.precision=o),kN(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=n8(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=e8(i))&&(r.precision=o-(r.type==="%")*2);break}}return Db(r)}function wa(e){var t=e.domain;return e.ticks=function(n){var r=t();return c0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return UN(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],f,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=f0(l,u,n),d===f)return r[i]=l,r[o]=u,t(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;f=d}return e},e}function LN(){var e=Mb();return e.copy=function(){return ju(e,LN())},gr.apply(e,arguments),wa(e)}function BN(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Md),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return BN(e).unknown(t)},e=arguments.length?Array.from(e,Md):[0,1],wa(n)}function qN(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function M1(e){return Math.log(e)}function N1(e){return Math.exp(e)}function r8(e){return-Math.log(-e)}function i8(e){return-Math.exp(-e)}function a8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function o8(e){return e===10?a8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function s8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function D1(e){return(t,n)=>-e(-t,n)}function kb(e){const t=e(M1,N1),n=t.domain;let r=10,i,o;function l(){return i=s8(r),o=o8(r),n()[0]<0?(i=D1(i),o=D1(o),e(r8,i8)):e(M1,N1),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=i(d),_=i(h),S,E;const T=u==null?10:+u;let C=[];if(!(r%1)&&_-g<T){if(g=Math.floor(g),_=Math.ceil(_),d>0){for(;g<=_;++g)for(S=1;S<r;++S)if(E=g<0?S/o(-g):S*o(g),!(E<d)){if(E>h)break;C.push(E)}}else for(;g<=_;++g)for(S=r-1;S>=1;--S)if(E=g>0?S/o(-g):S*o(g),!(E<d)){if(E>h)break;C.push(E)}C.length*2<T&&(C=c0(d,h,T))}else C=c0(g,_,Math.min(_-g,T)).map(o);return m?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Ru(f)).precision==null&&(f.trim=!0),f=Db(f)),u===1/0)return f;const d=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?f(h):""}},t.nice=()=>n(qN(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function zN(){const e=kb(Ih()).domain([1,10]);return e.copy=()=>ju(e,zN()).base(e.base()),gr.apply(e,arguments),e}function k1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function U1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ub(e){var t=1,n=e(k1(t),U1(t));return n.constant=function(r){return arguments.length?e(k1(t=+r),U1(t)):t},wa(n)}function $N(){var e=Ub(Ih());return e.copy=function(){return ju(e,$N()).constant(e.constant())},gr.apply(e,arguments)}function L1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function l8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function u8(e){return e<0?-e*e:e*e}function Lb(e){var t=e(bn,bn),n=1;function r(){return n===1?e(bn,bn):n===.5?e(l8,u8):e(L1(n),L1(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},wa(t)}function Bb(){var e=Lb(Ih());return e.copy=function(){return ju(e,Bb()).exponent(e.exponent())},gr.apply(e,arguments),e}function c8(){return Bb.apply(null,arguments).exponent(.5)}function B1(e){return Math.sign(e)*e*e}function f8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function HN(){var e=Mb(),t=[0,1],n=!1,r;function i(o){var l=f8(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(B1(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Md)).map(B1)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return HN(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},gr.apply(i,arguments),wa(i)}function GN(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=mF(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[Hu(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(ga),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return GN().domain(e).range(t).unknown(r)},gr.apply(o,arguments)}function jN(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[Hu(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return jN().domain([e,t]).range(i).unknown(o)},gr.apply(wa(l),arguments)}function VN(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Hu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return VN().domain(e).range(t).unknown(n)},gr.apply(i,arguments)}const Yg=new Date,Jg=new Date;function Bt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return f;let d;do f.push(d=new Date(+o)),t(o,u),e(o);while(d<o&&o<l);return f},i.filter=o=>Bt(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(Yg.setTime(+o),Jg.setTime(+l),e(Yg),e(Jg),Math.floor(n(Yg,Jg))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Dd=Bt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Dd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Dd);Dd.range;const gi=1e3,fr=gi*60,yi=fr*60,Ei=yi*24,qb=Ei*7,q1=Ei*30,Wg=Ei*365,to=Bt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getUTCSeconds());to.range;const zb=Bt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi)},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getMinutes());zb.range;const $b=Bt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getUTCMinutes());$b.range;const Hb=Bt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi-e.getMinutes()*fr)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getHours());Hb.range;const Gb=Bt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getUTCHours());Gb.range;const Vu=Bt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fr)/Ei,e=>e.getDate()-1);Vu.range;const Mh=Bt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ei,e=>e.getUTCDate()-1);Mh.range;const FN=Bt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ei,e=>Math.floor(e/Ei));FN.range;function vo(e){return Bt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*fr)/qb)}const Nh=vo(0),kd=vo(1),d8=vo(2),h8=vo(3),Ds=vo(4),p8=vo(5),m8=vo(6);Nh.range;kd.range;d8.range;h8.range;Ds.range;p8.range;m8.range;function go(e){return Bt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/qb)}const Dh=go(0),Ud=go(1),v8=go(2),g8=go(3),ks=go(4),y8=go(5),b8=go(6);Dh.range;Ud.range;v8.range;g8.range;ks.range;y8.range;b8.range;const jb=Bt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jb.range;const Vb=Bt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Vb.range;const Ti=Bt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ti.range;const Ai=Bt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ai.range;function KN(e,t,n,r,i,o){const l=[[to,1,gi],[to,5,5*gi],[to,15,15*gi],[to,30,30*gi],[o,1,fr],[o,5,5*fr],[o,15,15*fr],[o,30,30*fr],[i,1,yi],[i,3,3*yi],[i,6,6*yi],[i,12,12*yi],[r,1,Ei],[r,2,2*Ei],[n,1,qb],[t,1,q1],[t,3,3*q1],[e,1,Wg]];function u(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const _=m&&typeof m.range=="function"?m:f(d,h,m),S=_?_.range(d,+h+1):[];return g?S.reverse():S}function f(d,h,m){const g=Math.abs(h-d)/m,_=xb(([,,T])=>T).right(l,g);if(_===l.length)return e.every(d0(d/Wg,h/Wg,m));if(_===0)return Dd.every(Math.max(d0(d,h,m),1));const[S,E]=l[g/l[_-1][2]<l[_][2]/g?_-1:_];return S.every(E)}return[u,f]}const[_8,w8]=KN(Ai,Vb,Dh,FN,Gb,$b),[S8,E8]=KN(Ti,jb,Nh,Vu,Hb,zb);function Xg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function T8(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,f=e.shortMonths,d=Wl(i),h=Xl(i),m=Wl(o),g=Xl(o),_=Wl(l),S=Xl(l),E=Wl(u),T=Xl(u),C=Wl(f),O=Xl(f),R={a:Z,A:se,b:W,B:ue,c:null,d:V1,e:V1,f:K8,g:r6,G:a6,H:j8,I:V8,j:F8,L:YN,m:Y8,M:J8,p:D,q:K,Q:Y1,s:J1,S:W8,u:X8,U:Q8,V:Z8,w:e6,W:t6,x:null,X:null,y:n6,Y:i6,Z:o6,"%":K1},I={a:ie,A:le,b:_e,B:Ae,c:null,d:F1,e:F1,f:c6,g:_6,G:S6,H:s6,I:l6,j:u6,L:WN,m:f6,M:d6,p:Te,q:pt,Q:Y1,s:J1,S:h6,u:p6,U:m6,V:v6,w:g6,W:y6,x:null,X:null,y:b6,Y:w6,Z:E6,"%":K1},M={a:ne,A:J,b:ee,B:oe,c:fe,d:G1,e:G1,f:z8,g:H1,G:$1,H:j1,I:j1,j:U8,L:q8,m:k8,M:L8,p:q,q:D8,Q:H8,s:G8,S:B8,u:O8,U:P8,V:I8,w:R8,W:M8,x:me,X:$,y:H1,Y:$1,Z:N8,"%":$8};R.x=N(n,R),R.X=N(r,R),R.c=N(t,R),I.x=N(n,I),I.X=N(r,I),I.c=N(t,I);function N(Q,xe){return function(Ie){var ae=[],$t=-1,Me=0,Et=Q.length,Tt,cn,Kr;for(Ie instanceof Date||(Ie=new Date(+Ie));++$t<Et;)Q.charCodeAt($t)===37&&(ae.push(Q.slice(Me,$t)),(cn=z1[Tt=Q.charAt(++$t)])!=null?Tt=Q.charAt(++$t):cn=Tt==="e"?" ":"0",(Kr=xe[Tt])&&(Tt=Kr(Ie,cn)),ae.push(Tt),Me=$t+1);return ae.push(Q.slice(Me,$t)),ae.join("")}}function k(Q,xe){return function(Ie){var ae=Jl(1900,void 0,1),$t=H(ae,Q,Ie+="",0),Me,Et;if($t!=Ie.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(xe&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Me=Qg(Jl(ae.y,0,1)),Et=Me.getUTCDay(),Me=Et>4||Et===0?Ud.ceil(Me):Ud(Me),Me=Mh.offset(Me,(ae.V-1)*7),ae.y=Me.getUTCFullYear(),ae.m=Me.getUTCMonth(),ae.d=Me.getUTCDate()+(ae.w+6)%7):(Me=Xg(Jl(ae.y,0,1)),Et=Me.getDay(),Me=Et>4||Et===0?kd.ceil(Me):kd(Me),Me=Vu.offset(Me,(ae.V-1)*7),ae.y=Me.getFullYear(),ae.m=Me.getMonth(),ae.d=Me.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Et="Z"in ae?Qg(Jl(ae.y,0,1)).getUTCDay():Xg(Jl(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Et+5)%7:ae.w+ae.U*7-(Et+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Qg(ae)):Xg(ae)}}function H(Q,xe,Ie,ae){for(var $t=0,Me=xe.length,Et=Ie.length,Tt,cn;$t<Me;){if(ae>=Et)return-1;if(Tt=xe.charCodeAt($t++),Tt===37){if(Tt=xe.charAt($t++),cn=M[Tt in z1?xe.charAt($t++):Tt],!cn||(ae=cn(Q,Ie,ae))<0)return-1}else if(Tt!=Ie.charCodeAt(ae++))return-1}return ae}function q(Q,xe,Ie){var ae=d.exec(xe.slice(Ie));return ae?(Q.p=h.get(ae[0].toLowerCase()),Ie+ae[0].length):-1}function ne(Q,xe,Ie){var ae=_.exec(xe.slice(Ie));return ae?(Q.w=S.get(ae[0].toLowerCase()),Ie+ae[0].length):-1}function J(Q,xe,Ie){var ae=m.exec(xe.slice(Ie));return ae?(Q.w=g.get(ae[0].toLowerCase()),Ie+ae[0].length):-1}function ee(Q,xe,Ie){var ae=C.exec(xe.slice(Ie));return ae?(Q.m=O.get(ae[0].toLowerCase()),Ie+ae[0].length):-1}function oe(Q,xe,Ie){var ae=E.exec(xe.slice(Ie));return ae?(Q.m=T.get(ae[0].toLowerCase()),Ie+ae[0].length):-1}function fe(Q,xe,Ie){return H(Q,t,xe,Ie)}function me(Q,xe,Ie){return H(Q,n,xe,Ie)}function $(Q,xe,Ie){return H(Q,r,xe,Ie)}function Z(Q){return l[Q.getDay()]}function se(Q){return o[Q.getDay()]}function W(Q){return f[Q.getMonth()]}function ue(Q){return u[Q.getMonth()]}function D(Q){return i[+(Q.getHours()>=12)]}function K(Q){return 1+~~(Q.getMonth()/3)}function ie(Q){return l[Q.getUTCDay()]}function le(Q){return o[Q.getUTCDay()]}function _e(Q){return f[Q.getUTCMonth()]}function Ae(Q){return u[Q.getUTCMonth()]}function Te(Q){return i[+(Q.getUTCHours()>=12)]}function pt(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var xe=N(Q+="",R);return xe.toString=function(){return Q},xe},parse:function(Q){var xe=k(Q+="",!1);return xe.toString=function(){return Q},xe},utcFormat:function(Q){var xe=N(Q+="",I);return xe.toString=function(){return Q},xe},utcParse:function(Q){var xe=k(Q+="",!0);return xe.toString=function(){return Q},xe}}}var z1={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,A8=/^%/,x8=/[\\^$*+?|[\]().{}]/g;function ze(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function C8(e){return e.replace(x8,"\\$&")}function Wl(e){return new RegExp("^(?:"+e.map(C8).join("|")+")","i")}function Xl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function R8(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function O8(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function P8(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function I8(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function M8(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function $1(e,t,n){var r=Wt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function H1(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function N8(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function D8(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function k8(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function G1(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function U8(e,t,n){var r=Wt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function j1(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function L8(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function B8(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function q8(e,t,n){var r=Wt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function z8(e,t,n){var r=Wt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $8(e,t,n){var r=A8.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function H8(e,t,n){var r=Wt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function G8(e,t,n){var r=Wt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function V1(e,t){return ze(e.getDate(),t,2)}function j8(e,t){return ze(e.getHours(),t,2)}function V8(e,t){return ze(e.getHours()%12||12,t,2)}function F8(e,t){return ze(1+Vu.count(Ti(e),e),t,3)}function YN(e,t){return ze(e.getMilliseconds(),t,3)}function K8(e,t){return YN(e,t)+"000"}function Y8(e,t){return ze(e.getMonth()+1,t,2)}function J8(e,t){return ze(e.getMinutes(),t,2)}function W8(e,t){return ze(e.getSeconds(),t,2)}function X8(e){var t=e.getDay();return t===0?7:t}function Q8(e,t){return ze(Nh.count(Ti(e)-1,e),t,2)}function JN(e){var t=e.getDay();return t>=4||t===0?Ds(e):Ds.ceil(e)}function Z8(e,t){return e=JN(e),ze(Ds.count(Ti(e),e)+(Ti(e).getDay()===4),t,2)}function e6(e){return e.getDay()}function t6(e,t){return ze(kd.count(Ti(e)-1,e),t,2)}function n6(e,t){return ze(e.getFullYear()%100,t,2)}function r6(e,t){return e=JN(e),ze(e.getFullYear()%100,t,2)}function i6(e,t){return ze(e.getFullYear()%1e4,t,4)}function a6(e,t){var n=e.getDay();return e=n>=4||n===0?Ds(e):Ds.ceil(e),ze(e.getFullYear()%1e4,t,4)}function o6(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ze(t/60|0,"0",2)+ze(t%60,"0",2)}function F1(e,t){return ze(e.getUTCDate(),t,2)}function s6(e,t){return ze(e.getUTCHours(),t,2)}function l6(e,t){return ze(e.getUTCHours()%12||12,t,2)}function u6(e,t){return ze(1+Mh.count(Ai(e),e),t,3)}function WN(e,t){return ze(e.getUTCMilliseconds(),t,3)}function c6(e,t){return WN(e,t)+"000"}function f6(e,t){return ze(e.getUTCMonth()+1,t,2)}function d6(e,t){return ze(e.getUTCMinutes(),t,2)}function h6(e,t){return ze(e.getUTCSeconds(),t,2)}function p6(e){var t=e.getUTCDay();return t===0?7:t}function m6(e,t){return ze(Dh.count(Ai(e)-1,e),t,2)}function XN(e){var t=e.getUTCDay();return t>=4||t===0?ks(e):ks.ceil(e)}function v6(e,t){return e=XN(e),ze(ks.count(Ai(e),e)+(Ai(e).getUTCDay()===4),t,2)}function g6(e){return e.getUTCDay()}function y6(e,t){return ze(Ud.count(Ai(e)-1,e),t,2)}function b6(e,t){return ze(e.getUTCFullYear()%100,t,2)}function _6(e,t){return e=XN(e),ze(e.getUTCFullYear()%100,t,2)}function w6(e,t){return ze(e.getUTCFullYear()%1e4,t,4)}function S6(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ks(e):ks.ceil(e),ze(e.getUTCFullYear()%1e4,t,4)}function E6(){return"+0000"}function K1(){return"%"}function Y1(e){return+e}function J1(e){return Math.floor(+e/1e3)}var fs,QN,ZN;T6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function T6(e){return fs=T8(e),QN=fs.format,fs.parse,ZN=fs.utcFormat,fs.utcParse,fs}function A6(e){return new Date(e)}function x6(e){return e instanceof Date?+e:+new Date(+e)}function Fb(e,t,n,r,i,o,l,u,f,d){var h=Mb(),m=h.invert,g=h.domain,_=d(".%L"),S=d(":%S"),E=d("%I:%M"),T=d("%I %p"),C=d("%a %d"),O=d("%b %d"),R=d("%B"),I=d("%Y");function M(N){return(f(N)<N?_:u(N)<N?S:l(N)<N?E:o(N)<N?T:r(N)<N?i(N)<N?C:O:n(N)<N?R:I)(N)}return h.invert=function(N){return new Date(m(N))},h.domain=function(N){return arguments.length?g(Array.from(N,x6)):g().map(A6)},h.ticks=function(N){var k=g();return e(k[0],k[k.length-1],N??10)},h.tickFormat=function(N,k){return k==null?M:d(k)},h.nice=function(N){var k=g();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?g(qN(k,N)):h},h.copy=function(){return ju(h,Fb(e,t,n,r,i,o,l,u,f,d))},h}function C6(){return gr.apply(Fb(S8,E8,Ti,jb,Nh,Vu,Hb,zb,to,QN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function R6(){return gr.apply(Fb(_8,w8,Ai,Vb,Dh,Mh,Gb,$b,to,ZN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kh(){var e=0,t=1,n,r,i,o,l=bn,u=!1,f;function d(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(g){var _,S;return arguments.length?([_,S]=g,l=m(_,S),d):[l(0),l(1)]}}return d.range=h(qs),d.rangeRound=h(Ib),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function Sa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eD(){var e=wa(kh()(bn));return e.copy=function(){return Sa(e,eD())},Mi.apply(e,arguments)}function tD(){var e=kb(kh()).domain([1,10]);return e.copy=function(){return Sa(e,tD()).base(e.base())},Mi.apply(e,arguments)}function nD(){var e=Ub(kh());return e.copy=function(){return Sa(e,nD()).constant(e.constant())},Mi.apply(e,arguments)}function Kb(){var e=Lb(kh());return e.copy=function(){return Sa(e,Kb()).exponent(e.exponent())},Mi.apply(e,arguments)}function O6(){return Kb.apply(null,arguments).exponent(.5)}function rD(){var e=[],t=bn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Hu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ga),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>pF(e,o/r))},n.copy=function(){return rD(t).domain(e)},Mi.apply(n,arguments)}function Uh(){var e=0,t=.5,n=1,r=1,i,o,l,u,f,d=bn,h,m=!1,g;function _(E){return isNaN(E=+E)?g:(E=.5+((E=+h(E))-o)*(r*E<r*o?u:f),d(m?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),o=h(t=+t),l=h(n=+n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,_):[e,t,n]},_.clamp=function(E){return arguments.length?(m=!!E,_):m},_.interpolator=function(E){return arguments.length?(d=E,_):d};function S(E){return function(T){var C,O,R;return arguments.length?([C,O,R]=T,d=$F(E,[C,O,R]),_):[d(0),d(.5),d(1)]}}return _.range=S(qs),_.rangeRound=S(Ib),_.unknown=function(E){return arguments.length?(g=E,_):g},function(E){return h=E,i=E(e),o=E(t),l=E(n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,_}}function iD(){var e=wa(Uh()(bn));return e.copy=function(){return Sa(e,iD())},Mi.apply(e,arguments)}function aD(){var e=kb(Uh()).domain([.1,1,10]);return e.copy=function(){return Sa(e,aD()).base(e.base())},Mi.apply(e,arguments)}function oD(){var e=Ub(Uh());return e.copy=function(){return Sa(e,oD()).constant(e.constant())},Mi.apply(e,arguments)}function Yb(){var e=Lb(Uh());return e.copy=function(){return Sa(e,Yb()).exponent(e.exponent())},Mi.apply(e,arguments)}function P6(){return Yb.apply(null,arguments).exponent(.5)}const iu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rb,scaleDiverging:iD,scaleDivergingLog:aD,scaleDivergingPow:Yb,scaleDivergingSqrt:P6,scaleDivergingSymlog:oD,scaleIdentity:BN,scaleImplicit:h0,scaleLinear:LN,scaleLog:zN,scaleOrdinal:Cb,scalePoint:gF,scalePow:Bb,scaleQuantile:GN,scaleQuantize:jN,scaleRadial:HN,scaleSequential:eD,scaleSequentialLog:tD,scaleSequentialPow:Kb,scaleSequentialQuantile:rD,scaleSequentialSqrt:O6,scaleSequentialSymlog:nD,scaleSqrt:c8,scaleSymlog:$N,scaleThreshold:VN,scaleTime:C6,scaleUtc:R6,tickFormat:UN},Symbol.toStringTag,{value:"Module"}));var Ni=e=>e.chartData,Lh=V([Ni],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),sD=(e,t,n,r)=>r?Lh(e):Ni(e),I6=(e,t,n)=>n?Lh(e):Ni(e);function ya(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(dt(t)&&dt(n))return!0}return!1}function W1(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function lD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(dt(n))i=n;else if(typeof n=="function")return;if(dt(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(ya(l))return l}}function M6(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ya(r))return W1(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(pe(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&oC.test(i)){var f=oC.exec(i);if(f==null||f[1]==null||t==null)l=void 0;else{var d=+f[1];l=t[0]-d}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(pe(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&sC.test(o)){var h=sC.exec(o);if(h==null||h[1]==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t==null?void 0:t[1];var g=[l,u];if(ya(g))return t==null?g:W1(g,t,n)}}}var zs=1e9,N6={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Wb,ut=!0,mr="[DecimalError] ",ao=mr+"Invalid argument: ",Jb=mr+"Exponent out of range: ",$s=Math.floor,Ya=Math.pow,D6=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kn,Ft=1e7,at=7,uD=9007199254740991,Ld=$s(uD/at),de={};de.absoluteValue=de.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};de.comparedTo=de.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};de.decimalPlaces=de.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*at;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(e){return bi(this,new this.constructor(e))};de.dividedToIntegerBy=de.idiv=function(e){var t=this,n=t.constructor;return Ze(bi(t,new n(e),0,1),n.precision)};de.equals=de.eq=function(e){return!this.cmp(e)};de.exponent=function(){return Mt(this)};de.greaterThan=de.gt=function(e){return this.cmp(e)>0};de.greaterThanOrEqualTo=de.gte=function(e){return this.cmp(e)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(e){return this.cmp(e)<0};de.lessThanOrEqualTo=de.lte=function(e){return this.cmp(e)<1};de.logarithm=de.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Kn))throw Error(mr+"NaN");if(n.s<1)throw Error(mr+(n.s?"NaN":"-Infinity"));return n.eq(Kn)?new r(0):(ut=!1,t=bi(Ou(n,o),Ou(e,o),o),ut=!0,Ze(t,i))};de.minus=de.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dD(t,e):cD(t,(e.s=-e.s,e))};de.modulo=de.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(mr+"NaN");return n.s?(ut=!1,t=bi(n,e,0,1).times(e),ut=!0,n.minus(t)):Ze(new r(n),i)};de.naturalExponential=de.exp=function(){return fD(this)};de.naturalLogarithm=de.ln=function(){return Ou(this)};de.negated=de.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};de.plus=de.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cD(t,e):dD(t,(e.s=-e.s,e))};de.precision=de.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ao+e);if(t=Mt(i)+1,r=i.d.length-1,n=r*at+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};de.squareRoot=de.sqrt=function(){var e,t,n,r,i,o,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(mr+"NaN")}for(e=Mt(u),ut=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=$r(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=$s((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(bi(u,o,l+2)).times(.5),$r(o.d).slice(0,l)===(t=$r(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(Ze(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return ut=!0,Ze(r,n)};de.times=de.mul=function(e){var t,n,r,i,o,l,u,f,d,h=this,m=h.constructor,g=h.d,_=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,f=g.length,d=_.length,f<d&&(o=g,g=_,_=o,l=f,f=d,d=l),o=[],l=f+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,i=f+r;i>r;)u=o[i]+_[r]*g[i-r-1]+t,o[i--]=u%Ft|0,t=u/Ft|0;o[i]=(o[i]+t)%Ft|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,ut?Ze(e,m.precision):e};de.toDecimalPlaces=de.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Vr(e,0,zs),t===void 0?t=r.rounding:Vr(t,0,8),Ze(n,e+Mt(n)+1,t))};de.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=co(r,!0):(Vr(e,0,zs),t===void 0?t=i.rounding:Vr(t,0,8),r=Ze(new i(r),e+1,t),n=co(r,!0,e+1)),n};de.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?co(i):(Vr(e,0,zs),t===void 0?t=o.rounding:Vr(t,0,8),r=Ze(new o(i),e+Mt(i)+1,t),n=co(r.abs(),!1,e+Mt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var e=this,t=e.constructor;return Ze(new t(e),Mt(e)+1,t.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(e){var t,n,r,i,o,l,u=this,f=u.constructor,d=12,h=+(e=new f(e));if(!e.s)return new f(Kn);if(u=new f(u),!u.s){if(e.s<1)throw Error(mr+"Infinity");return u}if(u.eq(Kn))return u;if(r=f.precision,e.eq(Kn))return Ze(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=h<0?-h:h)<=uD){for(i=new f(Kn),t=Math.ceil(r/at+4),ut=!1;n%2&&(i=i.times(u),Q1(i.d,t)),n=$s(n/2),n!==0;)u=u.times(u),Q1(u.d,t);return ut=!0,e.s<0?new f(Kn).div(i):Ze(i,r)}}else if(o<0)throw Error(mr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,ut=!1,i=e.times(Ou(u,r+d)),ut=!0,i=fD(i),i.s=o,i};de.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Mt(i),r=co(i,n<=o.toExpNeg||n>=o.toExpPos)):(Vr(e,1,zs),t===void 0?t=o.rounding:Vr(t,0,8),i=Ze(new o(i),e,t),n=Mt(i),r=co(i,e<=n||n<=o.toExpNeg,e)),r};de.toSignificantDigits=de.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Vr(e,1,zs),t===void 0?t=r.rounding:Vr(t,0,8)),Ze(new r(n),e,t)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mt(e),n=e.constructor;return co(e,t<=n.toExpNeg||t>=n.toExpPos)};function cD(e,t){var n,r,i,o,l,u,f,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),ut?Ze(t,m):t;if(f=e.d,d=t.d,l=e.e,i=t.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,u=d.length):(r=d,i=l,u=f.length),l=Math.ceil(m/at),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=d.length,u-o<0&&(o=u,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/Ft|0,f[o]%=Ft;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,ut?Ze(t,m):t}function Vr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ao+e)}function $r(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=at-r.length,n&&(o+=fa(n)),o+=r;l=e[t],r=l+"",n=at-r.length,n&&(o+=fa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var bi=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%Ft|0,l=o/Ft|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,f;if(o!=l)f=o>l?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Ft+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,f,d,h,m,g,_,S,E,T,C,O,R,I,M,N,k,H,q=r.constructor,ne=r.s==i.s?1:-1,J=r.d,ee=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(mr+"Division by zero");for(f=r.e-i.e,k=ee.length,M=J.length,_=new q(ne),S=_.d=[],d=0;ee[d]==(J[d]||0);)++d;if(ee[d]>(J[d]||0)&&--f,o==null?O=o=q.precision:l?O=o+(Mt(r)-Mt(i))+1:O=o,O<0)return new q(0);if(O=O/at+2|0,d=0,k==1)for(h=0,ee=ee[0],O++;(d<M||h)&&O--;d++)R=h*Ft+(J[d]||0),S[d]=R/ee|0,h=R%ee|0;else{for(h=Ft/(ee[0]+1)|0,h>1&&(ee=e(ee,h),J=e(J,h),k=ee.length,M=J.length),I=k,E=J.slice(0,k),T=E.length;T<k;)E[T++]=0;H=ee.slice(),H.unshift(0),N=ee[0],ee[1]>=Ft/2&&++N;do h=0,u=t(ee,E,k,T),u<0?(C=E[0],k!=T&&(C=C*Ft+(E[1]||0)),h=C/N|0,h>1?(h>=Ft&&(h=Ft-1),m=e(ee,h),g=m.length,T=E.length,u=t(m,E,g,T),u==1&&(h--,n(m,k<g?H:ee,g))):(h==0&&(u=h=1),m=ee.slice()),g=m.length,g<T&&m.unshift(0),n(E,m,T),u==-1&&(T=E.length,u=t(ee,E,k,T),u<1&&(h++,n(E,k<T?H:ee,T))),T=E.length):u===0&&(h++,E=[0]),S[d++]=h,u&&E[0]?E[T++]=J[I]||0:(E=[J[I]],T=1);while((I++<M||E[0]!==void 0)&&O--)}return S[0]||S.shift(),_.e=f,Ze(_,l?o+Mt(_)+1:o)}})();function fD(e,t){var n,r,i,o,l,u,f=0,d=0,h=e.constructor,m=h.precision;if(Mt(e)>16)throw Error(Jb+Mt(e));if(!e.s)return new h(Kn);for(ut=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(Ya(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Kn),h.precision=u;;){if(i=Ze(i.times(e),u),n=n.times(++f),l=o.plus(bi(i,n,u)),$r(l.d).slice(0,u)===$r(o.d).slice(0,u)){for(;d--;)o=Ze(o.times(o),u);return h.precision=m,t==null?(ut=!0,Ze(o,m)):o}o=l}}function Mt(e){for(var t=e.e*at,n=e.d[0];n>=10;n/=10)t++;return t}function Zg(e,t,n){if(t>e.LN10.sd())throw ut=!0,n&&(e.precision=n),Error(mr+"LN10 precision limit exceeded");return Ze(new e(e.LN10),t)}function fa(e){for(var t="";e--;)t+="0";return t}function Ou(e,t){var n,r,i,o,l,u,f,d,h,m=1,g=10,_=e,S=_.d,E=_.constructor,T=E.precision;if(_.s<1)throw Error(mr+(_.s?"NaN":"-Infinity"));if(_.eq(Kn))return new E(0);if(t==null?(ut=!1,d=T):d=t,_.eq(10))return t==null&&(ut=!0),Zg(E,d);if(d+=g,E.precision=d,n=$r(S),r=n.charAt(0),o=Mt(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=$r(_.d),r=n.charAt(0),m++;o=Mt(_),r>1?(_=new E("0."+n),o++):_=new E(r+"."+n.slice(1))}else return f=Zg(E,d+2,T).times(o+""),_=Ou(new E(r+"."+n.slice(1)),d-g).plus(f),E.precision=T,t==null?(ut=!0,Ze(_,T)):_;for(u=l=_=bi(_.minus(Kn),_.plus(Kn),d),h=Ze(_.times(_),d),i=3;;){if(l=Ze(l.times(h),d),f=u.plus(bi(l,new E(i),d)),$r(f.d).slice(0,d)===$r(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(Zg(E,d+2,T).times(o+""))),u=bi(u,new E(m),d),E.precision=T,t==null?(ut=!0,Ze(u,T)):u;u=f,i+=2}}function X1(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=$s(n/at),e.d=[],r=(n+1)%at,n<0&&(r+=at),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=at;r<i;)e.d.push(+t.slice(r,r+=at));t=t.slice(r),r=at-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ut&&(e.e>Ld||e.e<-Ld))throw Error(Jb+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ze(e,t,n){var r,i,o,l,u,f,d,h,m=e.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=at,i=t,d=m[h=0];else{if(h=Math.ceil((r+1)/at),o=m.length,h>=o)return e;for(d=o=m[h],l=1;o>=10;o/=10)l++;r%=at,i=r-at+l}if(n!==void 0&&(o=Ya(10,l-i-1),u=d/o%10|0,f=t<0||m[h+1]!==void 0||d%o,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/Ya(10,l-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return f?(o=Mt(e),m.length=1,t=t-o-1,m[0]=Ya(10,(at-t%at)%at),e.e=$s(-t/at)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=Ya(10,at-r),m[h]=i>0?(d/Ya(10,l-i)%Ya(10,i)|0)*o:0),f)for(;;)if(h==0){(m[0]+=o)==Ft&&(m[0]=1,++e.e);break}else{if(m[h]+=o,m[h]!=Ft)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(ut&&(e.e>Ld||e.e<-Ld))throw Error(Jb+Mt(e));return e}function dD(e,t){var n,r,i,o,l,u,f,d,h,m,g=e.constructor,_=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),ut?Ze(t,_):t;if(f=e.d,m=t.d,r=t.e,d=e.e,f=f.slice(),l=d-r,l){for(h=l<0,h?(n=f,l=-l,u=m.length):(n=m,r=d,u=f.length),i=Math.max(Math.ceil(_/at),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=m[i]){h=f[i]<m[i];break}l=0}for(h&&(n=f,f=m,m=n,t.s=-t.s),u=f.length,i=m.length-u;i>0;--i)f[u++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(o=i;o&&f[--o]===0;)f[o]=Ft-1;--f[o],f[i]+=Ft}f[i]-=m[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,ut?Ze(t,_):t):new g(0)}function co(e,t,n){var r,i=Mt(e),o=$r(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+fa(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+fa(-i-1)+o,n&&(r=n-l)>0&&(o+=fa(r))):i>=l?(o+=fa(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+fa(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=fa(r))),e.s<0?"-"+o:o}function Q1(e,t){if(e.length>t)return e.length=t,!0}function hD(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ao+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return X1(l,o.toString())}else if(typeof o!="string")throw Error(ao+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,D6.test(o))X1(l,o);else throw Error(ao+o)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hD,i.config=i.set=k6,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function k6(e){if(!e||typeof e!="object")throw Error(mr+"Object expected");var t,n,r,i=["precision",1,zs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if($s(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ao+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ao+n+": "+r);return this}var Wb=hD(N6);Kn=new Wb(1);const Fe=Wb;var U6=e=>e,pD={},mD=e=>e===pD,Z1=e=>function t(){return arguments.length===0||arguments.length===1&&mD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},vD=(e,t)=>e===1?t:Z1(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==pD).length;return o>=e?t(...r):vD(e-o,Z1(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var d=r.map(h=>mD(h)?u.shift():h);return t(...d,...u)}))}),L6=e=>vD(e.length,e),g0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},B6=L6((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),q6=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return U6;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),o(...arguments))}};function gD(e){var t;return e===0?t=1:t=Math.floor(new Fe(e).abs().log(10).toNumber())+1,t}function yD(e,t,n){for(var r=new Fe(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var bD=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},_D=(e,t,n)=>{if(e.lte(0))return new Fe(0);var r=gD(e.toNumber()),i=new Fe(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new Fe(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return t?new Fe(f.toNumber()):new Fe(Math.ceil(f.toNumber()))},z6=(e,t,n)=>{var r=new Fe(1),i=new Fe(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Fe(10).pow(gD(e)-1),i=new Fe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Fe(Math.floor(e)))}else e===0?i=new Fe(Math.floor((t-1)/2)):n||(i=new Fe(Math.floor(e)));var l=Math.floor((t-1)/2),u=q6(B6(f=>i.add(new Fe(f-l).mul(r)).toNumber()),g0);return u(0,t)},wD=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var l=_D(new Fe(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new Fe(0):(u=new Fe(t).add(n).div(2),u=u.sub(new Fe(u).mod(l)));var f=Math.ceil(u.sub(t).div(l).toNumber()),d=Math.ceil(new Fe(n).sub(u).div(l).toNumber()),h=f+d+1;return h>r?wD(t,n,r,i,o+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:l,tickMin:u.sub(new Fe(f).mul(l)),tickMax:u.add(new Fe(d).mul(l))})},$6=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=bD([n,r]);if(u===-1/0||f===1/0){var d=f===1/0?[u,...g0(0,i-1).map(()=>1/0)]:[...g0(0,i-1).map(()=>-1/0),f];return n>r?d.reverse():d}if(u===f)return z6(u,i,o);var{step:h,tickMin:m,tickMax:g}=wD(u,f,l,o,0),_=yD(m,g.add(new Fe(.1).mul(h)),h);return n>r?_.reverse():_},H6=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=bD([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(n,2),d=_D(new Fe(u).sub(l).div(f-1),o,0),h=[...yD(new Fe(l),new Fe(u),d),u];return o===!1&&(h=h.map(m=>Math.round(m))),r>i?h.reverse():h},SD=e=>e.rootProps.maxBarSize,G6=e=>e.rootProps.barGap,ED=e=>e.rootProps.barCategoryGap,j6=e=>e.rootProps.barSize,Fu=e=>e.rootProps.stackOffset,TD=e=>e.rootProps.reverseStackOrder,Xb=e=>e.options.chartName,Qb=e=>e.rootProps.syncId,AD=e=>e.rootProps.syncMethod,Zb=e=>e.options.eventEmitter,un={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},mi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},jn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Bh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},V6={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mi.angleAxisId,includeHidden:!1,name:void 0,reversed:mi.reversed,scale:mi.scale,tick:mi.tick,tickCount:void 0,ticks:void 0,type:mi.type,unit:void 0},F6={allowDataOverflow:jn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,ticks:void 0,type:jn.type,unit:void 0},K6={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mi.scale,tick:mi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Y6={allowDataOverflow:jn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,ticks:void 0,type:"category",unit:void 0},e_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?K6:V6,t_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Y6:F6,qh=e=>e.polarOptions,n_=V([Pi,Ii,Lt],SN),xD=V([qh,n_],(e,t)=>{if(e!=null)return mn(e.innerRadius,t,0)}),CD=V([qh,n_],(e,t)=>{if(e!=null)return mn(e.outerRadius,t,t*.8)}),J6=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},RD=V([qh],J6);V([e_,RD],Bh);var OD=V([n_,xD,CD],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});V([t_,OD],Bh);var PD=V([He,qh,xD,CD,Pi,Ii],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:d}=t;return{cx:mn(l,i,i/2),cy:mn(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),ct=(e,t)=>t,Ku=(e,t,n)=>n;function r_(e){return e==null?void 0:e.id}function ID(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var h=r_(u);d.forEach((m,g)=>{var _=o==null||i?g:String(ot(m,o,null)),S=ot(m,u.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[h]:S}),l.set(_,E)})}}),Array.from(l.values())}function zh(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var $h=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Hh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function W6(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var qt=e=>{var t=He(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Hs=e=>e.tooltip.settings.axisId;function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(r){X6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X6(e,t,n){return(t=Q6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q6(e){var t=Z6(e,"string");return typeof t=="symbol"?t:t+""}function Z6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y0=[0,"auto"],jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},MD=(e,t)=>e.cartesianAxis.xAxis[t],Di=(e,t)=>{var n=MD(e,t);return n??jt},Vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:y0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:qu},ND=(e,t)=>e.cartesianAxis.yAxis[t],ki=(e,t)=>{var n=ND(e,t);return n??Vt},e5={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},i_=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??e5},ht=(e,t,n)=>{switch(t){case"xAxis":return Di(e,n);case"yAxis":return ki(e,n);case"zAxis":return i_(e,n);case"angleAxis":return e_(e,n);case"radiusAxis":return t_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},t5=(e,t,n)=>{switch(t){case"xAxis":return Di(e,n);case"yAxis":return ki(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Yu=(e,t,n)=>{switch(t){case"xAxis":return Di(e,n);case"yAxis":return ki(e,n);case"angleAxis":return e_(e,n);case"radiusAxis":return t_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},DD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function a_(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var o_=e=>e.graphicalItems.cartesianItems,n5=V([ct,Ku],a_),s_=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Ju=V([o_,ht,n5],s_,{memoizeOptions:{resultEqualityCheck:Hh}}),kD=V([Ju],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(zh)),UD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),r5=V([Ju],UD),l_=e=>e.map(t=>t.data).filter(Boolean).flat(1),i5=V([Ju],l_,{memoizeOptions:{resultEqualityCheck:Hh}}),u_=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},c_=V([i5,sD],u_),f_=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ot(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ot(i,r)}))):e.map(r=>({value:r})),Gh=V([c_,ht,Ju],f_);function LD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xf(e){if(Gr(e)||e instanceof Date){var t=Number(e);if(dt(t))return t}}function tR(e){if(Array.isArray(e)){var t=[Xf(e[0]),Xf(e[1])];return ya(t)?t:void 0}var n=Xf(e);if(n!=null)return[n,n]}function xi(e){return e.map(Xf).filter(WH)}function a5(e,t,n){return!n||typeof t!="number"||Ir(t)?[]:n.length?xi(n.flatMap(r=>{var i=ot(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!dt(o)||!dt(l)))return[t-o,t+l]})):[]}var zt=e=>{var t=qt(e),n=Hs(e);return Yu(e,t,n)},Wu=V([zt],e=>e==null?void 0:e.dataKey),o5=V([kD,sD,zt],ID),BD=(e,t,n,r)=>{var i={},o=t.reduce((l,u)=>{if(u.stackId==null)return l;var f=l[u.stackId];return f==null&&(f=[]),f.push(u),l[u.stackId]=f,l},i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,f]=l,d=r?[...f].reverse():f,h=d.map(r_);return[u,{stackedData:T3(e,h,n),graphicalItems:d}]}))},b0=V([o5,kD,Fu,TD],BD),qD=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var l=O3(e,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},s5=V([ht],e=>e.allowDataOverflow),d_=e=>{var t;if(e==null||!("domain"in e))return y0;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=xi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:y0},h_=V([ht],d_),p_=V([h_,s5],lD),l5=V([b0,Ni,ct,p_],qD,{memoizeOptions:{resultEqualityCheck:$h}}),jh=e=>e.errorBars,u5=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>LD(n,r)),qd=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},m_=(e,t,n,r,i)=>{var o,l;if(n.length>0&&e.forEach(u=>{n.forEach(f=>{var d,h,m=(d=r[f.id])===null||d===void 0?void 0:d.filter(C=>LD(i,C)),g=ot(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),_=a5(u,g,m);if(_.length>=2){var S=Math.min(..._),E=Math.max(..._);(o==null||S<o)&&(o=S),(l==null||E>l)&&(l=E)}var T=tR(g);T!=null&&(o=o==null?T[0]:Math.min(o,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var f=tR(ot(u,t.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),dt(o)&&dt(l))return[o,l]},c5=V([c_,ht,r5,jh,ct],m_,{memoizeOptions:{resultEqualityCheck:$h}});function f5(e){var{value:t}=e;if(Gr(t)||t instanceof Date)return t}var d5=(e,t,n)=>{var r=e.map(f5).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&tM(r))?xN(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},zD=e=>e.referenceElements.dots,Gs=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),h5=V([zD,ct,Ku],Gs),$D=e=>e.referenceElements.areas,p5=V([$D,ct,Ku],Gs),HD=e=>e.referenceElements.lines,m5=V([HD,ct,Ku],Gs),GD=(e,t)=>{if(e!=null){var n=xi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},v5=V(h5,ct,GD),jD=(e,t)=>{if(e!=null){var n=xi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},g5=V([p5,ct],jD);function y5(e){var t;if(e.x!=null)return xi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:xi(n)}function b5(e){var t;if(e.y!=null)return xi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:xi(n)}var VD=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?y5(r):b5(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},_5=V([m5,ct],VD),w5=V(v5,_5,g5,(e,t,n)=>qd(e,n,t)),v_=(e,t,n,r,i,o,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=f?qd(r,o,i):qd(o,i);return M6(t,d,e.allowDataOverflow)},S5=V([ht,h_,p_,l5,c5,w5,He,ct],v_,{memoizeOptions:{resultEqualityCheck:$h}}),E5=[0,1],g_=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=e,d=mo(t,o);if(d&&u==null){var h;return xN(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return f==="category"?d5(r,e,d):i==="expand"?E5:l}},y_=V([ht,He,c_,Gh,Fu,ct,S5],g_),FD=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Nu(o));return u in iu?u:"point"}}},js=V([ht,He,DD,Xb,ct],FD);function T5(e){if(e!=null){if(e in iu)return iu[e]();var t="scale".concat(Nu(e));if(t in iu)return iu[t]()}}function b_(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=T5(t);if(i!=null){var o=i.domain(n).range(r);return b3(o),o}}}var __=(e,t,n)=>{var r=d_(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ya(e))return $6(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ya(e))return H6(e,t.tickCount,t.allowDecimals)}},w_=V([y_,Yu,js],__),S_=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ya(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return t},A5=V([ht,y_,w_,ct],S_),x5=V(Gh,ht,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(xi(e.map(m=>m.value))).sort((m,g)=>m-g),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var l=o-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],d=r[u+1];if(!(f==null||d==null)){var h=d-f;n=Math.min(n,h)}}return n/l}}),KD=V(x5,He,ED,Lt,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!dt(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=mn(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),C5=(e,t,n)=>{var r=Di(e,t);return r==null||typeof r.padding!="string"?0:KD(e,"xAxis",t,n,r.padding)},R5=(e,t,n)=>{var r=ki(e,t);return r==null||typeof r.padding!="string"?0:KD(e,"yAxis",t,n,r.padding)},O5=V(Di,C5,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),P5=V(ki,R5,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),I5=V([Lt,O5,Sh,wh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),M5=V([Lt,He,P5,Sh,wh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Xu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return I5(e,n,r);case"yAxis":return M5(e,n,r);case"zAxis":return(i=i_(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return RD(e);case"radiusAxis":return OD(e,n);default:return}},YD=V([ht,Xu],Bh),Vh=V([ht,js,A5,YD],b_);V([Ju,jh,ct],u5);function JD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Fh=(e,t)=>t,Kh=(e,t,n)=>n,N5=V(bh,Fh,Kh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(JD)),D5=V(_h,Fh,Kh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(JD)),WD=(e,t)=>({width:e.width,height:t.height}),k5=(e,t)=>{var n=typeof t.width=="number"?t.width:qu;return{width:n,height:e.height}},XD=V(Lt,Di,WD),U5=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},L5=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},B5=V(Ii,Lt,N5,Fh,Kh,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=WD(t,u);l==null&&(l=U5(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),q5=V(Pi,Lt,D5,Fh,Kh,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=k5(t,u);l==null&&(l=L5(t,r,e));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),z5=(e,t)=>{var n=Di(e,t);if(n!=null)return B5(e,n.orientation,n.mirror)},$5=V([Lt,Di,z5,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),H5=(e,t)=>{var n=ki(e,t);if(n!=null)return q5(e,n.orientation,n.mirror)},G5=V([Lt,ki,H5,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),QD=V(Lt,ki,(e,t)=>{var n=typeof t.width=="number"?t.width:qu;return{width:n,height:e.height}}),nR=(e,t,n)=>{switch(t){case"xAxis":return XD(e,n).width;case"yAxis":return QD(e,n).height;default:return}},ZD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=mo(e,r),f=t.map(d=>d.value);if(l&&u&&o==="category"&&i&&tM(f))return f}},E_=V([He,Gh,ht,ct],ZD),ek=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=mo(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},T_=V([He,Gh,Yu,ct],ek),rR=V([He,t5,js,Vh,E_,T_,Xu,w_,ct],(e,t,n,r,i,o,l,u,f)=>{if(t!=null){var d=mo(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),j5=(e,t,n,r,i,o,l,u,f)=>{if(!(t==null||r==null)){var d=mo(e,f),{type:h,ticks:m,tickCount:g}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/_:0;S=f==="angleAxis"&&o!=null&&o.length>=2?Kt(o[0]-o[1])*2*S:S;var E=m||i;if(E){var T=E.map((C,O)=>{var R=l?l.indexOf(C):C;return{index:O,coordinate:r(R)+S,value:C,offset:S}});return T.filter(C=>dt(C.coordinate))}return d&&u?u.map((C,O)=>({coordinate:r(C)+S,value:C,index:O,offset:S})).filter(C=>dt(C.coordinate)):r.ticks?r.ticks(g).map(C=>({coordinate:r(C)+S,value:C,offset:S})):r.domain().map((C,O)=>({coordinate:r(C)+S,value:l?l[C]:C,index:O,offset:S}))}},tk=V([He,Yu,js,Vh,w_,Xu,E_,T_,ct],j5),V5=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=mo(e,l),{tickCount:f}=t,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Kt(r[0]-r[1])*2*d:d,u&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},Us=V([He,Yu,Vh,Xu,E_,T_,ct],V5),Ls=V(ht,Vh,(e,t)=>{if(!(e==null||t==null))return Bd(Bd({},e),{},{scale:t})}),F5=V([ht,js,y_,YD],b_);V((e,t,n)=>i_(e,n),F5,(e,t)=>{if(!(e==null||t==null))return Bd(Bd({},e),{},{scale:t})});var K5=V([He,bh,_h],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),nk=e=>e.options.defaultTooltipEventType,rk=e=>e.options.validateTooltipEventTypes;function ik(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function A_(e,t){var n=nk(e),r=rk(e);return ik(t,n,r)}function Y5(e){return ge(t=>A_(t,e))}var ak=(e,t)=>{var n,r=Number(t);if(!(Ir(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},J5=e=>e.tooltip.settings,pa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},W5={itemInteraction:{click:pa,hover:pa},axisInteraction:{click:pa,hover:pa},keyboardInteraction:pa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ok=In({name:"tooltip",initialState:W5,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:lt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Cr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:lt()},removeTooltipEntrySettings:{reducer(e,t){var n=Cr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:lt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:X5,replaceTooltipEntrySettings:Q5,removeTooltipEntrySettings:Z5,setTooltipSettingsState:eK,setActiveMouseOverItemIndex:sk,mouseLeaveItem:tK,mouseLeaveChart:lk,setActiveClickItemIndex:nK,setMouseOverAxisIndex:uk,setMouseClickAxisIndex:rK,setSyncInteraction:_0,setKeyboardInteraction:w0}=ok.actions,iK=ok.reducer;function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(r){aK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aK(e,t,n){return(t=oK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oK(e){var t=sK(e,"string");return typeof t=="symbol"?t:t+""}function sK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lK(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function uK(e){return e.index!=null}var ck=(e,t,n,r)=>{if(t==null)return pa;var i=lK(e,t,n);if(i==null)return pa;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(uK(i)){if(o)return Bf(Bf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Bf(Bf({},pa),{},{coordinate:i.coordinate})};function cK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function fK(e,t){var n=cK(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function dK(e,t,n){if(n==null||t==null)return!0;var r=ot(e,t);return r==null||!ya(n)?!0:fK(r,n)}var x_=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!dt(o))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(l,Math.min(o,u)),d=t[f];return d==null||dK(d,n,r)?String(f):null},fk=(e,t,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var f=l[0],d=f==null?void 0:u(f.positions,o);if(d!=null)return d;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},dk=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Qu=e=>e.options.tooltipPayloadSearcher,Vs=e=>e.tooltip;function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(r){hK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hK(e,t,n){return(t=pK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vK(e,t){return e??t}var hk=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,m=[];return e.reduce((g,_)=>{var S,{dataDefinedOnItem:E,settings:T}=_,C=vK(E,u),O=Array.isArray(C)?YM(C,d,h):C,R=(S=T==null?void 0:T.dataKey)!==null&&S!==void 0?S:r,I=T==null?void 0:T.nameKey,M;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?M=JH(O,r,i):M=o(O,t,f,I),Array.isArray(M))M.forEach(k=>{var H=oR(oR({},T),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});g.push(lC({tooltipEntrySettings:H,dataKey:k.dataKey,payload:k.payload,value:ot(k.payload,k.dataKey),name:k.name}))});else{var N;g.push(lC({tooltipEntrySettings:T,dataKey:R,payload:M,value:ot(M,R),name:(N=ot(M,I))!==null&&N!==void 0?N:T==null?void 0:T.name}))}return g},m)}},C_=V([zt,He,DD,Xb,qt],FD),gK=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),yK=V([qt,Hs],a_),Fs=V([gK,zt,yK],s_,{memoizeOptions:{resultEqualityCheck:Hh}}),bK=V([Fs],e=>e.filter(zh)),_K=V([Fs],l_,{memoizeOptions:{resultEqualityCheck:Hh}}),Ks=V([_K,Ni],u_),wK=V([bK,Ni,zt],ID),R_=V([Ks,zt,Fs],f_),pk=V([zt],d_),SK=V([zt],e=>e.allowDataOverflow),mk=V([pk,SK],lD),EK=V([Fs],e=>e.filter(zh)),TK=V([wK,EK,Fu,TD],BD),AK=V([TK,Ni,qt,mk],qD),xK=V([Fs],UD),CK=V([Ks,zt,xK,jh,qt],m_,{memoizeOptions:{resultEqualityCheck:$h}}),RK=V([zD,qt,Hs],Gs),OK=V([RK,qt],GD),PK=V([$D,qt,Hs],Gs),IK=V([PK,qt],jD),MK=V([HD,qt,Hs],Gs),NK=V([MK,qt],VD),DK=V([OK,NK,IK],qd),kK=V([zt,pk,mk,AK,CK,DK,He,qt],v_),Zu=V([zt,He,Ks,R_,Fu,qt,kK],g_),UK=V([Zu,zt,C_],__),LK=V([zt,Zu,UK,qt],S_),vk=e=>{var t=qt(e),n=Hs(e),r=!1;return Xu(e,t,n,r)},gk=V([zt,vk],Bh),yk=V([zt,C_,LK,gk],b_),BK=V([He,R_,zt,qt],ZD),qK=V([He,R_,zt,qt],ek),zK=(e,t,n,r,i,o,l,u)=>{if(t){var{type:f}=t,d=mo(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Kt(i[0]-i[1])*2*m:m,d&&l?l.map((g,_)=>({coordinate:r(g)+m,value:g,index:_,offset:m})):r.domain().map((g,_)=>({coordinate:r(g)+m,value:o?o[g]:g,index:_,offset:m}))}}},Ui=V([He,zt,C_,yk,vk,BK,qK,qt],zK),O_=V([nk,rk,J5],(e,t,n)=>ik(n.shared,e,t)),bk=e=>e.tooltip.settings.trigger,P_=e=>e.tooltip.settings.defaultIndex,ec=V([Vs,O_,bk,P_],ck),fo=V([ec,Ks,Wu,Zu],x_),_k=V([Ui,fo],ak),I_=V([ec],e=>{if(e)return e.dataKey}),$K=V([ec],e=>{if(e)return e.graphicalItemId}),wk=V([Vs,O_,bk,P_],dk),HK=V([Pi,Ii,He,Lt,Ui,P_,wk,Qu],fk),GK=V([ec,HK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),jK=V([ec],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),VK=V([wk,fo,Ni,Wu,_k,Qu,O_],hk);V([VK],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function sR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(n),!0).forEach(function(r){FK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FK(e,t,n){return(t=KK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JK=()=>ge(zt),WK=()=>{var e=JK(),t=ge(Ui),n=ge(yk);return yd(!e||!n?void 0:lR(lR({},e),{},{scale:n}),t)};function uR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(n),!0).forEach(function(r){XK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XK(e,t,n){return(t=QK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eY=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},tY=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:l}=r;return ds(ds(ds({},r),It(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:f}=r;return ds(ds(ds({},r),It(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function nY(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var Sk=(e,t,n,r,i)=>{var o,l=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f,d,h,m,g,_=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(d=n[l-1])===null||d===void 0?void 0:d.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,E=u>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(g=n[u+1])===null||g===void 0?void 0:g.coordinate,T=void 0;if(!(_==null||S==null||E==null))if(Kt(S-_)!==Kt(E-S)){var C=[];if(Kt(E-S)===Kt(i[1]-i[0])){T=E;var O=S+i[1]-i[0];C[0]=Math.min(O,(O+_)/2),C[1]=Math.max(O,(O+_)/2)}else{T=_;var R=E+i[1]-i[0];C[0]=Math.min(S,(R+S)/2),C[1]=Math.max(S,(R+S)/2)}var I=[Math.min(S,(T+S)/2),Math.max(S,(T+S)/2)];if(e>I[0]&&e<=I[1]||e>=C[0]&&e<=C[1]){var M;return(M=n[u])===null||M===void 0?void 0:M.index}}else{var N=Math.min(_,E),k=Math.max(_,E);if(e>(N+S)/2&&e<=(k+S)/2){var H;return(H=n[u])===null||H===void 0?void 0:H.index}}}else if(t)for(var q=0;q<l;q++){var ne=t[q];if(ne!=null){var J=t[q+1],ee=t[q-1];if(q===0&&J!=null&&e<=(ne.coordinate+J.coordinate)/2||q===l-1&&ee!=null&&e>(ne.coordinate+ee.coordinate)/2||q>0&&q<l-1&&ee!=null&&J!=null&&e>(ne.coordinate+ee.coordinate)/2&&e<=(ne.coordinate+J.coordinate)/2)return ne.index}}return-1},rY=()=>ge(Xb),M_=(e,t)=>t,Ek=(e,t,n)=>n,N_=(e,t,n,r)=>r,iY=V(Ui,e=>uh(e,t=>t.coordinate)),D_=V([Vs,M_,Ek,N_],ck),k_=V([D_,Ks,Wu,Zu],x_),aY=(e,t,n)=>{if(t!=null){var r=Vs(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Tk=V([Vs,M_,Ek,N_],dk),zd=V([Pi,Ii,He,Lt,Ui,N_,Tk,Qu],fk),oY=V([D_,zd],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Ak=V([Ui,k_],ak),sY=V([Tk,k_,Ni,Wu,Ak,Qu,M_],hk),lY=V([D_,k_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),uY=(e,t,n,r,i,o,l)=>{if(!(!e||!n||!r||!i)&&nY(e,l)){var u=P3(e,t),f=Sk(u,o,i,n,r),d=eY(t,i,f,e);return{activeIndex:String(f),activeCoordinate:d}}},cY=(e,t,n,r,i,o,l)=>{if(!(!e||!r||!i||!o||!n)){var u=KV(e,n);if(u){var f=I3(u,t),d=Sk(f,l,o,r,i),h=tY(t,o,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},fY=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?uY(e,t,r,i,o,l,u):cY(e,t,n,r,i,o,l)},dY=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),hY=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(un)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:W6}});function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(n),!0).forEach(function(r){pY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pY(e,t,n){return(t=mY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gY={},yY={zIndexMap:Object.values(un).reduce((e,t)=>fR(fR({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),gY)},bY=new Set(Object.values(un));function _Y(e){return bY.has(e)}var xk=In({name:"zIndex",initialState:yY,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:lt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!_Y(n)&&delete e.zIndexMap[n])},prepare:lt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:lt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:lt()}}}),{registerZIndexPortal:wY,unregisterZIndexPortal:SY,registerZIndexPortalElement:EY,unregisterZIndexPortalElement:TY}=xk.actions,AY=xk.reducer;function Dr(e){var{zIndex:t,children:n}=e,r=l4(),i=r&&t!==void 0&&t!==0,o=Mn(),l=nt();x.useLayoutEffect(()=>i?(l(wY({zIndex:t})),()=>{l(SY({zIndex:t}))}):Du,[l,t,i]);var u=ge(f=>dY(f,t,o));return i?u?tb.createPortal(n,u):null:n}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(r){xY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xY(e,t,n){return(t=CY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OY(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(n,r)}function PY(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:d,chartName:h}=e,m=n,g=r,_=i;if(!f||!m||h!=="ScatterChart"&&d!=="axis")return null;var S,E,T;if(h==="ScatterChart")S=m,E=sV,T=un.cursorLine;else if(h==="BarChart")S=lV(u,m,o,l),E=wN,T=un.cursorRectangle;else if(u==="radial"&&rM(m)){var{cx:C,cy:O,radius:R,startAngle:I,endAngle:M}=EN(m);S={cx:C,cy:O,startAngle:I,endAngle:M,innerRadius:R,outerRadius:R},E=AN,T=un.cursorLine}else S={points:XV(u,m,o)},E=Ab,T=un.cursorLine;var N=typeof f=="object"&&"className"in f?f.className:void 0,k=qf(qf(qf(qf({stroke:"#ccc",pointerEvents:"none"},o),S),vu(f)),{},{payload:g,payloadIndex:_,className:Ke("recharts-tooltip-cursor",N)});return x.createElement(Dr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},x.createElement(OY,{cursor:f,cursorComp:E,cursorProps:k}))}function IY(e){var t=WK(),n=iN(),r=zu(),i=rY();return t==null||n==null||r==null||i==null?null:x.createElement(PY,S0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Ck=x.createContext(null),MY=()=>x.useContext(Ck),ey={exports:{}},hR;function NY(){return hR||(hR=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,m||f,g),S=n?n+d:d;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],_]:f._events[S].push(_):(f._events[S]=_,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,_=m.length,S=new Array(_);g<_;g++)S[g]=m[g].fn;return S},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,g,_,S){var E=n?n+d:d;if(!this._events[E])return!1;var T=this._events[E],C=arguments.length,O,R;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,m),!0;case 4:return T.fn.call(T.context,h,m,g),!0;case 5:return T.fn.call(T.context,h,m,g,_),!0;case 6:return T.fn.call(T.context,h,m,g,_,S),!0}for(R=1,O=new Array(C-1);R<C;R++)O[R-1]=arguments[R];T.fn.apply(T.context,O)}else{var I=T.length,M;for(R=0;R<I;R++)switch(T[R].once&&this.removeListener(d,T[R].fn,void 0,!0),C){case 1:T[R].fn.call(T[R].context);break;case 2:T[R].fn.call(T[R].context,h);break;case 3:T[R].fn.call(T[R].context,h,m);break;case 4:T[R].fn.call(T[R].context,h,m,g);break;default:if(!O)for(M=1,O=new Array(C-1);M<C;M++)O[M-1]=arguments[M];T[R].fn.apply(T[R].context,O)}}return!0},u.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,g){var _=n?n+d:d;if(!this._events[_])return this;if(!h)return l(this,_),this;var S=this._events[_];if(S.fn)S.fn===h&&(!g||S.once)&&(!m||S.context===m)&&l(this,_);else{for(var E=0,T=[],C=S.length;E<C;E++)(S[E].fn!==h||g&&!S[E].once||m&&S[E].context!==m)&&T.push(S[E]);T.length?this._events[_]=T.length===1?T[0]:T:l(this,_)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(ey)),ey.exports}var DY=NY();const kY=Fr(DY);var Pu=new kY,E0="recharts.syncEvent.tooltip",pR="recharts.syncEvent.brush";function Rk(e,t){if(t){var n=Number.parseInt(t,10);if(!Ir(n))return e==null?void 0:e[n]}}var UY={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Ok=In({name:"options",initialState:UY,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),LY=Ok.reducer,{createEventEmitter:BY}=Ok.actions;function qY(e){return e.tooltip.syncInteraction}var zY={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Pk=In({name:"chartData",initialState:zY,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:mR,setDataStartEndIndexes:$Y,setComputedData:Ese}=Pk.actions,HY=Pk.reducer,GY=["x","y"];function vR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(n),!0).forEach(function(r){jY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jY(e,t,n){return(t=VY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=FY(e,"string");return typeof t=="symbol"?t:t+""}function FY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KY(e,t){if(e==null)return{};var n,r,i=YY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JY(){var e=ge(Qb),t=ge(Zb),n=nt(),r=ge(AD),i=ge(Ui),o=zu(),l=Eh(),u=ge(f=>f.rootProps.className);x.useEffect(()=>{if(e==null)return Du;var f=(d,h,m)=>{if(t!==m&&e===d){if(r==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var _=h.payload.coordinate,{x:S,y:E}=_,T=KY(_,GY),{x:C,y:O,width:R,height:I}=h.payload.sourceViewBox,M=hs(hs({},T),{},{x:l.x+(R?(S-C)/R:0)*l.width,y:l.y+(I?(E-O)/I:0)*l.height});n(hs(hs({},h),{},{payload:hs(hs({},h.payload),{},{coordinate:M})}))}else n(h);return}if(i!=null){var N;if(typeof r=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},H=r(i,k);N=i[H]}else r==="value"&&(N=i.find($=>String($.value)===h.payload.label));var{coordinate:q}=h.payload;if(N==null||h.payload.active===!1||q==null||l==null){n(_0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ne,y:J}=q,ee=Math.min(ne,l.x+l.width),oe=Math.min(J,l.y+l.height),fe={x:o==="horizontal"?N.coordinate:ee,y:o==="horizontal"?oe:N.coordinate},me=_0({active:h.payload.active,coordinate:fe,dataKey:h.payload.dataKey,index:String(N.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(me)}}};return Pu.on(E0,f),()=>{Pu.off(E0,f)}},[u,n,t,e,r,i,o,l])}function WY(){var e=ge(Qb),t=ge(Zb),n=nt();x.useEffect(()=>{if(e==null)return Du;var r=(i,o,l)=>{t!==l&&e===i&&n($Y(o))};return Pu.on(pR,r),()=>{Pu.off(pR,r)}},[n,t,e])}function XY(){var e=nt();x.useEffect(()=>{e(BY())},[e]),JY(),WY()}function QY(e,t,n,r,i,o){var l=ge(_=>aY(_,e,t)),u=ge(Zb),f=ge(Qb),d=ge(AD),h=ge(qY),m=h==null?void 0:h.active,g=Eh();x.useEffect(()=>{if(!m&&f!=null&&u!=null){var _=_0({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Pu.emit(E0,f,_,u)}},[m,n,l,i,r,u,f,d,o,g])}function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(n),!0).forEach(function(r){ZY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZY(e,t,n){return(t=e9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e9(e){var t=t9(e,"string");return typeof t=="symbol"?t:t+""}function t9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n9(e){return e.dataKey}function r9(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(z4,t)}var bR=[],i9={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _R(e){var t,n,r=Jt(e,i9),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:f,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:g,position:_,reverseDirection:S,useTranslate3d:E,wrapperStyle:T,cursor:C,shared:O,trigger:R,defaultIndex:I,portal:M,axisId:N}=r,k=nt(),H=typeof I=="number"?String(I):I;x.useEffect(()=>{k(eK({shared:O,trigger:R,axisId:N,active:i,defaultIndex:H}))},[k,O,R,N,i,H]);var q=Eh(),ne=vN(),J=Y5(O),{activeIndex:ee,isActive:oe}=(t=ge(Te=>lY(Te,J,R,H)))!==null&&t!==void 0?t:{},fe=ge(Te=>sY(Te,J,R,H)),me=ge(Te=>Ak(Te,J,R,H)),$=ge(Te=>oY(Te,J,R,H)),Z=fe,se=MY(),W=(n=i??oe)!==null&&n!==void 0?n:!1,[ue,D]=yM([Z,W]),K=J==="axis"?me:void 0;QY(J,R,$,K,ee,W);var ie=M??se;if(ie==null||q==null||J==null)return null;var le=Z??bR;W||(le=bR),d&&le.length&&(le=hM(le.filter(Te=>Te.value!=null&&(Te.hide!==!0||r.includeHidden)),g,n9));var _e=le.length>0,Ae=x.createElement(K4,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:h,active:W,coordinate:$,hasPayload:_e,offset:m,position:_,reverseDirection:S,useTranslate3d:E,viewBox:q,wrapperStyle:T,lastBoundingBox:ue,innerRef:D,hasPortalFromProps:!!M},r9(f,yR(yR({},r),{},{payload:le,label:K,active:W,activeIndex:ee,coordinate:$,accessibilityLayer:ne})));return x.createElement(x.Fragment,null,tb.createPortal(Ae,ie),W&&x.createElement(IY,{cursor:C,tooltipEventType:J,coordinate:$,payload:le,index:ee}))}var tc=e=>null;tc.displayName="Cell";function a9(e,t,n){return(t=o9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9(e){var t=s9(e,"string");return typeof t=="symbol"?t:t+""}function s9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class l9{constructor(t){a9(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function wR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(n),!0).forEach(function(r){c9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c9(e,t,n){return(t=f9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f9(e){var t=d9(e,"string");return typeof t=="symbol"?t:t+""}function d9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h9={cacheSize:2e3,enableCache:!0},Ik=u9({},h9),SR=new l9(Ik.cacheSize),p9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ER="recharts_measurement_span";function m9(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var TR=(e,t)=>{try{var n=document.getElementById(ER);n||(n=document.createElement("span"),n.setAttribute("id",ER),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,p9,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},lu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rh.isSsr)return{width:0,height:0};if(!Ik.enableCache)return TR(t,n);var r=m9(t,n),i=SR.get(r);if(i)return i;var o=TR(t,n);return SR.set(r,o),o},Mk;function v9(e,t,n){return(t=g9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g9(e){var t=y9(e,"string");return typeof t=="symbol"?t:t+""}function y9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,b9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,w9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},S9=["cm","mm","pt","pc","in","Q","px"];function E9(e){return S9.includes(e)}var ws="NaN";function T9(e,t){return e*w9[t]}class ln{static parse(t){var n,[,r,i]=(n=_9.exec(t))!==null&&n!==void 0?n:[];return r==null?ln.NaN:new ln(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ir(t)&&(this.unit=""),n!==""&&!b9.test(n)&&(this.num=NaN,this.unit=""),E9(n)&&(this.num=T9(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ln(NaN,""):new ln(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ln(NaN,""):new ln(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ln(NaN,""):new ln(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ln(NaN,""):new ln(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ir(this.num)}}Mk=ln;v9(ln,"NaN",new Mk(NaN,""));function Nk(e){if(e==null||e.includes(ws))return ws;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=AR.exec(t))!==null&&n!==void 0?n:[],l=ln.parse(r??""),u=ln.parse(o??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return ws;t=t.replace(AR,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,g]=(d=xR.exec(t))!==null&&d!==void 0?d:[],_=ln.parse(h??""),S=ln.parse(g??""),E=m==="+"?_.add(S):_.subtract(S);if(E.isNaN())return ws;t=t.replace(xR,E.toString())}return t}var CR=/\(([^()]*)\)/;function A9(e){for(var t=e,n;(n=CR.exec(t))!=null;){var[,r]=n;t=t.replace(CR,Nk(r))}return t}function x9(e){var t=e.replace(/\s+/g,"");return t=A9(t),t=Nk(t),t}function C9(e){try{return x9(e)}catch{return ws}}function ty(e){var t=C9(e.slice(5,-1));return t===ws?"":t}var R9=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],O9=["dx","dy","angle","className","breakAll"];function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(null,arguments)}function RR(e,t){if(e==null)return{};var n,r,i=P9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Dk=/[ \f\n\r\t\v\u2028\u2029]+/,kk=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Yt(t)||(n?i=t.toString().split(""):i=t.toString().split(Dk));var o=i.map(u=>({word:u,width:lu(u,r).width})),l=n?0:lu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function I9(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Uk=(e,t,n,r)=>e.reduce((i,o)=>{var{word:l,width:u}=o,f=i[i.length-1];if(f&&u!=null&&(t==null||r||f.width+u+n<Number(t)))f.words.push(l),f.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),Lk=e=>e.reduce((t,n)=>t.width>n.width?t:n),M9="",OR=(e,t,n,r,i,o,l,u)=>{var f=e.slice(0,t),d=kk({breakAll:n,style:r,children:f+M9});if(!d)return[!1,[]];var h=Uk(d.wordsWithComputedWidth,o,l,u),m=h.length>i||Lk(h).width>Number(o);return[m,h]},N9=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:f}=e,d=pe(o),h=String(l),m=Uk(t,r,n,i);if(!d||i)return m;var g=m.length>o||Lk(m).width>Number(r);if(!g)return m;for(var _=0,S=h.length-1,E=0,T;_<=S&&E<=h.length-1;){var C=Math.floor((_+S)/2),O=C-1,[R,I]=OR(h,O,f,u,o,r,n,i),[M]=OR(h,C,f,u,o,r,n,i);if(!R&&!M&&(_=C+1),R&&M&&(S=C-1),!R&&M){T=I;break}E++}return T||m},PR=e=>{var t=Yt(e)?[]:e.toString().split(Dk);return[{words:t,width:void 0}]},D9=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!Rh.isSsr){var u,f,d=kk({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,f=m}else return PR(r);return N9({breakAll:o,children:r,maxLines:l,style:i},u,f,t,!!n)}return PR(r)},Bk="#808080",k9={angle:0,breakAll:!1,capHeight:"0.71em",fill:Bk,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Yh=x.forwardRef((e,t)=>{var n=Jt(e,k9),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:f,textAnchor:d,verticalAnchor:h}=n,m=RR(n,R9),g=x.useMemo(()=>D9({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),{dx:_,dy:S,angle:E,className:T,breakAll:C}=m,O=RR(m,O9);if(!Gr(r)||!Gr(i)||g.length===0)return null;var R=Number(r)+(pe(_)?_:0),I=Number(i)+(pe(S)?S:0);if(!dt(R)||!dt(I))return null;var M;switch(h){case"start":M=ty("calc(".concat(l,")"));break;case"middle":M=ty("calc(".concat((g.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:M=ty("calc(".concat(g.length-1," * -").concat(o,")"));break}var N=[];if(f){var k=g[0].width,{width:H}=m;N.push("scale(".concat(pe(H)&&pe(k)?H/k:1,")"))}return E&&N.push("rotate(".concat(E,", ").concat(R,", ").concat(I,")")),N.length&&(O.transform=N.join(" ")),x.createElement("text",T0({},hr(O),{ref:t,x:R,y:I,className:Ke("recharts-text",T),textAnchor:d,fill:u.includes("url")?Bk:u}),g.map((q,ne)=>{var J=q.words.join(C?"":" ");return x.createElement("tspan",{x:R,dy:ne===0?M:o,key:"".concat(J,"-").concat(ne)},J)}))});Yh.displayName="Text";var U9=["labelRef"],L9=["content"];function IR(e,t){if(e==null)return{};var n,r,i=B9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(r){q9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q9(e,t,n){return(t=z9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z9(e){var t=$9(e,"string");return typeof t=="symbol"?t:t+""}function $9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vi.apply(null,arguments)}var qk=x.createContext(null),H9=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=e,f=x.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[t,n,r,i,o,l]);return x.createElement(qk.Provider,{value:f},u)},zk=()=>{var e=x.useContext(qk),t=Eh();return e||rN(t)},G9=x.createContext(null),j9=()=>{var e=x.useContext(G9),t=ge(PD);return e||t},V9=e=>{var{value:t,formatter:n}=e,r=Yt(e.children)?t:e.children;return typeof n=="function"?n(r):r},U_=e=>e!=null&&typeof e=="function",F9=(e,t)=>{var n=Kt(t-e),r=Math.min(Math.abs(t-e),360);return n*r},K9=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:f,innerRadius:d,outerRadius:h,startAngle:m,endAngle:g,clockWise:_}=i,S=(d+h)/2,E=F9(m,g),T=E>=0?1:-1,C,O;switch(t){case"insideStart":C=m+T*o,O=_;break;case"insideEnd":C=g-T*o,O=!_;break;case"end":C=g+T*o,O=_;break;default:throw new Error("Unsupported position ".concat(t))}O=E<=0?O:!O;var R=It(u,f,S,C),I=It(u,f,S,C+(O?1:-1)*359),M="M".concat(R.x,",").concat(R.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(O?0:1,`,
    `).concat(I.x,",").concat(I.y),N=Yt(e.id)?gu("recharts-radial-line-"):e.id;return x.createElement("text",vi({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:N,d:M})),x.createElement("textPath",{xlinkHref:"#".concat(N)},n))},Y9=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:f}=e,d=(u+f)/2;if(n==="outside"){var{x:h,y:m}=It(r,i,l+t,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(o+l)/2,{x:_,y:S}=It(r,i,g,d);return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},A0=e=>"cx"in e&&pe(e.cx),J9=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!A0(n)&&(o=n);var{x:l,y:u,upperWidth:f,lowerWidth:d,height:h}=t,m=l,g=l+(f-d)/2,_=(m+g)/2,S=(f+d)/2,E=m+f/2,T=h>=0?1:-1,C=T*r,O=T>0?"end":"start",R=T>0?"start":"end",I=f>=0?1:-1,M=I*r,N=I>0?"end":"start",k=I>0?"start":"end";if(i==="top"){var H={x:m+f/2,y:u-C,textAnchor:"middle",verticalAnchor:O};return St(St({},H),o?{height:Math.max(u-o.y,0),width:f}:{})}if(i==="bottom"){var q={x:g+d/2,y:u+h+C,textAnchor:"middle",verticalAnchor:R};return St(St({},q),o?{height:Math.max(o.y+o.height-(u+h),0),width:d}:{})}if(i==="left"){var ne={x:_-M,y:u+h/2,textAnchor:N,verticalAnchor:"middle"};return St(St({},ne),o?{width:Math.max(ne.x-o.x,0),height:h}:{})}if(i==="right"){var J={x:_+S+M,y:u+h/2,textAnchor:k,verticalAnchor:"middle"};return St(St({},J),o?{width:Math.max(o.x+o.width-J.x,0),height:h}:{})}var ee=o?{width:S,height:h}:{};return i==="insideLeft"?St({x:_+M,y:u+h/2,textAnchor:k,verticalAnchor:"middle"},ee):i==="insideRight"?St({x:_+S-M,y:u+h/2,textAnchor:N,verticalAnchor:"middle"},ee):i==="insideTop"?St({x:m+f/2,y:u+C,textAnchor:"middle",verticalAnchor:R},ee):i==="insideBottom"?St({x:g+d/2,y:u+h-C,textAnchor:"middle",verticalAnchor:O},ee):i==="insideTopLeft"?St({x:m+M,y:u+C,textAnchor:k,verticalAnchor:R},ee):i==="insideTopRight"?St({x:m+f-M,y:u+C,textAnchor:N,verticalAnchor:R},ee):i==="insideBottomLeft"?St({x:g+M,y:u+h-C,textAnchor:k,verticalAnchor:O},ee):i==="insideBottomRight"?St({x:g+d-M,y:u+h-C,textAnchor:N,verticalAnchor:O},ee):i&&typeof i=="object"&&(pe(i.x)||wi(i.x))&&(pe(i.y)||wi(i.y))?St({x:l+mn(i.x,S),y:u+mn(i.y,h),textAnchor:"end",verticalAnchor:"end"},ee):St({x:E,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},ee)},W9={angle:0,offset:5,zIndex:un.label,position:"middle",textBreakAll:!1};function da(e){var t=Jt(e,W9),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:f,labelRef:d}=t,h=j9(),m=zk(),g=r==="center"?m:h??m,_,S,E;if(n==null?_=g:A0(n)?_=n:_=rN(n),!_||Yt(i)&&Yt(o)&&!x.isValidElement(l)&&typeof l!="function")return null;var T=St(St({},t),{},{viewBox:_});if(x.isValidElement(l)){var{labelRef:C}=T,O=IR(T,U9);return x.cloneElement(l,O)}if(typeof l=="function"){var{content:R}=T,I=IR(T,L9);if(S=x.createElement(l,I),x.isValidElement(S))return S}else S=V9(t);var M=hr(t);if(A0(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return K9(t,r,S,M,_);E=Y9(_,t.offset,t.position)}else E=J9(t,_);return x.createElement(Dr,{zIndex:t.zIndex},x.createElement(Yh,vi({ref:d,className:Ke("recharts-label",u)},M,E,{textAnchor:I9(M.textAnchor)?M.textAnchor:E.textAnchor,breakAll:f}),S))}da.displayName="Label";var X9=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(da,vi({key:"label-implicit"},r)):Gr(e)?x.createElement(da,vi({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===da?x.cloneElement(e,St({key:"label-implicit"},r)):x.createElement(da,vi({key:"label-implicit",content:e},r)):U_(e)?x.createElement(da,vi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(da,vi({},e,{key:"label-implicit"},r)):null};function Q9(e){var{label:t,labelRef:n}=e,r=zk();return X9(t,r,n)||null}var ny={},ry={},NR;function Z9(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(ry)),ry}var iy={},DR;function eJ(){return DR||(DR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(iy)),iy}var kR;function tJ(){return kR||(kR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z9(),n=eJ(),r=ub();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(ny)),ny}var ay,UR;function nJ(){return UR||(UR=1,ay=tJ().last),ay}var rJ=nJ();const iJ=Fr(rJ);var aJ=["valueAccessor"],oJ=["dataKey","clockWise","id","textBreakAll","zIndex"];function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$d.apply(null,arguments)}function LR(e,t){if(e==null)return{};var n,r,i=sJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lJ=e=>Array.isArray(e.value)?iJ(e.value):e.value,$k=x.createContext(void 0),uJ=$k.Provider,Hk=x.createContext(void 0),cJ=Hk.Provider;function fJ(){return x.useContext($k)}function dJ(){return x.useContext(Hk)}function Qf(e){var{valueAccessor:t=lJ}=e,n=LR(e,aJ),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,f=LR(n,oJ),d=fJ(),h=dJ(),m=d||h;return!m||!m.length?null:x.createElement(Dr,{zIndex:u??un.label},x.createElement(_n,{className:"recharts-label-list"},m.map((g,_)=>{var S,E=Yt(r)?t(g,_):ot(g&&g.payload,r),T=Yt(o)?{}:{id:"".concat(o,"-").concat(_)};return x.createElement(da,$d({key:"label-".concat(_)},hr(g),f,T,{fill:(S=n.fill)!==null&&S!==void 0?S:g.fill,parentViewBox:g.parentViewBox,value:E,textBreakAll:l,viewBox:g.viewBox,index:_,zIndex:0}))})))}Qf.displayName="LabelList";function Gk(e){var{label:t}=e;return t?t===!0?x.createElement(Qf,{key:"labelList-implicit"}):x.isValidElement(t)||U_(t)?x.createElement(Qf,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Qf,$d({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var jk=e=>e.graphicalItems.polarItems,hJ=V([ct,Ku],a_),Jh=V([jk,ht,hJ],s_),pJ=V([Jh],l_),Wh=V([pJ,Lh],u_),mJ=V([Wh,ht,Jh],f_);V([Wh,ht,Jh],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,l=ot(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ot(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var BR=()=>{},vJ=V([Wh,ht,Jh,jh,ct],m_),gJ=V([ht,h_,p_,BR,vJ,BR,He,ct],v_),Vk=V([ht,He,Wh,mJ,Fu,ct,gJ],g_),yJ=V([Vk,ht,js],__);V([ht,Vk,yJ,ct],S_);var bJ={radiusAxis:{},angleAxis:{}},Fk=In({name:"polarAxis",initialState:bJ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Tse,removeRadiusAxis:Ase,addAngleAxis:xse,removeAngleAxis:Cse}=Fk.actions,_J=Fk.reducer;function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){wJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wJ(e,t,n){return(t=SJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SJ(e){var t=EJ(e,"string");return typeof t=="symbol"?t:t+""}function EJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TJ=(e,t)=>t,L_=V([jk,TJ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),AJ=[],B_=(e,t,n)=>(n==null?void 0:n.length)===0?AJ:n,Kk=V([Lh,L_,B_],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>zR(zR({},t.presentationProps),o.props))),i!=null)return i}}),xJ=V([Kk,L_,B_],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,l=ot(r,t.nameKey,t.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:yh(l,t.dataKey),color:u,payload:r,type:t.legendType}})}),CJ=V([Kk,L_,B_,Lt],(e,t,n,r)=>{if(!(t==null||e==null))return IW({offset:r,pieSettings:t,displayedData:e,cells:n})}),oy={exports:{}},Xe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R;function RJ(){if($R)return Xe;$R=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case e:switch(E=E.type,E){case n:case i:case r:case f:case d:case g:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case m:case h:return E;case o:return E;default:return T}}case t:return T}}}return Xe.ContextConsumer=o,Xe.ContextProvider=l,Xe.Element=e,Xe.ForwardRef=u,Xe.Fragment=n,Xe.Lazy=m,Xe.Memo=h,Xe.Portal=t,Xe.Profiler=i,Xe.StrictMode=r,Xe.Suspense=f,Xe.SuspenseList=d,Xe.isContextConsumer=function(E){return S(E)===o},Xe.isContextProvider=function(E){return S(E)===l},Xe.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},Xe.isForwardRef=function(E){return S(E)===u},Xe.isFragment=function(E){return S(E)===n},Xe.isLazy=function(E){return S(E)===m},Xe.isMemo=function(E){return S(E)===h},Xe.isPortal=function(E){return S(E)===t},Xe.isProfiler=function(E){return S(E)===i},Xe.isStrictMode=function(E){return S(E)===r},Xe.isSuspense=function(E){return S(E)===f},Xe.isSuspenseList=function(E){return S(E)===d},Xe.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===h||E.$$typeof===l||E.$$typeof===o||E.$$typeof===u||E.$$typeof===_||E.getModuleId!==void 0)},Xe.typeOf=S,Xe}var HR;function OJ(){return HR||(HR=1,oy.exports=RJ()),oy.exports}var PJ=OJ(),GR=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",jR=null,sy=null,Yk=e=>{if(e===jR&&Array.isArray(sy))return sy;var t=[];return x.Children.forEach(e,n=>{Yt(n)||(PJ.isFragment(n)?t=t.concat(Yk(n.props.children)):t.push(n))}),sy=t,jR=e,t};function q_(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>GR(i)):r=[GR(t)],Yk(e).forEach(i=>{var o=so(i,"type.displayName")||so(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var ly={},VR;function IJ(){return VR||(VR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(ly)),ly}var uy,FR;function MJ(){return FR||(FR=1,uy=IJ().isPlainObject),uy}var NJ=MJ();const DJ=Fr(NJ);var KR,YR,JR,WR,XR;function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(r){kJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=LJ(e,"string");return typeof t=="symbol"?t:t+""}function LJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hd.apply(null,arguments)}function Ql(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var eO=(e,t,n,r,i)=>{var o=n-r,l;return l=yt(KR||(KR=Ql(["M ",",",""])),e,t),l+=yt(YR||(YR=Ql(["L ",",",""])),e+n,t),l+=yt(JR||(JR=Ql(["L ",",",""])),e+n-o/2,t+i),l+=yt(WR||(WR=Ql(["L ",",",""])),e+n-o/2-r,t+i),l+=yt(XR||(XR=Ql(["L ",","," Z"])),e,t),l},BJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qJ=e=>{var t=Jt(e,BJ),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=t,{animationEasing:f,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,g=x.useRef(null),[_,S]=x.useState(-1),E=x.useRef(i),T=x.useRef(o),C=x.useRef(l),O=x.useRef(n),R=x.useRef(r),I=Ph(e,"trapezoid-");if(x.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var fe=g.current.getTotalLength();fe&&S(fe)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var M=Ke("recharts-trapezoid",u);if(!m)return x.createElement("g",null,x.createElement("path",Hd({},hr(t),{className:M,d:eO(n,r,i,o,l)})));var N=E.current,k=T.current,H=C.current,q=O.current,ne=R.current,J="0px ".concat(_===-1?1:_,"px"),ee="".concat(_,"px 0px"),oe=gN(["strokeDasharray"],d,f);return x.createElement(Oh,{animationId:I,key:I,canBegin:_>0,duration:d,easing:f,isActive:m,begin:h},fe=>{var me=kt(N,i,fe),$=kt(k,o,fe),Z=kt(H,l,fe),se=kt(q,n,fe),W=kt(ne,r,fe);g.current&&(E.current=me,T.current=$,C.current=Z,O.current=se,R.current=W);var ue=fe>0?{transition:oe,strokeDasharray:ee}:{strokeDasharray:J};return x.createElement("path",Hd({},hr(t),{className:M,d:eO(se,W,me,$,Z),ref:g,style:ZR(ZR({},ue),t.style)}))})},zJ=["option","shapeType","activeClassName"];function $J(e,t){if(e==null)return{};var n,r,i=HJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(n),!0).forEach(function(r){GJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GJ(e,t,n){return(t=jJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jJ(e){var t=VJ(e,"string");return typeof t=="symbol"?t:t+""}function VJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FJ(e,t){return Gd(Gd({},t),e)}function KJ(e,t){return e==="symbols"}function nO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(wN,n);case"trapezoid":return x.createElement(qJ,n);case"sector":return x.createElement(AN,n);case"symbols":if(KJ(t))return x.createElement(lb,n);break;case"curve":return x.createElement(Ab,n);default:return null}}function YJ(e){return x.isValidElement(e)?e.props:e}function Jk(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=$J(e,zJ),o;if(x.isValidElement(t))o=x.cloneElement(t,Gd(Gd({},i),YJ(t)));else if(typeof t=="function")o=t(i,i.index);else if(DJ(t)&&typeof t!="boolean"){var l=FJ(t,i);o=x.createElement(nO,{shapeType:n,elementProps:l})}else{var u=i;o=x.createElement(nO,{shapeType:n,elementProps:u})}return i.isActive?x.createElement(_n,{className:r},o):o}var z_=(e,t,n)=>{var r=nt();return(i,o)=>l=>{e==null||e(i,o,l),r(sk({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},$_=e=>{var t=nt();return(n,r)=>i=>{e==null||e(n,r,i),t(tK())}},H_=(e,t,n)=>{var r=nt();return(i,o)=>l=>{e==null||e(i,o,l),r(nK({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Wk(e){var{tooltipEntrySettings:t}=e,n=nt(),r=Mn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(X5(t)):i.current!==t&&n(Q5({prev:i.current,next:t})),i.current=t)},[t,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(Z5(i.current)),i.current=null)},[n]),null}function JJ(e){var{legendPayload:t}=e,n=nt(),r=Mn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(dN(t)):i.current!==t&&n(hN({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(pN(i.current)),i.current=null)},[n]),null}function WJ(e){var{legendPayload:t}=e,n=nt(),r=ge(He),i=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(dN(t)):i.current!==t&&n(hN({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(pN(i.current)),i.current=null)},[n]),null}var cy,XJ=()=>{var[e]=x.useState(()=>gu("uid-"));return e},QJ=(cy=rq.useId)!==null&&cy!==void 0?cy:XJ;function ZJ(e,t){var n=QJ();return t||(e?"".concat(e,"-").concat(n):n)}var eW=x.createContext(void 0),Xk=e=>{var{id:t,type:n,children:r}=e,i=ZJ("recharts-".concat(n),t);return x.createElement(eW.Provider,{value:i},r(i))},tW={cartesianItems:[],polarItems:[]},Qk=In({name:"graphicalItems",initialState:tW,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:lt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Cr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:lt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Cr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:lt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:lt()},removePolarGraphicalItem:{reducer(e,t){var n=Cr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:lt()}}}),{addCartesianGraphicalItem:nW,replaceCartesianGraphicalItem:rW,removeCartesianGraphicalItem:iW,addPolarGraphicalItem:aW,removePolarGraphicalItem:oW}=Qk.actions,sW=Qk.reducer,lW=e=>{var t=nt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(nW(e)):n.current!==e&&t(rW({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t(iW(n.current)),n.current=null)},[t]),null},uW=x.memo(lW);function cW(e){var t=nt();return x.useLayoutEffect(()=>(t(aW(e)),()=>{t(oW(e))}),[t,e]),null}var fW=["key"],dW=["onMouseEnter","onClick","onMouseLeave"],hW=["id"],pW=["id"];function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(n),!0).forEach(function(r){mW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mW(e,t,n){return(t=vW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vW(e){var t=gW(e,"string");return typeof t=="symbol"?t:t+""}function gW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ba.apply(null,arguments)}function Xh(e,t){if(e==null)return{};var n,r,i=yW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bW(e){var t=x.useMemo(()=>q_(e.children,tc),[e.children]),n=ge(r=>xJ(r,e.id,t));return n==null?null:x.createElement(WJ,{legendPayload:n})}var _W=x.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:u,hide:f,tooltipType:d,id:h}=e,m={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:t,nameKey:n,name:yh(u,t),hide:f,type:d,color:l,unit:"",graphicalItemId:h}};return x.createElement(Wk,{tooltipEntrySettings:m})}),wW=(e,t)=>e>t?"start":e<t?"end":"middle",SW=(e,t,n)=>mn(typeof t=="function"?t(e):t,n,n*.8),EW=(e,t,n)=>{var{top:r,left:i,width:o,height:l}=t,u=SN(o,l),f=i+mn(e.cx,o,o/2),d=r+mn(e.cy,l,l/2),h=mn(e.innerRadius,u,0),m=SW(n,e.outerRadius,u),g=e.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:f,cy:d,innerRadius:h,outerRadius:m,maxRadius:g}},TW=(e,t)=>{var n=Kt(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function AW(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var xW=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Ke("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=Xh(t,fW);return x.createElement(Ab,ba({},i,{type:"linear",className:n}))},CW=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var i=Ke("recharts-pie-label-text",AW(e));return x.createElement(Yh,ba({},t,{alignmentBaseline:"middle",className:i}),r)};function RW(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!t)return null;var u=Pr(n),f=vu(i),d=vu(o),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,m=t.map((g,_)=>{var S=(g.startAngle+g.endAngle)/2,E=It(g.cx,g.cy,g.outerRadius+h,S),T=bt(bt(bt(bt({},u),g),{},{stroke:"none"},f),{},{index:_,textAnchor:wW(E.x,g.cx)},E),C=bt(bt(bt(bt({},u),g),{},{fill:"none",stroke:g.fill},d),{},{index:_,points:[It(g.cx,g.cy,g.outerRadius,S),E],key:"line"});return x.createElement(Dr,{zIndex:un.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(_)},x.createElement(_n,null,o&&xW(o,C),CW(i,T,ot(g,l))))});return x.createElement(_n,{className:"recharts-pie-labels"},m)}function OW(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(Gk,{label:i}):x.createElement(RW,{sectors:t,props:n,showLabels:r})}function PW(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o,id:l}=e,u=ge(fo),f=ge(I_),d=ge($K),{onMouseEnter:h,onClick:m,onMouseLeave:g}=i,_=Xh(i,dW),S=z_(h,i.dataKey,l),E=$_(g),T=H_(m,i.dataKey,l);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((C,O)=>{if((C==null?void 0:C.startAngle)===0&&(C==null?void 0:C.endAngle)===0&&t.length!==1)return null;var R=d==null||d===l,I=String(O)===u&&(f==null||i.dataKey===f)&&R,M=u?r:null,N=n&&I?n:M,k=bt(bt({},C),{},{stroke:C.stroke,tabIndex:-1,[QM]:O,[ZM]:l});return x.createElement(_n,ba({key:"sector-".concat(C==null?void 0:C.startAngle,"-").concat(C==null?void 0:C.endAngle,"-").concat(C.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},ku(_,C,O),{onMouseEnter:S(C,O),onMouseLeave:E(C,O),onClick:T(C,O)}),x.createElement(Jk,ba({option:o??N,index:O,shapeType:"sector",isActive:I},k)))}))}function IW(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:l,startAngle:u,endAngle:f,dataKey:d,nameKey:h,tooltipType:m}=n,g=Math.abs(n.minAngle),_=TW(u,f),S=Math.abs(_),E=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,T=r.filter(N=>ot(N,d,0)!==0).length,C=(S>=360?T:T-1)*E,O=S-T*g-C,R=r.reduce((N,k)=>{var H=ot(k,d,0);return N+(pe(H)?H:0)},0),I;if(R>0){var M;I=r.map((N,k)=>{var H=ot(N,d,0),q=ot(N,h,k),ne=EW(n,o,N),J=(pe(H)?H:0)/R,ee,oe=bt(bt({},N),i&&i[k]&&i[k].props);k?ee=M.endAngle+Kt(_)*E*(H!==0?1:0):ee=u;var fe=ee+Kt(_)*((H!==0?g:0)+J*O),me=(ee+fe)/2,$=(ne.innerRadius+ne.outerRadius)/2,Z=[{name:q,value:H,payload:oe,dataKey:d,type:m,graphicalItemId:n.id}],se=It(ne.cx,ne.cy,$,me);return M=bt(bt(bt(bt({},n.presentationProps),{},{percent:J,cornerRadius:typeof l=="string"?parseFloat(l):l,name:q,tooltipPayload:Z,midAngle:me,middleRadius:$,tooltipPosition:se},oe),ne),{},{value:H,dataKey:d,startAngle:ee,endAngle:fe,payload:oe,paddingAngle:Kt(_)*E}),M})}return I}function MW(e){var{showLabels:t,sectors:n,children:r}=e,i=x.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return x.createElement(cJ,{value:t?i:void 0},r)}function NW(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:f,activeShape:d,inactiveShape:h,onAnimationStart:m,onAnimationEnd:g}=t,_=Ph(t,"recharts-pie-"),S=n.current,[E,T]=x.useState(!1),C=x.useCallback(()=>{typeof g=="function"&&g(),T(!1)},[g]),O=x.useCallback(()=>{typeof m=="function"&&m(),T(!0)},[m]);return x.createElement(MW,{showLabels:!E,sectors:i},x.createElement(Oh,{animationId:_,begin:l,duration:u,isActive:o,easing:f,onAnimationStart:O,onAnimationEnd:C,key:_},R=>{var I=[],M=i&&i[0],N=M==null?void 0:M.startAngle;return i==null||i.forEach((k,H)=>{var q=S&&S[H],ne=H>0?so(k,"paddingAngle",0):0;if(q){var J=kt(q.endAngle-q.startAngle,k.endAngle-k.startAngle,R),ee=bt(bt({},k),{},{startAngle:N+ne,endAngle:N+J+ne});I.push(ee),N=ee.endAngle}else{var{endAngle:oe,startAngle:fe}=k,me=kt(0,oe-fe,R),$=bt(bt({},k),{},{startAngle:N+ne,endAngle:N+me+ne});I.push($),N=$.endAngle}}),n.current=I,x.createElement(_n,null,x.createElement(PW,{sectors:I,activeShape:d,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:r}))}),x.createElement(OW,{showLabels:!E,sectors:i,props:t}),t.children)}var DW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:un.area};function kW(e){var{id:t}=e,n=Xh(e,hW),{hide:r,className:i,rootTabIndex:o}=e,l=x.useMemo(()=>q_(e.children,tc),[e.children]),u=ge(h=>CJ(h,t,l)),f=x.useRef(null),d=Ke("recharts-pie",i);return r||u==null?(f.current=null,x.createElement(_n,{tabIndex:o,className:d})):x.createElement(Dr,{zIndex:e.zIndex},x.createElement(_W,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),x.createElement(_n,{tabIndex:o,className:d},x.createElement(NW,{props:bt(bt({},n),{},{sectors:u}),previousSectorsRef:f,id:t})))}function Zk(e){var t=Jt(e,DW),{id:n}=t,r=Xh(t,pW),i=Pr(r);return x.createElement(Xk,{id:n,type:"pie"},o=>x.createElement(x.Fragment,null,x.createElement(cW,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),x.createElement(bW,ba({},r,{id:o})),x.createElement(kW,ba({},r,{id:o}))))}Zk.displayName="Pie";function iO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(n),!0).forEach(function(r){UW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UW(e,t,n){return(t=LW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=BW(e,"string");return typeof t=="symbol"?t:t+""}function BW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eU=0,qW={xAxis:{},yAxis:{},zAxis:{}},tU=In({name:"cartesianAxis",initialState:qW,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:lt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:lt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:lt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:lt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:lt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:lt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:lt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:lt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:lt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);e.yAxis[n]=aO(aO({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:zW,replaceXAxis:$W,removeXAxis:HW,addYAxis:GW,replaceYAxis:jW,removeYAxis:VW,addZAxis:Rse,replaceZAxis:Ose,removeZAxis:Pse,updateYAxisWidth:FW}=tU.actions,KW=tU.reducer,YW=V([Lt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),JW=V([YW,Pi,Ii],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),nU=()=>ge(JW),oO=(e,t,n)=>{var r=n??e;if(!Yt(r))return mn(r,t,0)},WW=(e,t,n)=>{var r={},i=e.filter(zh),o=e.filter(d=>d.stackId==null),l=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),u=Object.entries(l).map(d=>{var[h,m]=d,g=m.map(S=>S.dataKey),_=oO(t,n,m[0].barSize);return{stackId:h,dataKeys:g,barSize:_}}),f=o.map(d=>{var h=[d.dataKey].filter(g=>g!=null),m=oO(t,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...u,...f]};function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(r){XW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XW(e,t,n){return(t=QW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e7(e,t,n,r,i){var o=r.length;if(!(o<1)){var l=mn(e,n,0,!0),u,f=[];if(dt(r[0].barSize)){var d=!1,h=n/o,m=r.reduce((C,O)=>C+(O.barSize||0),0);m+=(o-1)*l,m>=n&&(m-=(o-1)*l,l=0),m>=n&&h>0&&(d=!0,h*=.9,m=o*h);var g=(n-m)/2>>0,_={offset:g-l,size:0};u=r.reduce((C,O)=>{var R,I={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:_.offset+_.size+l,size:d?h:(R=O.barSize)!==null&&R!==void 0?R:0}},M=[...C,I];return _=M[M.length-1].position,M},f)}else{var S=mn(t,n,0,!0);n-2*S-(o-1)*l<=0&&(l=0);var E=(n-2*S-(o-1)*l)/o;E>1&&(E>>=0);var T=dt(i)?Math.min(E,i):E;u=r.reduce((C,O,R)=>[...C,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:S+(E+l)*R+(E-T)/2,size:T}}],f)}return u}}var t7=(e,t,n,r,i,o,l)=>{var u=Yt(l)?t:l,f=e7(n,r,i!==o?i:o,e,u);return i!==o&&f!=null&&(f=f.map(d=>zf(zf({},d),{},{position:zf(zf({},d.position),{},{offset:d.position.offset-i/2})}))),f},n7=(e,t)=>{var n=r_(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}};function r7(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&dt(e.zIndex)?e.zIndex:t}var rU=e=>{var{chartData:t}=e,n=nt(),r=Mn();return x.useEffect(()=>r?()=>{}:(n(mR(t)),()=>{n(mR(void 0))}),[t,n,r]),null},lO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},iU=In({name:"brush",initialState:lO,reducers:{setBrushSettings(e,t){return t.payload==null?lO:t.payload}}}),{setBrushSettings:Ise}=iU.actions,i7=iU.reducer;function a7(e,t,n){return(t=o7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o7(e){var t=s7(e,"string");return typeof t=="symbol"?t:t+""}function s7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class G_{static create(t){return new G_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}a7(G_,"EPS",1e-4);function l7(e){return(e%180+180)%180}var u7=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=l7(i),l=o*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},c7={dots:[],areas:[],lines:[]},aU=In({name:"referenceElements",initialState:c7,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Cr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Cr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Cr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Mse,removeDot:Nse,addArea:Dse,removeArea:kse,addLine:Use,removeLine:Lse}=aU.actions,f7=aU.reducer,d7=x.createContext(void 0),h7=e=>{var{children:t}=e,[n]=x.useState("".concat(gu("recharts"),"-clip")),r=nU();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return x.createElement(d7.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function oU(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function p7(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return u7(r,n)}function m7(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function Iu(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function v7(e,t){return oU(e,t+1)}function g7(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,f=0,d=1,h=l,m=function(){var S=r==null?void 0:r[f];if(S===void 0)return{v:oU(r,d)};var E=f,T,C=()=>(T===void 0&&(T=n(S,E)),T),O=S.coordinate,R=f===0||Iu(e,O,C,h,u);R||(f=0,h=l,d+=1),R&&(h=O+e*(C()/2+i),f+=d)},g;d<=o.length;)if(g=m(),g)return g.v;return[]}function y7(e,t,n,r,i){var o=(r||[]).slice(),l=o.length;if(l===0)return[];for(var{start:u,end:f}=t,d=1;d<=l;d++){for(var h=(l-1)%d,m=u,g=!0,_=function(){var O=r[S],R=S,I,M=()=>(I===void 0&&(I=n(O,R)),I),N=O.coordinate,k=S===h||Iu(e,N,M,m,f);if(!k)return g=!1,1;k&&(m=N+e*(M()/2+i))},S=h;S<l&&!_();S+=d);if(g){for(var E=[],T=h;T<l;T+=d)E.push(r[T]);return E}}return[]}function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){b7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b7(e,t,n){return(t=_7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _7(e){var t=w7(e,"string");return typeof t=="symbol"?t:t+""}function w7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S7(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:f}=t,d=function(g){var _=o[g],S,E=()=>(S===void 0&&(S=n(_,g)),S);if(g===l-1){var T=e*(_.coordinate+e*E()/2-f);o[g]=_=dn(dn({},_),{},{tickCoord:T>0?_.coordinate-T*e:_.coordinate})}else o[g]=_=dn(dn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var C=Iu(e,_.tickCoord,E,u,f);C&&(f=_.tickCoord-e*(E()/2+i),o[g]=dn(dn({},_),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return o}function E7(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:f,end:d}=t;if(o){var h=r[u-1],m=n(h,u-1),g=e*(h.coordinate+e*m/2-d);if(l[u-1]=h=dn(dn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate}),h.tickCoord!=null){var _=Iu(e,h.tickCoord,()=>m,f,d);_&&(d=h.tickCoord-e*(m/2+i),l[u-1]=dn(dn({},h),{},{isShow:!0}))}}for(var S=o?u-1:u,E=function(O){var R=l[O],I,M=()=>(I===void 0&&(I=n(R,O)),I);if(O===0){var N=e*(R.coordinate-e*M()/2-f);l[O]=R=dn(dn({},R),{},{tickCoord:N<0?R.coordinate-N*e:R.coordinate})}else l[O]=R=dn(dn({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var k=Iu(e,R.tickCoord,M,f,d);k&&(f=R.tickCoord+e*(M()/2+i),l[O]=dn(dn({},R),{},{isShow:!0}))}},T=0;T<S;T++)E(T);return l}function j_(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:f,tickFormatter:d,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(pe(f)||Rh.isSsr){var g;return(g=v7(i,pe(f)?f:0))!==null&&g!==void 0?g:[]}var _=[],S=u==="top"||u==="bottom"?"width":"height",E=h&&S==="width"?lu(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(R,I)=>{var M=typeof d=="function"?d(R.value,I):R.value;return S==="width"?p7(lu(M,{fontSize:t,letterSpacing:n}),E,m):lu(M,{fontSize:t,letterSpacing:n})[S]},C=i.length>=2?Kt(i[1].coordinate-i[0].coordinate):1,O=m7(o,C,S);return f==="equidistantPreserveStart"?g7(C,O,T,i,l):f==="equidistantPreserveEnd"?y7(C,O,T,i,l):(f==="preserveStart"||f==="preserveStartEnd"?_=E7(C,O,T,i,l,f==="preserveStartEnd"):_=S7(C,O,T,i,l),_.filter(R=>R.isShow))}var T7=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,d=l+f+u+(n?r:0);return Math.round(d)}return 0},A7=["axisLine","width","height","className","hide","ticks","axisType"];function x7(e,t){if(e==null)return{};var n,r,i=C7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ho.apply(null,arguments)}function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(n),!0).forEach(function(r){R7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R7(e,t,n){return(t=O7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _i={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:un.axis};function I7(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var d=Pt(Pt(Pt({},f),Pr(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);d=Pt(Pt({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(o==="left"&&!l||o==="right"&&l);d=Pt(Pt({},d),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return x.createElement("line",ho({},d,{className:Ke("recharts-cartesian-axis-line",so(u,"className"))}))}function M7(e,t,n,r,i,o,l,u,f){var d,h,m,g,_,S,E=u?-1:1,T=e.tickSize||l,C=pe(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":d=h=e.coordinate,g=n+ +!u*i,m=g-E*T,S=m-E*f,_=C;break;case"left":m=g=e.coordinate,h=t+ +!u*r,d=h-E*T,_=d-E*f,S=C;break;case"right":m=g=e.coordinate,h=t+ +u*r,d=h+E*T,_=d+E*f,S=C;break;default:d=h=e.coordinate,g=n+ +u*i,m=g+E*T,S=m+E*f,_=C;break}return{line:{x1:d,y1:m,x2:h,y2:g},tick:{x:_,y:S}}}function N7(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function D7(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function k7(e){var{option:t,tickProps:n,value:r}=e,i,o=Ke(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,Pt(Pt({},n),{},{className:o}));else if(typeof t=="function")i=t(Pt(Pt({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Ke(l,t==null?void 0:t.className)),i=x.createElement(Yh,ho({},n,{className:l}),r)}return i}var U7=x.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:f,tickTextProps:d,orientation:h,mirror:m,x:g,y:_,width:S,height:E,tickSize:T,tickMargin:C,fontSize:O,letterSpacing:R,getTicksConfig:I,events:M,axisType:N}=e,k=j_(Pt(Pt({},I),{},{ticks:n}),O,R),H=N7(h,m),q=D7(h,m),ne=Pr(I),J=vu(r),ee={};typeof i=="object"&&(ee=i);var oe=Pt(Pt({},ne),{},{fill:"none"},ee),fe=k.map(Z=>Pt({entry:Z},M7(Z,g,_,S,E,h,T,m,C))),me=fe.map(Z=>{var{entry:se,line:W}=Z;return x.createElement(_n,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},i&&x.createElement("line",ho({},oe,W,{className:Ke("recharts-cartesian-axis-tick-line",so(i,"className"))})))}),$=fe.map((Z,se)=>{var{entry:W,tick:ue}=Z,D=Pt(Pt(Pt(Pt({textAnchor:H,verticalAnchor:q},ne),{},{stroke:"none",fill:o},J),ue),{},{index:se,payload:W,visibleTicksCount:k.length,tickFormatter:l,padding:f},d);return x.createElement(_n,ho({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},ku(M,W,se)),r&&x.createElement(k7,{option:r,tickProps:D,value:"".concat(typeof l=="function"?l(W.value,se):W.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},$.length>0&&x.createElement(Dr,{zIndex:un.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},$)),me.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},me))}),L7=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:f}=e,d=x7(e,A7),[h,m]=x.useState(""),[g,_]=x.useState(""),S=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return T7({ticks:S.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=x.useCallback(T=>{if(T){var C=T.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=C;var O=C[0];if(O){var R=window.getComputedStyle(O),I=R.fontSize,M=R.letterSpacing;(I!==h||M!==g)&&(m(I),_(M))}}},[h,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(Dr,{zIndex:e.zIndex},x.createElement(_n,{className:Ke("recharts-cartesian-axis",o)},x.createElement(I7,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Pr(e)}),x.createElement(U7,{ref:E,axisType:f,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(H9,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(Q9,{label:e.label,labelRef:e.labelRef}),e.children)))}),V_=x.forwardRef((e,t)=>{var n=Jt(e,_i);return x.createElement(L7,ho({},n,{ref:t}))});V_.displayName="CartesianAxis";var B7=["x1","y1","x2","y2","key"],q7=["offset"],z7=["xAxisId","yAxisId"],$7=["xAxisId","yAxisId"];function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(n),!0).forEach(function(r){H7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H7(e,t,n){return(t=G7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G7(e){var t=j7(e,"string");return typeof t=="symbol"?t:t+""}function j7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},no.apply(null,arguments)}function jd(e,t){if(e==null)return{};var n,r,i=V7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function V7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var F7=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return x.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function sU(e){var{option:t,lineItemProps:n}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:l,x2:u,y2:f,key:d}=n,h=jd(n,B7),m=(i=Pr(h))!==null&&i!==void 0?i:{},{offset:g}=m,_=jd(m,q7);r=x.createElement("line",no({},_,{x1:o,y1:l,x2:u,y2:f,fill:"none",key:d}))}return r}function K7(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=jd(e,z7),f=i.map((d,h)=>{var m=hn(hn({},u),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return x.createElement(sU,{key:"line-".concat(h),option:r,lineItemProps:m})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Y7(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=jd(e,$7),f=i.map((d,h)=>{var m=hn(hn({},u),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return x.createElement(sU,{option:r,lineItemProps:m,key:"line-".concat(h)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function J7(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var _=!d[g+1],S=_?i+l-m:d[g+1]-m;if(S<=0)return null;var E=g%t.length;return x.createElement("rect",{key:"react-".concat(g),y:m,x:r,height:S,width:o,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function W7(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var d=f.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var _=!d[g+1],S=_?i+l-m:d[g+1]-m;if(S<=0)return null;var E=g%n.length;return x.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:S,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var X7=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return JM(j_(hn(hn(hn({},_i),n),{},{ticks:WM(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},Q7=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return JM(j_(hn(hn(hn({},_i),n),{},{ticks:WM(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},Z7={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:un.grid};function lU(e){var t=wb(),n=Sb(),r=iN(),i=hn(hn({},Jt(e,Z7)),{},{x:pe(e.x)?e.x:r.left,y:pe(e.y)?e.y:r.top,width:pe(e.width)?e.width:r.width,height:pe(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:f,width:d,height:h,syncWithTicks:m,horizontalValues:g,verticalValues:_}=i,S=Mn(),E=ge(q=>rR(q,"xAxis",o,S)),T=ge(q=>rR(q,"yAxis",l,S));if(!jr(d)||!jr(h)||!pe(u)||!pe(f))return null;var C=i.verticalCoordinatesGenerator||X7,O=i.horizontalCoordinatesGenerator||Q7,{horizontalPoints:R,verticalPoints:I}=i;if((!R||!R.length)&&typeof O=="function"){var M=g&&g.length,N=O({yAxis:T?hn(hn({},T),{},{ticks:M?g:T.ticks}):void 0,width:t??d,height:n??h,offset:r},M?!0:m);bd(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(R=N)}if((!I||!I.length)&&typeof C=="function"){var k=_&&_.length,H=C({xAxis:E?hn(hn({},E),{},{ticks:k?_:E.ticks}):void 0,width:t??d,height:n??h,offset:r},k?!0:m);bd(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(I=H)}return x.createElement(Dr,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(F7,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(J7,no({},i,{horizontalPoints:R})),x.createElement(W7,no({},i,{verticalPoints:I})),x.createElement(K7,no({},i,{offset:r,horizontalPoints:R,xAxis:E,yAxis:T})),x.createElement(Y7,no({},i,{offset:r,verticalPoints:I,xAxis:E,yAxis:T}))))}lU.displayName="CartesianGrid";var eX={},uU=In({name:"errorBars",initialState:eX,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Bse,replaceErrorBar:qse,removeErrorBar:zse}=uU.actions,tX=uU.reducer,nX=["children"];function rX(e,t){if(e==null)return{};var n,r,i=iX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},oX=x.createContext(aX);function sX(e){var{children:t}=e,n=rX(e,nX);return x.createElement(oX.Provider,{value:n},t)}function cU(e,t){var n,r,i=ge(d=>Di(d,e)),o=ge(d=>ki(d,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:jt.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Vt.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function lX(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=nU(),{needClipX:o,needClipY:l,needClip:u}=cU(t,n);if(!u||!i)return null;var{x:f,y:d,width:h,height:m}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:o?f:f-h/2,y:l?d:d-m/2,width:o?h:h*2,height:l?m:m*2}))}var fy={exports:{}},dy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dO;function uX(){if(dO)return dy;dO=1;var e=Bs();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return dy.useSyncExternalStoreWithSelector=function(f,d,h,m,g){var _=i(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=l(function(){function T(M){if(!C){if(C=!0,O=M,M=m(M),g!==void 0&&S.hasValue){var N=S.value;if(g(N,M))return R=N}return R=M}if(N=R,n(O,M))return N;var k=m(M);return g!==void 0&&g(N,k)?(O=M,N):(O=M,R=k)}var C=!1,O,R,I=h===void 0?null:h;return[function(){return T(d())},I===null?void 0:function(){return T(I())}]},[d,h,m,g]);var E=r(f,_[0],_[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},dy}var hO;function cX(){return hO||(hO=1,fy.exports=uX()),fy.exports}cX();function fX(e){e()}function dX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){fX(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var pO={notify(){},get:()=>[]};function hX(e,t){let n,r=pO,i=0,o=!1;function l(E){h();const T=r.subscribe(E);let C=!1;return()=>{C||(C=!0,T(),m())}}function u(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function d(){return o}function h(){i++,n||(n=e.subscribe(f),r=dX())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=pO)}function g(){o||(o=!0,h())}function _(){o&&(o=!1,m())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:g,tryUnsubscribe:_,getListeners:()=>r};return S}var pX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mX=pX(),vX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gX=vX(),yX=()=>mX||gX?x.useLayoutEffect:x.useEffect,bX=yX();function mO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function _X(e,t){if(mO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!mO(e[n[i]],t[n[i]]))return!1;return!0}var hy=Symbol.for("react-redux-context"),py=typeof globalThis<"u"?globalThis:{};function wX(){if(!x.createContext)return{};const e=py[hy]??(py[hy]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var SX=wX();function EX(e){const{children:t,context:n,serverState:r,store:i}=e,o=x.useMemo(()=>{const f=hX(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=x.useMemo(()=>i.getState(),[i]);bX(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const u=n||SX;return x.createElement(u.Provider,{value:o},t)}var TX=EX,AX=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function xX(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function F_(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(AX.has(r)){if(e[r]==null&&t[r]==null)continue;if(!_X(e[r],t[r]))return!1}else if(!xX(e[r],t[r]))return!1;return!0}function yo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:eU}function bo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:eU}var CX="Invariant failed";function RX(e,t){throw new Error(CX)}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x0.apply(null,arguments)}function Vd(e){return x.createElement(Jk,x0({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var OX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(pe(t))return t;var o=pe(r)||Yt(r);return o?t(r,i):(o||RX(),n)}},PX=(e,t,n)=>n,IX=(e,t)=>t,nc=V([o_,IX],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),MX=V([nc],e=>e==null?void 0:e.maxBarSize),NX=(e,t,n,r)=>r,DX=V([He,o_,yo,bo,PX],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),kX=(e,t,n)=>{var r=He(e),i=yo(e,t),o=bo(e,t);if(!(i==null||o==null))return r==="horizontal"?b0(e,"yAxis",o,n):b0(e,"xAxis",i,n)},UX=(e,t)=>{var n=He(e),r=yo(e,t),i=bo(e,t);if(!(r==null||i==null))return n==="horizontal"?nR(e,"xAxis",r):nR(e,"yAxis",i)},LX=V([DX,j6,UX],WW),BX=(e,t,n)=>{var r,i,o=nc(e,t);if(o!=null){var l=yo(e,t),u=bo(e,t);if(!(l==null||u==null)){var f=He(e),d=SD(e),{maxBarSize:h}=o,m=Yt(h)?d:h,g,_;return f==="horizontal"?(g=Ls(e,"xAxis",l,n),_=Us(e,"xAxis",l,n)):(g=Ls(e,"yAxis",u,n),_=Us(e,"yAxis",u,n)),(r=(i=yd(g,_,!0))!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0}}},fU=(e,t,n)=>{var r=He(e),i=yo(e,t),o=bo(e,t);if(!(i==null||o==null)){var l,u;return r==="horizontal"?(l=Ls(e,"xAxis",i,n),u=Us(e,"xAxis",i,n)):(l=Ls(e,"yAxis",o,n),u=Us(e,"yAxis",o,n)),yd(l,u)}},qX=V([LX,SD,G6,ED,BX,fU,MX],t7),zX=(e,t,n)=>{var r=yo(e,t);if(r!=null)return Ls(e,"xAxis",r,n)},$X=(e,t,n)=>{var r=bo(e,t);if(r!=null)return Ls(e,"yAxis",r,n)},HX=(e,t,n)=>{var r=yo(e,t);if(r!=null)return Us(e,"xAxis",r,n)},GX=(e,t,n)=>{var r=bo(e,t);if(r!=null)return Us(e,"yAxis",r,n)},jX=V([qX,nc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),VX=V([kX,nc],n7),FX=V([Lt,bb,zX,$X,HX,GX,jX,He,I6,fU,VX,nc,NX],(e,t,n,r,i,o,l,u,f,d,h,m,g)=>{var{chartData:_,dataStartIndex:S,dataEndIndex:E}=f;if(!(m==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||d==null)){var{data:T}=m,C;if(T!=null&&T.length>0?C=T:C=_==null?void 0:_.slice(S,E+1),C!=null)return wQ({layout:u,barSettings:m,pos:l,parentViewBox:t,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:C,offset:e,cells:g,dataStartIndex:S})}}),KX=["index"];function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C0.apply(null,arguments)}function YX(e,t){if(e==null)return{};var n,r,i=JX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dU=x.createContext(void 0),WX=e=>{var t=x.useContext(dU);if(t!=null)return t.stackId;if(e!=null)return A3(e)},XX=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),QX=e=>{var t=x.useContext(dU);if(t!=null){var{stackId:n}=t;return"url(#".concat(XX(n,e),")")}},ZX=e=>{var{index:t}=e,n=YX(e,KX),r=QX(t);return x.createElement(_n,C0({className:"recharts-bar-stack-layer",clipPath:r},n))},eQ=["onMouseEnter","onMouseLeave","onClick"],tQ=["value","background","tooltipPosition"],nQ=["id"],rQ=["onMouseEnter","onClick","onMouseLeave"];function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ci.apply(null,arguments)}function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(r){iQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iQ(e,t,n){return(t=aQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aQ(e){var t=oQ(e,"string");return typeof t=="symbol"?t:t+""}function oQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fd(e,t){if(e==null)return{};var n,r,i=sQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lQ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:yh(n,t),payload:e}]},uQ=x.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u,tooltipType:f,id:d}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:yh(o,t),hide:l,type:f,color:i,unit:u,graphicalItemId:d}};return x.createElement(Wk,{tooltipEntrySettings:h})});function cQ(e){var t=ge(fo),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:u,onClick:f}=o,d=Fd(o,eQ),h=z_(l,r,o.id),m=$_(u),g=H_(f,r,o.id);if(!i||n==null)return null;var _=vu(i);return x.createElement(Dr,{zIndex:r7(i,un.barBackground)},n.map((S,E)=>{var{value:T,background:C,tooltipPosition:O}=S,R=Fd(S,tQ);if(!C)return null;var I=h(S,E),M=m(S,E),N=g(S,E),k=yn(yn(yn(yn(yn({option:i,isActive:String(E)===t},R),{},{fill:"#eee"},C),_),ku(d,S,E)),{},{onMouseEnter:I,onMouseLeave:M,onClick:N,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return x.createElement(Vd,Ci({key:"background-bar-".concat(E)},k))}))}function fQ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return yn(yn({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return x.createElement(uJ,{value:t?i:void 0},n)}function dQ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,u=ge(fo),f=ge(I_),d=n&&String(o)===u&&(f==null||l===f),h=d?n:t;return d?x.createElement(Dr,{zIndex:un.activeBar},x.createElement(Vd,Ci({},r,{name:String(r.name)},i,{isActive:d,option:h,index:o,dataKey:l}))):x.createElement(Vd,Ci({},r,{name:String(r.name)},i,{isActive:d,option:h,index:o,dataKey:l}))}function hQ(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return x.createElement(Vd,Ci({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function pQ(e){var t,{data:n,props:r}=e,i=(t=Pr(r))!==null&&t!==void 0?t:{},{id:o}=i,l=Fd(i,nQ),{shape:u,dataKey:f,activeBar:d}=r,{onMouseEnter:h,onClick:m,onMouseLeave:g}=r,_=Fd(r,rQ),S=z_(h,f,o),E=$_(g),T=H_(m,f,o);return n?x.createElement(x.Fragment,null,n.map((C,O)=>x.createElement(ZX,Ci({index:O,key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(O),className:"recharts-bar-rectangle"},ku(_,C,O),{onMouseEnter:S(C,O),onMouseLeave:E(C,O),onClick:T(C,O)}),d?x.createElement(dQ,{shape:u,activeBar:d,baseProps:l,entry:C,index:O,dataKey:f}):x.createElement(hQ,{shape:u,baseProps:l,entry:C,index:O,dataKey:f})))):null}function mQ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:d,onAnimationStart:h}=t,m=n.current,g=Ph(t,"recharts-bar-"),[_,S]=x.useState(!1),E=!_,T=x.useCallback(()=>{typeof d=="function"&&d(),S(!1)},[d]),C=x.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return x.createElement(fQ,{showLabels:E,rects:r},x.createElement(Oh,{animationId:g,begin:l,duration:u,isActive:o,easing:f,onAnimationEnd:T,onAnimationStart:C,key:g},O=>{var R=O===1?r:r==null?void 0:r.map((I,M)=>{var N=m&&m[M];if(N)return yn(yn({},I),{},{x:kt(N.x,I.x,O),y:kt(N.y,I.y,O),width:kt(N.width,I.width,O),height:kt(N.height,I.height,O)});if(i==="horizontal"){var k=kt(0,I.height,O),H=kt(I.stackedBarStart,I.y,O);return yn(yn({},I),{},{y:H,height:k})}var q=kt(0,I.width,O),ne=kt(I.stackedBarStart,I.x,O);return yn(yn({},I),{},{width:q,x:ne})});return O>0&&(n.current=R??null),R==null?null:x.createElement(_n,null,x.createElement(pQ,{props:t,data:R}))}),x.createElement(Gk,{label:t.label}),t.children)}function vQ(e){var t=x.useRef(null);return x.createElement(mQ,{previousRectanglesRef:t,props:e})}var hU=0,gQ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:ot(e,t)}};class yQ extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:f,id:d}=this.props;if(t||n==null)return null;var h=Ke("recharts-bar",i),m=d;return x.createElement(_n,{className:h,id:d},u&&x.createElement("defs",null,x.createElement(lX,{clipPathId:m,xAxisId:o,yAxisId:l})),x.createElement(_n,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},x.createElement(cQ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),x.createElement(vQ,this.props)))}}var bQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:hU,xAxisId:0,yAxisId:0,zIndex:un.bar};function _Q(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h}=e,{needClip:m}=cU(t,n),g=zu(),_=Mn(),S=q_(e.children,tc),E=ge(O=>FX(O,e.id,_,S));if(g!=="vertical"&&g!=="horizontal")return null;var T,C=E==null?void 0:E[0];return C==null||C.height==null||C.width==null?T=0:T=g==="vertical"?C.height/2:C.width/2,x.createElement(sX,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:gQ,errorBarOffset:T},x.createElement(yQ,Ci({},e,{layout:g,needClip:m,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h})))}function wQ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:d,stackedData:h,displayedData:m,offset:g,cells:_,parentViewBox:S,dataStartIndex:E}=e,T=t==="horizontal"?u:l,C=h?T.scale.domain():null,O=x3({numericAxis:T}),R=T.scale(O);return m.map((I,M)=>{var N,k,H,q,ne,J;if(h){var ee=h[M+E];if(ee==null)return null;N=_3(ee,C)}else N=ot(I,n),Array.isArray(N)||(N=[O,N]);var oe=OX(r,hU)(N[1],M);if(t==="horizontal"){var fe,[me,$]=[u.scale(N[0]),u.scale(N[1])];k=aC({axis:l,ticks:f,bandSize:o,offset:i.offset,entry:I,index:M}),H=(fe=$??me)!==null&&fe!==void 0?fe:void 0,q=i.size;var Z=me-$;if(ne=Ir(Z)?0:Z,J={x:k,y:g.top,width:q,height:g.height},Math.abs(oe)>0&&Math.abs(ne)<Math.abs(oe)){var se=Kt(ne||oe)*(Math.abs(oe)-Math.abs(ne));H-=se,ne+=se}}else{var[W,ue]=[l.scale(N[0]),l.scale(N[1])];if(k=W,H=aC({axis:u,ticks:d,bandSize:o,offset:i.offset,entry:I,index:M}),q=ue-W,ne=i.size,J={x:g.left,y:H,width:g.width,height:ne},Math.abs(oe)>0&&Math.abs(q)<Math.abs(oe)){var D=Kt(q||oe)*(Math.abs(oe)-Math.abs(q));q+=D}}if(k==null||H==null||q==null||ne==null)return null;var K=yn(yn({},I),{},{stackedBarStart:R,x:k,y:H,width:q,height:ne,value:h?N:N[1],payload:I,background:J,tooltipPosition:{x:k+q/2,y:H+ne/2},parentViewBox:S},_&&_[M]&&_[M].props);return K}).filter(Boolean)}function SQ(e){var t=Jt(e,bQ),n=WX(t.stackId),r=Mn();return x.createElement(Xk,{id:t.id,type:"bar"},i=>x.createElement(x.Fragment,null,x.createElement(JJ,{legendPayload:lQ(t)}),x.createElement(uQ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),x.createElement(uW,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(Dr,{zIndex:t.zIndex},x.createElement(_Q,Ci({},t,{id:i})))))}var pU=x.memo(SQ,F_);pU.displayName="Bar";var EQ=["domain","range"],TQ=["domain","range"];function gO(e,t){if(e==null)return{};var n,r,i=AQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function mU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=gO(e,EQ),{domain:o,range:l}=t,u=gO(t,TQ);return!yO(n,o)||!yO(r,l)?!1:F_(i,u)}var xQ=["dangerouslySetInnerHTML","ticks","scale"],CQ=["id","scale"];function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R0.apply(null,arguments)}function bO(e,t){if(e==null)return{};var n,r,i=RQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function OQ(e){var t=nt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(zW(e)):n.current!==e&&t($W({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(HW(n.current)),n.current=null)},[t]),null}var PQ=e=>{var{xAxisId:t,className:n}=e,r=ge(bb),i=Mn(),o="xAxis",l=ge(C=>tk(C,o,t,i)),u=ge(C=>XD(C,t)),f=ge(C=>$5(C,t)),d=ge(C=>MD(C,t));if(u==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:g}=e,_=bO(e,xQ),{id:S,scale:E}=d,T=bO(d,CQ);return x.createElement(V_,R0({},_,T,{x:f.x,y:f.y,width:u.width,height:u.height,className:Ke("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},IQ={allowDataOverflow:jt.allowDataOverflow,allowDecimals:jt.allowDecimals,allowDuplicatedCategory:jt.allowDuplicatedCategory,angle:jt.angle,axisLine:_i.axisLine,height:jt.height,hide:!1,includeHidden:jt.includeHidden,interval:jt.interval,minTickGap:jt.minTickGap,mirror:jt.mirror,orientation:jt.orientation,padding:jt.padding,reversed:jt.reversed,scale:jt.scale,tick:jt.tick,tickCount:jt.tickCount,tickLine:_i.tickLine,tickSize:_i.tickSize,type:jt.type,xAxisId:0},MQ=e=>{var t=Jt(e,IQ);return x.createElement(x.Fragment,null,x.createElement(OQ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(PQ,t))},vU=x.memo(MQ,mU);vU.displayName="XAxis";var NQ=["dangerouslySetInnerHTML","ticks","scale"],DQ=["id","scale"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}function _O(e,t){if(e==null)return{};var n,r,i=kQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function UQ(e){var t=nt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(GW(e)):n.current!==e&&t(jW({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(VW(n.current)),n.current=null)},[t]),null}var LQ=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=x.useRef(null),l=x.useRef(null),u=ge(bb),f=Mn(),d=nt(),h="yAxis",m=ge(N=>QD(N,t)),g=ge(N=>G5(N,t)),_=ge(N=>tk(N,h,t,f)),S=ge(N=>ND(N,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!m||U_(i)||x.isValidElement(i)||S==null)){var N=o.current;if(N){var k=N.getCalculatedWidth();Math.round(m.width)!==Math.round(k)&&d(FW({id:t,width:k}))}}},[_,m,d,i,t,r,S]),m==null||g==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:T,scale:C}=e,O=_O(e,NQ),{id:R,scale:I}=S,M=_O(S,DQ);return x.createElement(V_,O0({},O,M,{ref:o,labelRef:l,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Ke("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:_,axisType:h}))},BQ={allowDataOverflow:Vt.allowDataOverflow,allowDecimals:Vt.allowDecimals,allowDuplicatedCategory:Vt.allowDuplicatedCategory,angle:Vt.angle,axisLine:_i.axisLine,hide:!1,includeHidden:Vt.includeHidden,interval:Vt.interval,minTickGap:Vt.minTickGap,mirror:Vt.mirror,orientation:Vt.orientation,padding:Vt.padding,reversed:Vt.reversed,scale:Vt.scale,tick:Vt.tick,tickCount:Vt.tickCount,tickLine:_i.tickLine,tickSize:_i.tickSize,type:Vt.type,width:Vt.width,yAxisId:0},qQ=e=>{var t=Jt(e,BQ);return x.createElement(x.Fragment,null,x.createElement(UQ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(LQ,t))},gU=x.memo(qQ,mU);gU.displayName="YAxis";var zQ=(e,t)=>t,K_=V([zQ,He,PD,qt,gk,Ui,iY,Lt],fY),Y_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},yU=pr("mouseClick"),bU=Bu();bU.startListening({actionCreator:yU,effect:(e,t)=>{var n=e.payload,r=K_(t.getState(),Y_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(rK({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var P0=pr("mouseMove"),_U=Bu(),$f=null;_U.startListening({actionCreator:P0,effect:(e,t)=>{var n=e.payload;$f!==null&&cancelAnimationFrame($f);var r=Y_(n);$f=requestAnimationFrame(()=>{var i=t.getState(),o=A_(i,i.tooltip.settings.shared);if(o==="axis"){var l=K_(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(uk({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(lk())}$f=null})}});function $Q(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var wO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},wU=In({name:"rootProps",initialState:wO,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:wO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),HQ=wU.reducer,{updateOptions:GQ}=wU.actions,SU=In({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:jQ}=SU.actions,VQ=SU.reducer,EU=pr("keyDown"),TU=pr("focus"),J_=Bu();J_.startListening({actionCreator:EU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=x_(i,Ks(n),Wu(n),Zu(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=Ui(n);if(o==="Enter"){var d=zd(n,"axis","hover",String(i.index));t.dispatch(w0({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var h=K5(n),m=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,_=u+g*m;if(!(f==null||_>=f.length||_<0)){var S=zd(n,"axis","hover",String(_));t.dispatch(w0({active:!0,activeIndex:_.toString(),activeCoordinate:S}))}}}}}});J_.startListening({actionCreator:TU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=zd(n,"axis","hover",String(o));t.dispatch(w0({active:!0,activeIndex:o,activeCoordinate:l}))}}}});var ur=pr("externalEvent"),AU=Bu(),my=new Map;AU.startListening({actionCreator:ur,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=my.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:GK(u),activeDataKey:I_(u),activeIndex:fo(u),activeLabel:_k(u),activeTooltipIndex:fo(u),isTooltipActive:jK(u)};n(f,r)}finally{my.delete(i)}});my.set(i,l)}}});var FQ=V([Vs],e=>e.tooltipItemPayloads),KQ=V([FQ,Qu,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),xU=pr("touchMove"),CU=Bu();CU.startListening({actionCreator:xU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=A_(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var l=K_(r,Y_({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(uk({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var d=document.elementFromPoint(f.clientX,f.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(QM),m=(u=d.getAttribute(ZM))!==null&&u!==void 0?u:void 0,g=Fs(r).find(E=>E.id===m);if(h==null||g==null||m==null)return;var{dataKey:_}=g,S=KQ(r,h,m);t.dispatch(sk({activeDataKey:_,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:m}))}}}});var YQ=_M({brush:i7,cartesianAxis:KW,chartData:HY,errorBars:tX,graphicalItems:sW,layout:p3,legend:S4,options:LY,polarAxis:_J,polarOptions:VQ,referenceElements:f7,rootProps:HQ,tooltip:iK,zIndex:AY}),JQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return qj({reducer:YQ,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([bU.middleware,_U.middleware,J_.middleware,AU.middleware,CU.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(kM({type:"raf"}))},devTools:{serialize:{replacer:$Q},name:"recharts-".concat(n)}})};function RU(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Mn(),o=x.useRef(null);if(i)return n;o.current==null&&(o.current=JQ(t,r));var l=cb;return x.createElement(TX,{context:l,store:o.current},n)}function WQ(e){var{layout:t,margin:n}=e,r=nt(),i=Mn();return x.useEffect(()=>{i||(r(f3(t)),r(c3(n)))},[r,i,t,n]),null}var OU=x.memo(WQ,F_);function PU(e){var t=nt();return x.useEffect(()=>{t(GQ(e))},[t,e]),null}function SO(e){var{zIndex:t,isPanorama:n}=e,r=x.useRef(null),i=nt();return x.useLayoutEffect(()=>(r.current&&i(EY({zIndex:t,element:r.current,isPanorama:n})),()=>{i(TY({zIndex:t,isPanorama:n}))}),[i,t,n]),x.createElement("g",{tabIndex:-1,ref:r})}function EO(e){var{children:t,isPanorama:n}=e,r=ge(hY);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return x.createElement(x.Fragment,null,i.map(l=>x.createElement(SO,{key:l,zIndex:l,isPanorama:n})),t,o.map(l=>x.createElement(SO,{key:l,zIndex:l,isPanorama:n})))}var XQ=["children"];function QQ(e,t){if(e==null)return{};var n,r,i=ZQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(null,arguments)}var eZ={width:"100%",height:"100%",display:"block"},tZ=x.forwardRef((e,t)=>{var n=wb(),r=Sb(),i=vN();if(!jr(n)||!jr(r))return null;var{children:o,otherAttributes:l,title:u,desc:f}=e,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),x.createElement(eb,Kd({},l,{title:u,desc:f,role:h,tabIndex:d,width:n,height:r,style:eZ,ref:t}),o)}),nZ=e=>{var{children:t}=e,n=ge(Sh);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return x.createElement(eb,{width:r,height:i,x:l,y:o},t)},TO=x.forwardRef((e,t)=>{var{children:n}=e,r=QQ(e,XQ),i=Mn();return i?x.createElement(nZ,null,x.createElement(EO,{isPanorama:!0},n)):x.createElement(tZ,Kd({ref:t},r),x.createElement(EO,{isPanorama:!1},n))});function rZ(){var e=nt(),[t,n]=x.useState(null),r=ge(M3);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;dt(o)&&o!==r&&e(h3(o))}},[t,e,r]),n}function AO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(n),!0).forEach(function(r){aZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aZ(e,t,n){return(t=oZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oZ(e){var t=sZ(e,"string");return typeof t=="symbol"?t:t+""}function sZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},po.apply(null,arguments)}var lZ=()=>(XY(),null);function Yd(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var uZ=x.forwardRef((e,t)=>{var n,r,i=x.useRef(null),[o,l]=x.useState({containerWidth:Yd((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Yd((r=e.style)===null||r===void 0?void 0:r.height)}),u=x.useCallback((d,h)=>{l(m=>{var g=Math.round(d),_=Math.round(h);return m.containerWidth===g&&m.containerHeight===_?m:{containerWidth:g,containerHeight:_}})},[]),f=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var g=S=>{var{width:E,height:T}=S[0].contentRect;u(E,T)},_=new ResizeObserver(g);_.observe(d),i.current=_}},[t,u]);return x.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(Th,{width:o.containerWidth,height:o.containerHeight}),x.createElement("div",po({ref:f},e)))}),cZ=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=x.useState({containerWidth:Yd(n),containerHeight:Yd(r)}),l=x.useCallback((f,d)=>{o(h=>{var m=Math.round(f),g=Math.round(d);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),u=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:d,height:h}=f.getBoundingClientRect();l(d,h)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(Th,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",po({ref:u},e)))}),fZ=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(Th,{width:n,height:r}),x.createElement("div",po({ref:t},e)))}),dZ=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return wi(n)||wi(r)?x.createElement(cZ,po({},e,{ref:t})):x.createElement(fZ,po({},e,{ref:t}))});function hZ(e){return e===!0?uZ:dZ}var pZ=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:g,onTouchEnd:_,onTouchMove:S,onTouchStart:E,style:T,width:C,responsive:O,dispatchTouchEvents:R=!0}=e,I=x.useRef(null),M=nt(),[N,k]=x.useState(null),[H,q]=x.useState(null),ne=rZ(),J=_b(),ee=(J==null?void 0:J.width)>0?J.width:C,oe=(J==null?void 0:J.height)>0?J.height:i,fe=x.useCallback(Q=>{ne(Q),typeof t=="function"&&t(Q),k(Q),q(Q),Q!=null&&(I.current=Q)},[ne,t,k,q]),me=x.useCallback(Q=>{M(yU(Q)),M(ur({handler:o,reactEvent:Q}))},[M,o]),$=x.useCallback(Q=>{M(P0(Q)),M(ur({handler:d,reactEvent:Q}))},[M,d]),Z=x.useCallback(Q=>{M(lk()),M(ur({handler:h,reactEvent:Q}))},[M,h]),se=x.useCallback(Q=>{M(P0(Q)),M(ur({handler:m,reactEvent:Q}))},[M,m]),W=x.useCallback(()=>{M(TU())},[M]),ue=x.useCallback(Q=>{M(EU(Q.key))},[M]),D=x.useCallback(Q=>{M(ur({handler:l,reactEvent:Q}))},[M,l]),K=x.useCallback(Q=>{M(ur({handler:u,reactEvent:Q}))},[M,u]),ie=x.useCallback(Q=>{M(ur({handler:f,reactEvent:Q}))},[M,f]),le=x.useCallback(Q=>{M(ur({handler:g,reactEvent:Q}))},[M,g]),_e=x.useCallback(Q=>{M(ur({handler:E,reactEvent:Q}))},[M,E]),Ae=x.useCallback(Q=>{R&&M(xU(Q)),M(ur({handler:S,reactEvent:Q}))},[M,R,S]),Te=x.useCallback(Q=>{M(ur({handler:_,reactEvent:Q}))},[M,_]),pt=hZ(O);return x.createElement(Ck.Provider,{value:N},x.createElement(LI.Provider,{value:H},x.createElement(pt,{width:ee??(T==null?void 0:T.width),height:oe??(T==null?void 0:T.height),className:Ke("recharts-wrapper",r),style:iZ({position:"relative",cursor:"default",width:ee,height:oe},T),onClick:me,onContextMenu:D,onDoubleClick:K,onFocus:W,onKeyDown:ue,onMouseDown:ie,onMouseEnter:$,onMouseLeave:Z,onMouseMove:se,onMouseUp:le,onTouchEnd:Te,onTouchMove:Ae,onTouchStart:_e,ref:fe},x.createElement(lZ,null),n)))}),mZ=["width","height","responsive","children","className","style","compact","title","desc"];function vZ(e,t){if(e==null)return{};var n,r,i=gZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IU=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:f,title:d,desc:h}=e,m=vZ(e,mZ),g=Pr(m);return f?x.createElement(x.Fragment,null,x.createElement(Th,{width:n,height:r}),x.createElement(TO,{otherAttributes:g,title:d,desc:h},o)):x.createElement(pZ,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(TO,{otherAttributes:g,title:d,desc:h,ref:t},x.createElement(h7,null,o)))});function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}var yZ={top:5,right:5,bottom:5,left:5},bZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:yZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},_Z=x.forwardRef(function(t,n){var r,i=Jt(t.categoricalChartProps,bZ),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=t,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(RU,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},x.createElement(rU,{chartData:d.data}),x.createElement(OU,{layout:i.layout,margin:i.margin}),x.createElement(PU,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(IU,I0({},i,{ref:n})))}),wZ=["axis","item"],SZ=x.forwardRef((e,t)=>x.createElement(_Z,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wZ,tooltipPayloadSearcher:Rk,categoricalChartProps:e,ref:t}));function EZ(e){var t=nt();return x.useEffect(()=>{t(jQ(e))},[t,e]),null}var TZ=["layout"];function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M0.apply(null,arguments)}function AZ(e,t){if(e==null)return{};var n,r,i=xZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var CZ={top:5,right:5,bottom:5,left:5},MU={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:CZ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},RZ=x.forwardRef(function(t,n){var r,i=Jt(t.categoricalChartProps,MU),{layout:o}=i,l=AZ(i,TZ),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(RU,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},x.createElement(rU,{chartData:i.data}),x.createElement(OU,{layout:o,margin:i.margin}),x.createElement(PU,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(EZ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(IU,M0({},l,{ref:n})))});function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(n),!0).forEach(function(r){OZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OZ(e,t,n){return(t=PZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PZ(e){var t=IZ(e,"string");return typeof t=="symbol"?t:t+""}function IZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MZ=["item"],NZ=CO(CO({},MU),{},{layout:"centric",startAngle:0,endAngle:360}),DZ=x.forwardRef((e,t)=>{var n=Jt(e,NZ);return x.createElement(RZ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:MZ,tooltipPayloadSearcher:Rk,categoricalChartProps:n,ref:t})});const kZ={HKD:1,CNY:1.08,JPY:.052,USD:7.78,EUR:8.45,TWD:.24},RO=["#2D2D2B","#B8926A","#D4C8BE","#B0B0B0","#8C7051","#5E5E5C","#E5DCD3","#9CA3AF","#5C4B3A","#C4B5A5","#A38970"],UZ=({items:e})=>{const[t,n]=x.useState(6);x.useEffect(()=>{(()=>{window.innerWidth<768?n(3):n(6)})()},[]);const r=x.useMemo(()=>{const o=e.length;let l=0,u=0,f=0,d=0,h=0,m=0;const g={},_={},S=new Set;e.forEach(I=>{const M=I.category||"Uncategorized";g[M]=(g[M]||0)+1,S.add(M),I.entries.forEach(N=>{const k=N.quantity||1;u+=k;const H=N.price||0,q=N.currency||"HKD",ne=kZ[q]||1,J=H*k*ne;if(l+=J,N.finishUseDate?d+=k:N.disposed?h+=k:N.startUseDate?f+=k:m+=k,N.purchaseDate&&H>0){const ee=new Date(N.purchaseDate);if(!isNaN(ee.getTime())){const oe=`${ee.getFullYear()}-${String(ee.getMonth()+1).padStart(2,"0")}`;_[oe]||(_[oe]={}),_[oe][M]=(_[oe][M]||0)+J}}})});const E=[{name:"New",value:m,color:"#2D2D2B"},{name:"In Use",value:f,color:"#B8926A"},{name:"Finished",value:d,color:"#B0B0B0"},{name:"Disposed",value:h,color:"#D4C8BE"}].filter(I=>I.value>0),T=Object.entries(g).map(([I,M])=>({name:I,value:Number(M)})).sort((I,M)=>M.value-I.value),O=Object.keys(_).sort().map(I=>{const[M,N]=I.split("-");return{name:new Date(parseInt(M),parseInt(N)-1).toLocaleString("default",{month:"short",year:"2-digit"}),fullDate:I,..._[I]}}),R={};return Array.from(S).sort().forEach((I,M)=>{R[I]=RO[M%RO.length]}),{totalItems:o,totalQty:u,totalValue:l,inUseQty:f,finishedQty:d,statusData:E,categoryData:T,barChartData:O,activeCategories:Array.from(S),categoryColorMap:R}},[e]),i=x.useMemo(()=>t===0?r.barChartData:r.barChartData.slice(-t),[r.barChartData,t]);return L.jsxs("div",{className:"space-y-6 animate-fade-in",children:[L.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[L.jsxs("div",{className:"bg-white p-5 rounded-lg border border-dustyrose/50 hover:border-wheat/50 transition-colors shadow-sm",children:[L.jsx("p",{className:"text-[10px] tracking-widest font-bold text-wind uppercase mb-1",children:"Products / Qty"}),L.jsxs("div",{className:"flex items-baseline gap-2",children:[L.jsx("p",{className:"text-3xl font-light text-blackish",children:r.totalItems}),L.jsxs("span",{className:"text-sm text-wind",children:["(",r.totalQty,")"]})]})]}),L.jsxs("div",{className:"bg-white p-5 rounded-lg border border-dustyrose/50 hover:border-wheat/50 transition-colors shadow-sm",children:[L.jsx("p",{className:"text-[10px] tracking-widest font-bold text-wind uppercase mb-1",children:"Value (HKD)"}),L.jsxs("p",{className:"text-3xl font-light text-blackish",children:["$",r.totalValue.toFixed(0)]})]}),L.jsxs("div",{className:"bg-white p-5 rounded-lg border border-dustyrose/50 hover:border-wheat/50 transition-colors shadow-sm",children:[L.jsx("p",{className:"text-[10px] tracking-widest font-bold text-wind uppercase mb-1",children:"Active Units"}),L.jsx("p",{className:"text-3xl font-light text-wheat",children:r.inUseQty})]}),L.jsxs("div",{className:"bg-white p-5 rounded-lg border border-dustyrose/50 hover:border-wheat/50 transition-colors shadow-sm",children:[L.jsx("p",{className:"text-[10px] tracking-widest font-bold text-wind uppercase mb-1",children:"Finished Units"}),L.jsx("p",{className:"text-3xl font-light text-wind",children:r.finishedQty})]})]}),L.jsxs("div",{className:"bg-white p-6 rounded-lg border border-dustyrose/50 shadow-sm flex flex-col",children:[L.jsxs("div",{className:"flex justify-between items-center mb-6",children:[L.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blackish",children:"Monthly Expenses (HKD)"}),L.jsxs("div",{className:"relative",children:[L.jsxs("select",{value:t,onChange:o=>n(Number(o.target.value)),className:"appearance-none bg-breath/50 border border-dustyrose text-xs font-bold text-blackish uppercase tracking-wider rounded py-1 pl-3 pr-8 focus:outline-none focus:border-wheat cursor-pointer",children:[L.jsx("option",{value:3,children:"Last 3 Mths"}),L.jsx("option",{value:6,children:"Last 6 Mths"}),L.jsx("option",{value:12,children:"Last 12 Mths"}),L.jsx("option",{value:0,children:"All Time"})]}),L.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-blackish",children:L.jsx("svg",{className:"fill-current h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:L.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),L.jsx("div",{className:"h-[300px] w-full",children:i.length>0?L.jsx(vC,{width:"100%",height:"100%",children:L.jsxs(SZ,{data:i,margin:{top:20,right:30,left:0,bottom:5},children:[L.jsx(lU,{strokeDasharray:"3 3",vertical:!1,stroke:"#EAE6DF"}),L.jsx(vU,{dataKey:"name",stroke:"#B0B0B0",tick:{fill:"#B0B0B0",fontSize:10},tickLine:!1,axisLine:!1}),L.jsx(gU,{stroke:"#B0B0B0",tick:{fill:"#B0B0B0",fontSize:10},tickLine:!1,axisLine:!1,tickFormatter:o=>`$${o}`}),L.jsx(_R,{cursor:{fill:"rgba(234, 230, 223, 0.4)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #D4C8BE",borderRadius:"4px",fontSize:"12px"},formatter:(o,l)=>[`$${o}`,l]}),L.jsx(mN,{wrapperStyle:{paddingTop:"20px",fontSize:"10px"},iconType:"circle",iconSize:8}),r.activeCategories.map(o=>L.jsx(pU,{dataKey:o,stackId:"a",fill:r.categoryColorMap[o],barSize:40,animationDuration:1e3},o))]})}):L.jsx("div",{className:"flex h-full items-center justify-center text-wind text-xs tracking-wider border border-dashed border-dustyrose/50 rounded",children:"NO EXPENSE DATA IN RANGE"})})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[L.jsxs("div",{className:"bg-white p-6 rounded-lg border border-dustyrose/50 shadow-sm flex flex-col",children:[L.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blackish mb-6",children:"Unit Status Distribution"}),L.jsxs("div",{className:"flex items-center h-[220px]",children:[L.jsx("div",{className:"flex-1 h-full relative min-w-0",children:r.statusData.length>0?L.jsx(vC,{width:"100%",height:"100%",children:L.jsxs(DZ,{children:[L.jsx(Zk,{data:r.statusData,cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"80%",paddingAngle:4,dataKey:"value",stroke:"none",children:r.statusData.map((o,l)=>L.jsx(tc,{fill:o.color},`cell-${l}`))}),L.jsx(_R,{contentStyle:{backgroundColor:"#fff",border:"1px solid #D4C8BE",borderRadius:"4px",fontSize:"12px",color:"#2D2D2B"},itemStyle:{color:"#2D2D2B"}})]})}):L.jsx("div",{className:"flex h-full items-center justify-center text-wind text-xs tracking-wider border border-dashed border-dustyrose/50 rounded",children:"NO DATA"})}),r.statusData.length>0&&L.jsx("div",{className:"w-24 pl-2 flex flex-col justify-center space-y-3 shrink-0",children:r.statusData.map(o=>L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:o.color}}),L.jsx("span",{className:"text-[10px] font-semibold text-blackish truncate",children:o.name})]},o.name))})]})]}),L.jsxs("div",{className:"bg-white p-6 rounded-lg border border-dustyrose/50 shadow-sm",children:[L.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blackish mb-6",children:"Top Product Categories"}),r.categoryData.length>0?L.jsxs("div",{className:"space-y-4",children:[r.categoryData.slice(0,6).map((o,l)=>L.jsxs("div",{className:"flex items-center justify-between group",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("span",{className:"w-2 h-2 rounded-full transition-colors shrink-0",style:{backgroundColor:r.categoryColorMap[o.name]||"#D4C8BE"}}),L.jsx("span",{className:"text-sm text-blackish/80 group-hover:text-blackish transition-colors truncate max-w-[120px]",title:o.name,children:o.name})]}),L.jsxs("span",{className:"text-xs font-medium text-wind",children:[o.value," items"]})]},o.name)),r.categoryData.length>6&&L.jsxs("div",{className:"text-center pt-4 text-[10px] text-wind uppercase tracking-widest",children:["+ ",r.categoryData.length-6," more"]})]}):L.jsx("p",{className:"text-xs text-wind italic",children:"No categories yet."})]})]})]})},LZ=({items:e,onEdit:t,onDelete:n})=>{const[r,i]=x.useState(""),[o,l]=x.useState("All"),u=["All",...Array.from(new Set(e.map(d=>d.category).filter(Boolean)))],f=e.filter(d=>{const h=d.entries.some(_=>{var S;return(S=_.location)==null?void 0:S.toLowerCase().includes(r.toLowerCase())}),m=d.productName.toLowerCase().includes(r.toLowerCase())||d.brand.toLowerCase().includes(r.toLowerCase())||h,g=o==="All"||d.category===o;return m&&g});return L.jsxs("div",{className:"space-y-8",children:[L.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[L.jsxs("div",{className:"flex-1 relative w-full",children:[L.jsx("svg",{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-wind",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),L.jsx("input",{type:"text",placeholder:"Search items, brands, or locations...",value:r,onChange:d=>i(d.target.value),className:"w-full pl-10 pr-4 py-2 bg-transparent border-b border-dustyrose focus:border-wheat outline-none transition-colors text-sm placeholder-wind text-blackish"})]}),L.jsx("select",{value:o,onChange:d=>l(d.target.value),className:"w-full md:w-48 px-3 py-2 bg-white border border-dustyrose rounded text-sm focus:border-wheat outline-none text-blackish",children:u.map(d=>L.jsx("option",{value:d,children:d},d))})]}),L.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:f.map(d=>{var R;const h=d.entries.reduce((I,M)=>I+(M.quantity||1),0),m=d.entries.map(I=>I.price).filter(I=>I>0),g=m.length?Math.min(...m):0,_=m.length?Math.max(...m):0,S=g===_?g.toFixed(2):`${g.toFixed(0)}-${_.toFixed(0)}`,E=((R=d.entries[0])==null?void 0:R.currency)||"HKD",T=d.entries.some(I=>I.expirationDate&&new Date(I.expirationDate)<new Date),C=d.entries.reduce((I,M)=>I+(M.startUseDate&&!M.finishUseDate?M.quantity:0),0),O=d.entries.reduce((I,M)=>I+(M.finishUseDate?M.quantity:0),0);return L.jsxs("div",{className:"bg-white group rounded border border-dustyrose hover:border-wheat/70 transition-all duration-300 flex flex-row h-40 overflow-hidden shadow-sm",children:[L.jsxs("div",{className:"w-32 sm:w-36 shrink-0 bg-breath relative border-r border-dustyrose/30",children:[d.imageBase64?L.jsx("img",{src:d.imageBase64,alt:d.productName,className:"w-full h-full object-cover opacity-95 transition-all duration-500"}):L.jsx("div",{className:"w-full h-full flex items-center justify-center text-dustyrose",children:L.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),d.category&&L.jsx("span",{className:"absolute top-0 left-0 bg-blackish/90 backdrop-blur-sm text-white text-[9px] uppercase tracking-wider font-bold px-2 py-1",children:d.category})]}),L.jsxs("div",{className:"flex-1 p-4 flex flex-col justify-between min-w-0",children:[L.jsxs("div",{children:[L.jsxs("div",{className:"flex justify-between items-start gap-3",children:[L.jsxs("div",{className:"min-w-0",children:[L.jsx("h3",{className:"font-bold text-blackish truncate text-sm uppercase tracking-wide",title:d.productName,children:d.productName}),L.jsx("p",{className:"text-xs text-wind truncate mt-0.5",children:d.brand})]}),L.jsxs("span",{className:"font-mono text-xs font-semibold text-blackish shrink-0",children:[E," ",S]})]}),L.jsxs("div",{className:"mt-3 space-y-1",children:[L.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase tracking-wider text-blackish/80",children:[L.jsxs("span",{className:"font-bold bg-breath px-1.5 py-0.5 rounded",children:["Total Qty: ",h]}),O>0&&L.jsxs("span",{className:"text-wind",children:["(",O," Done)"]})]}),T&&L.jsx("div",{className:"flex items-center gap-2 text-[10px] uppercase tracking-wider pt-1 text-wheat font-bold",children:L.jsx("span",{children:"(! Expired Units)"})}),L.jsxs("div",{className:"flex items-center gap-2 text-xs text-blackish/80 mt-2 pt-1 border-t border-dashed border-dustyrose/30",children:[L.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${C>0?"bg-wheat":O===h?"bg-wind":"border-2 border-dustyrose"}`}),L.jsx("span",{className:"font-medium text-[11px]",children:C>0?`In Use (${C})`:O===h?"All Finished":"In Stock"})]})]})]}),L.jsxs("div",{className:"flex justify-end gap-2 pt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[L.jsx("button",{onClick:()=>t(d),className:"p-1.5 text-wind hover:text-wheat hover:bg-wheat/10 rounded transition-colors",title:"Edit",children:L.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),L.jsx("button",{onClick:()=>n(d.id),className:"p-1.5 text-wind hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"Delete",children:L.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},d.id)})}),f.length===0&&L.jsxs("div",{className:"text-center py-24 bg-white rounded border border-dustyrose",children:[L.jsx("p",{className:"text-wind text-sm uppercase tracking-widest",children:"No Items Found"}),r&&L.jsx("button",{onClick:()=>i(""),className:"mt-4 text-xs text-wheat border-b border-wheat pb-0.5 hover:opacity-70",children:"Clear Search"})]})]})};var BZ={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qZ,zZ;function $Z(){return{geminiUrl:qZ,vertexUrl:zZ}}function HZ(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const l=$Z();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Li{}function ce(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(e,t,n){for(let o=0;o<t.length-1;o++){const l=t[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const f=e[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];y(h,t.slice(o+1),n[d])}else for(const d of f)y(d,t.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const f=e[u];y(f[0],t.slice(o+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function v(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>v(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function GZ(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&o.length>u)for(let f=u;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}N0(e,i,o,0,l)}}function N0(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const f of u[l])N0(f,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=l[d];for(const[d,h]of Object.entries(f)){const m=[];for(const g of n.slice(r))g==="*"?m.push(d):m.push(g);y(l,m,h)}for(const d of u)delete l[d]}}else{const l=e;o in l&&N0(l[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W_(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jZ(e){const t={},n=v(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=v(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function VZ(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],KZ(l)),t}function FZ(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response"]);return l!=null&&y(t,["response"],YZ(l)),t}function KZ(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>JZ(l))),y(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function YZ(e){const t={},n=v(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>WZ(l))),y(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function JZ(e){const t={},n=v(e,["video"]);return n!=null&&y(t,["video"],nee(n)),t}function WZ(e){const t={},n=v(e,["_self"]);return n!=null&&y(t,["video"],ree(n)),t}function XZ(e){const t={},n=v(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function QZ(e){const t={},n=v(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function ZZ(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response"]);return l!=null&&y(t,["response"],eee(l)),t}function eee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function NU(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response"]);return l!=null&&y(t,["response"],tee(l)),t}function tee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function nee(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],W_(r));const i=v(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function ree(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],W_(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var OO;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(OO||(OO={}));var PO;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(PO||(PO={}));var IO;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(IO||(IO={}));var va;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(va||(va={}));var MO;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(MO||(MO={}));var NO;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(NO||(NO={}));var DO;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(DO||(DO={}));var kO;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(kO||(kO={}));var UO;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(UO||(UO={}));var LO;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(LO||(LO={}));var BO;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(BO||(BO={}));var qO;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(qO||(qO={}));var zO;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(zO||(zO={}));var $O;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})($O||($O={}));var HO;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(HO||(HO={}));var GO;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(GO||(GO={}));var jO;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(jO||(jO={}));var VO;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(VO||(VO={}));var FO;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(FO||(FO={}));var Jd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Jd||(Jd={}));var KO;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(KO||(KO={}));var YO;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(YO||(YO={}));var JO;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(JO||(JO={}));var D0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(D0||(D0={}));var WO;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(WO||(WO={}));var XO;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(XO||(XO={}));var QO;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(QO||(QO={}));var ZO;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(ZO||(ZO={}));var eP;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(eP||(eP={}));var tP;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(tP||(tP={}));var nP;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(nP||(nP={}));var rP;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(rP||(rP={}));var iP;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(iP||(iP={}));var aP;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(aP||(aP={}));var oP;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(oP||(oP={}));var sP;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(sP||(sP={}));var lP;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lP||(lP={}));var uP;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(uP||(uP={}));var cP;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(cP||(cP={}));var fP;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(fP||(fP={}));var dP;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(dP||(dP={}));var hP;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(hP||(hP={}));var pP;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(pP||(pP={}));var mP;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(mP||(mP={}));var vP;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(vP||(vP={}));var gP;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(gP||(gP={}));var yP;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(yP||(yP={}));var bP;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(bP||(bP={}));var _P;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(_P||(_P={}));var wP;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wP||(wP={}));var SP;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(SP||(SP={}));var EP;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(EP||(EP={}));var TP;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(TP||(TP={}));var AP;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(AP||(AP={}));var xP;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(xP||(xP={}));var Ss;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Ss||(Ss={}));class k0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Zl{get text(){var t,n,r,i,o,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const g of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[_,S]of Object.entries(g))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(_);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,d+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,i,o,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[g,_]of Object.entries(m))g!=="inlineData"&&(_!==null||_!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,i,o,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,i,o,l,u,f,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,i,o,l,u,f,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class CP{}class RP{}class iee{}class aee{}class oee{}class see{}class OP{}class PP{}class IP{}class lee{}class Wd{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Wd;let i;const o=t;return n?i=FZ(o):i=VZ(o),Object.assign(r,i),r}}class MP{}class NP{}class DP{}class kP{}class uee{}class cee{}class fee{}class X_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new X_,o=ZZ(t);return Object.assign(r,o),r}}class dee{}class hee{}class pee{}class UP{}class mee{get text(){var t,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class vee{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Q_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Q_,o=NU(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $e(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function DU(e,t){const n=$e(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function kU(e){return Array.isArray(e)?e.map(t=>Xd(t)):[Xd(e)]}function Xd(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function UU(e){const t=Xd(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function LU(e){const t=Xd(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function LP(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function BU(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>LP(t)):[LP(e)]}function U0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function BP(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function qP(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function pn(e){if(e==null)throw new Error("ContentUnion is required");return U0(e)?e:{role:"user",parts:BU(e)}}function Z_(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=pn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=pn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>pn(n)):[pn(t)]}function dr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(BP(e)||qP(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pn(e)]}const t=[],n=[],r=U0(e[0]);for(const i of e){const o=U0(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(BP(i)||qP(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:BU(n)}),t}function gee(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(va).includes(n[0].toUpperCase())?n[0].toUpperCase():va.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(va).includes(r.toUpperCase())?r.toUpperCase():va.TYPE_UNSPECIFIED})}}function Cs(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&gee(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(va).includes(u.toUpperCase())?u.toUpperCase():va.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Cs(u);else if(r.includes(l)){const f=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}f.push(Cs(d))}t[l]=f}else if(i.includes(l)){const f={};for(const[d,h]of Object.entries(u))f[d]=Cs(h);t[l]=f}else{if(l==="additionalProperties")continue;t[l]=u}return t}function ew(e){return Cs(e)}function tw(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function nw(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ys(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Cs(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Cs(t.response));return e}function Js(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function yee(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Bi(e,t){if(typeof t!="string")throw new Error("name must be a string");return yee(e,t,"cachedContents")}function qU(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ea(e){return W_(e)}function bee(e){return e!=null&&typeof e=="object"&&"name"in e}function _ee(e){return e!=null&&typeof e=="object"&&"video"in e}function wee(e){return e!=null&&typeof e=="object"&&"uri"in e}function zU(e){var t;let n;if(bee(e)&&(n=e.name),!(wee(e)&&(n=e.uri,n===void 0))&&!(_ee(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $U(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function HU(e){for(const t of["models","tunedModels","publisherModels"])if(See(e,t))return e[t];return[]}function See(e,t){return e!==null&&typeof e=="object"&&t in e}function Eee(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function Tee(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=Eee(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function GU(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Aee(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function jU(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ws(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function VU(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xee(e){const t={},n=v(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=v(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>ote(l))),y(t,["inlinedResponses"],o)}const i=v(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["inlinedEmbedContentResponses"],o)}return t}function Cee(e){const t={},n=v(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=v(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const i=v(e,["bigqueryDestination","outputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function Ree(e){const t={},n=v(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=v(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&y(t,["bigqueryDestination","outputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Zf(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["metadata","state"]);i!=null&&y(t,["state"],VU(i));const o=v(e,["metadata","createTime"]);o!=null&&y(t,["createTime"],o);const l=v(e,["metadata","endTime"]);l!=null&&y(t,["endTime"],l);const u=v(e,["metadata","updateTime"]);u!=null&&y(t,["updateTime"],u);const f=v(e,["metadata","model"]);f!=null&&y(t,["model"],f);const d=v(e,["metadata","output"]);return d!=null&&y(t,["dest"],xee(jU(d))),t}function L0(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["state"]);i!=null&&y(t,["state"],VU(i));const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["createTime"]);l!=null&&y(t,["createTime"],l);const u=v(e,["startTime"]);u!=null&&y(t,["startTime"],u);const f=v(e,["endTime"]);f!=null&&y(t,["endTime"],f);const d=v(e,["updateTime"]);d!=null&&y(t,["updateTime"],d);const h=v(e,["model"]);h!=null&&y(t,["model"],h);const m=v(e,["inputConfig"]);m!=null&&y(t,["src"],Oee(m));const g=v(e,["outputConfig"]);g!=null&&y(t,["dest"],Cee(jU(g)));const _=v(e,["completionStats"]);return _!=null&&y(t,["completionStats"],_),t}function Oee(e){const t={},n=v(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=v(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const i=v(e,["bigquerySource","inputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function Pee(e,t){const n={};if(v(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(t,["fileName"]);r!=null&&y(n,["fileName"],r);const i=v(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>ate(e,l))),y(n,["requests","requests"],o)}return n}function Iee(e){const t={},n=v(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=v(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&y(t,["bigquerySource","inputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Mee(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Nee(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ws(e,r)),n}function Dee(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ws(e,r)),n}function kee(e){const t={},n=v(e,["content"]);n!=null&&y(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],Uee(r));const i=v(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const o=v(e,["finishReason"]);o!=null&&y(t,["finishReason"],o);const l=v(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=v(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const f=v(e,["index"]);f!=null&&y(t,["index"],f);const d=v(e,["logprobsResult"]);d!=null&&y(t,["logprobsResult"],d);const h=v(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(_=>_)),y(t,["safetyRatings"],g)}const m=v(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function Uee(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function FU(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hte(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function Lee(e,t){const n={},r=v(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),v(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Bee(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=v(e,["dest"]);return t!==void 0&&i!=null&&y(t,["outputConfig"],Ree(Aee(i))),n}function zP(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["src"]);i!=null&&y(n,["batch","inputConfig"],Pee(e,GU(e,i)));const o=v(t,["config"]);return o!=null&&Lee(o,n),n}function qee(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],$e(e,r));const i=v(t,["src"]);i!=null&&y(n,["inputConfig"],Iee(GU(e,i)));const o=v(t,["config"]);return o!=null&&Bee(o,n),n}function zee(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function $ee(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["src"]);i!=null&&y(n,["batch","inputConfig"],Yee(e,i));const o=v(t,["config"]);return o!=null&&zee(o,n),n}function Hee(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ws(e,r)),n}function Gee(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ws(e,r)),n}function jee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);return o!=null&&y(t,["error"],o),t}function Vee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);return o!=null&&y(t,["error"],o),t}function Fee(e,t){const n={},r=v(t,["contents"]);if(r!=null){let o=Z_(e,r);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["requests[]","request","content"],o)}const i=v(t,["config"]);return i!=null&&(y(n,["_self"],Kee(i,n)),GZ(n,{"requests[].*":"requests[].request.*"})),n}function Kee(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const o=v(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&y(t,["requests[]","outputDimensionality"],o),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Yee(e,t){const n={},r=v(t,["fileName"]);r!=null&&y(n,["file_name"],r);const i=v(t,["inlinedRequests"]);return i!=null&&y(n,["requests"],Fee(e,i)),n}function Jee(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Wee(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Xee(e){const t={},n=v(e,["mode"]);n!=null&&y(t,["mode"],n);const r=v(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Qee(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],FU(pn(i)));const o=v(t,["temperature"]);o!=null&&y(r,["temperature"],o);const l=v(t,["topP"]);l!=null&&y(r,["topP"],l);const u=v(t,["topK"]);u!=null&&y(r,["topK"],u);const f=v(t,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=v(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=v(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=v(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const g=v(t,["logprobs"]);g!=null&&y(r,["logprobs"],g);const _=v(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const S=v(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(t,["seed"]);E!=null&&y(r,["seed"],E);const T=v(t,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const C=v(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],ew(C));const O=v(t,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=v(t,["safetySettings"]);if(n!==void 0&&R!=null){let oe=R;Array.isArray(oe)&&(oe=oe.map(fe=>pte(fe))),y(n,["safetySettings"],oe)}const I=v(t,["tools"]);if(n!==void 0&&I!=null){let oe=Js(I);Array.isArray(oe)&&(oe=oe.map(fe=>vte(Ys(fe)))),y(n,["tools"],oe)}const M=v(t,["toolConfig"]);if(n!==void 0&&M!=null&&y(n,["toolConfig"],mte(M)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=v(t,["cachedContent"]);n!==void 0&&N!=null&&y(n,["cachedContent"],Bi(e,N));const k=v(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const H=v(t,["mediaResolution"]);H!=null&&y(r,["mediaResolution"],H);const q=v(t,["speechConfig"]);if(q!=null&&y(r,["speechConfig"],tw(q)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=v(t,["thinkingConfig"]);ne!=null&&y(r,["thinkingConfig"],ne);const J=v(t,["imageConfig"]);J!=null&&y(r,["imageConfig"],ite(J));const ee=v(t,["enableEnhancedCivicAnswers"]);return ee!=null&&y(r,["enableEnhancedCivicAnswers"],ee),r}function Zee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>kee(d))),y(t,["candidates"],f)}const i=v(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const o=v(e,["promptFeedback"]);o!=null&&y(t,["promptFeedback"],o);const l=v(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=v(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function ete(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ws(e,r)),n}function tte(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ws(e,r)),n}function nte(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function rte(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function ite(e){const t={},n=v(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=v(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function ate(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["request","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let u=dr(i);Array.isArray(u)&&(u=u.map(f=>FU(f))),y(n,["request","contents"],u)}const o=v(t,["metadata"]);o!=null&&y(n,["metadata"],o);const l=v(t,["config"]);return l!=null&&y(n,["request","generationConfig"],Qee(e,l,v(n,["request"],{}))),n}function ote(e){const t={},n=v(e,["response"]);n!=null&&y(t,["response"],Zee(n));const r=v(e,["error"]);return r!=null&&y(t,["error"],r),t}function ste(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);if(t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),v(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function lte(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);t!==void 0&&i!=null&&y(t,["_query","pageToken"],i);const o=v(e,["filter"]);return t!==void 0&&o!=null&&y(t,["_query","filter"],o),n}function ute(e){const t={},n=v(e,["config"]);return n!=null&&ste(n,t),t}function cte(e){const t={},n=v(e,["config"]);return n!=null&&lte(n,t),t}function fte(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Zf(l))),y(t,["batchJobs"],o)}return t}function dte(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>L0(l))),y(t,["batchJobs"],o)}return t}function hte(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],Jee(o));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],Wee(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=v(e,["inlineData"]);f!=null&&y(t,["inlineData"],Mee(f));const d=v(e,["text"]);d!=null&&y(t,["text"],d);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function pte(e){const t={},n=v(e,["category"]);if(n!=null&&y(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function mte(e){const t={},n=v(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],Xee(n));const r=v(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function vte(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const o=v(e,["fileSearch"]);o!=null&&y(t,["fileSearch"],o);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],nte(u));const f=v(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],rte(f));const d=v(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ri;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Ri||(Ri={}));class _o{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gte extends Li{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _o(Ri.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=zP(this.apiClient,t),r=n._url,i=ce("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const h of f){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=g,m.request=_}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),l=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=qee(this.apiClient,t);return u=ce("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>L0(h))}else{const d=zP(this.apiClient,t);return u=ce("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Zf(h))}}async createEmbeddingsInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$ee(this.apiClient,t);return o=ce("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Zf(f))}}async get(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=tte(this.apiClient,t);return u=ce("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>L0(h))}else{const d=ete(this.apiClient,t);return u=ce("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Zf(h))}}async cancel(t){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const f=Dee(this.apiClient,t);l=ce("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=Nee(this.apiClient,t);l=ce("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=cte(t);return u=ce("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=dte(h),g=new UP;return Object.assign(g,m),g})}else{const d=ute(t);return u=ce("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=fte(h),g=new UP;return Object.assign(g,m),g})}}async delete(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Gee(this.apiClient,t);return u=ce("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>Vee(h))}else{const d=Hee(this.apiClient,t);return u=ce("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>jee(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yte(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function $P(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$te(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function bte(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const o=v(e,["displayName"]);t!==void 0&&o!=null&&y(t,["displayName"],o);const l=v(e,["contents"]);if(t!==void 0&&l!=null){let h=dr(l);Array.isArray(h)&&(h=h.map(m=>$P(m))),y(t,["contents"],h)}const u=v(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],$P(pn(u)));const f=v(e,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>Gte(m))),y(t,["tools"],h)}const d=v(e,["toolConfig"]);if(t!==void 0&&d!=null&&y(t,["toolConfig"],Hte(d)),v(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function _te(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const o=v(e,["displayName"]);t!==void 0&&o!=null&&y(t,["displayName"],o);const l=v(e,["contents"]);if(t!==void 0&&l!=null){let m=dr(l);Array.isArray(m)&&(m=m.map(g=>g)),y(t,["contents"],m)}const u=v(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],pn(u));const f=v(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>jte(g))),y(t,["tools"],m)}const d=v(e,["toolConfig"]);t!==void 0&&d!=null&&y(t,["toolConfig"],d);const h=v(e,["kmsKeyName"]);return t!==void 0&&h!=null&&y(t,["encryption_spec","kmsKeyName"],h),n}function wte(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],DU(e,r));const i=v(t,["config"]);return i!=null&&bte(i,n),n}function Ste(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],DU(e,r));const i=v(t,["config"]);return i!=null&&_te(i,n),n}function Ete(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Bi(e,r)),n}function Tte(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Bi(e,r)),n}function Ate(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function xte(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function Cte(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Rte(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ote(e){const t={},n=v(e,["mode"]);n!=null&&y(t,["mode"],n);const r=v(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Pte(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&y(t,["description"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["parameters"]);i!=null&&y(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&y(t,["parametersJsonSchema"],o);const l=v(e,["response"]);l!=null&&y(t,["response"],l);const u=v(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function Ite(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Bi(e,r)),n}function Mte(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Bi(e,r)),n}function Nte(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function Dte(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function kte(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function Ute(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function Lte(e){const t={},n=v(e,["config"]);return n!=null&&kte(n,t),t}function Bte(e){const t={},n=v(e,["config"]);return n!=null&&Ute(n,t),t}function qte(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["cachedContents"],o)}return t}function zte(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["cachedContents"],o)}return t}function $te(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],Cte(o));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],Rte(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=v(e,["inlineData"]);f!=null&&y(t,["inlineData"],yte(f));const d=v(e,["text"]);d!=null&&y(t,["text"],d);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function Hte(e){const t={},n=v(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],Ote(n));const r=v(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function Gte(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const o=v(e,["fileSearch"]);o!=null&&y(t,["fileSearch"],o);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],Nte(u));const f=v(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],Dte(f));const d=v(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function jte(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>Pte(g))),y(t,["functionDeclarations"],m)}const r=v(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=v(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const o=v(e,["computerUse"]);if(o!=null&&y(t,["computerUse"],o),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=v(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=v(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const f=v(e,["googleMaps"]);f!=null&&y(t,["googleMaps"],f);const d=v(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=v(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function Vte(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function Fte(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function Kte(e,t){const n={},r=v(t,["name"]);r!=null&&y(n,["_url","name"],Bi(e,r));const i=v(t,["config"]);return i!=null&&Vte(i,n),n}function Yte(e,t){const n={},r=v(t,["name"]);r!=null&&y(n,["_url","name"],Bi(e,r));const i=v(t,["config"]);return i!=null&&Fte(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jte extends Li{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _o(Ri.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Ste(this.apiClient,t);return u=ce("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=wte(this.apiClient,t);return u=ce("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Mte(this.apiClient,t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=Ite(this.apiClient,t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Tte(this.apiClient,t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=xte(h),g=new DP;return Object.assign(g,m),g})}else{const d=Ete(this.apiClient,t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=Ate(h),g=new DP;return Object.assign(g,m),g})}}async update(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Yte(this.apiClient,t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=Kte(this.apiClient,t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Bte(t);return u=ce("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=zte(h),g=new kP;return Object.assign(g,m),g})}else{const d=Lte(t);return u=ce("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=qte(h),g=new kP;return Object.assign(g,m),g})}}}function Qd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function HP(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(e){return this instanceof Ce?(this.v=e,this):new Ce(e)}function Rr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(_){return function(S){return Promise.resolve(S).then(_,m)}}function u(_,S){r[_]&&(i[_]=function(E){return new Promise(function(T,C){o.push([_,E,T,C])>1||f(_,E)})},S&&(i[_]=S(i[_])))}function f(_,S){try{d(r[_](S))}catch(E){g(o[0][3],E)}}function d(_){_.value instanceof Ce?Promise.resolve(_.value.v).then(h,m):g(o[0][2],_)}function h(_){f("next",_)}function m(_){f("throw",_)}function g(_,S){_(S),o.shift(),o.length&&f(o[0][0],o[0][1])}}function Or(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof HP=="function"?HP(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(u,f){l=e[o](l),i(u,f,l.done,l.value)})}}function i(o,l,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wte(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:KU(n)}function KU(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Xte(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function GP(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!KU(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class Qte{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Zte(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Zte{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Xte(o)}async sendMessage(t){var n;await this.sendPromise;const r=pn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const f=await i,d=(l=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=d?[d]:[];this.recordHistory(r,_,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=pn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?GP(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Rr(this,arguments,function*(){var i,o,l,u,f,d;const h=[];try{for(var m=!0,g=Or(t),_;_=yield Ce(g.next()),i=_.done,!i;m=!0){u=_.value,m=!1;const S=u;if(Wte(S)){const E=(d=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;E!==void 0&&h.push(E)}yield yield Ce(S)}}catch(S){o={error:S}}finally{try{!m&&!i&&(l=g.return)&&(yield Ce(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...GP(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qh extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Qh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ene(e){const t={},n=v(e,["file"]);return n!=null&&y(t,["file"],n),t}function tne(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function nne(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","file"],zU(n)),t}function rne(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function ine(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","file"],zU(n)),t}function ane(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function one(e){const t={},n=v(e,["config"]);return n!=null&&ane(n,t),t}function sne(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lne extends Li{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _o(Ri.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=one(t);return o=ce("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=sne(f),h=new dee;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ene(t);return o=ce("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=tne(f),h=new hee;return Object.assign(h,d),h})}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ine(t);return o=ce("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nne(t);return o=ce("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=rne(f),h=new pee;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ed(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function une(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ane(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function cne(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function fne(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function dne(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&y(t,["description"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["parameters"]);i!=null&&y(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&y(t,["parametersJsonSchema"],o);const l=v(e,["response"]);l!=null&&y(t,["response"],l);const u=v(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function hne(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=v(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const o=v(e,["candidateCount"]);o!=null&&y(t,["candidateCount"],o);const l=v(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=v(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const f=v(e,["logprobs"]);f!=null&&y(t,["logprobs"],f);const d=v(e,["maxOutputTokens"]);d!=null&&y(t,["maxOutputTokens"],d);const h=v(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=v(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const g=v(e,["responseLogprobs"]);g!=null&&y(t,["responseLogprobs"],g);const _=v(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const S=v(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const E=v(e,["responseSchema"]);E!=null&&y(t,["responseSchema"],E);const T=v(e,["routingConfig"]);T!=null&&y(t,["routingConfig"],T);const C=v(e,["seed"]);C!=null&&y(t,["seed"],C);const O=v(e,["speechConfig"]);O!=null&&y(t,["speechConfig"],O);const R=v(e,["stopSequences"]);R!=null&&y(t,["stopSequences"],R);const I=v(e,["temperature"]);I!=null&&y(t,["temperature"],I);const M=v(e,["thinkingConfig"]);M!=null&&y(t,["thinkingConfig"],M);const N=v(e,["topK"]);N!=null&&y(t,["topK"],N);const k=v(e,["topP"]);if(k!=null&&y(t,["topP"],k),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function pne(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function mne(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function vne(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=v(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const d=v(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=v(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],nw(m));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const _=v(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],une(pn(S)));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let N=Js(E);Array.isArray(N)&&(N=N.map(k=>Cne(Ys(k)))),y(t,["setup","tools"],N)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],xne(T));const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const O=v(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const R=v(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=v(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const M=v(e,["proactivity"]);if(t!==void 0&&M!=null&&y(t,["setup","proactivity"],M),v(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function gne(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],hne(r));const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=v(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const d=v(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=v(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],nw(m));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const _=v(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],pn(S));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let k=Js(E);Array.isArray(k)&&(k=k.map(H=>Rne(Ys(H)))),y(t,["setup","tools"],k)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],T);const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const O=v(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const R=v(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=v(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const M=v(e,["proactivity"]);t!==void 0&&M!=null&&y(t,["setup","proactivity"],M);const N=v(e,["explicitVadSignal"]);return t!==void 0&&N!=null&&y(t,["setup","explicitVadSignal"],N),n}function yne(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],$e(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],vne(i,n)),n}function bne(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],$e(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],gne(i,n)),n}function _ne(e){const t={},n=v(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function wne(e){const t={},n=v(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["weightedPrompts"],r)}return t}function Sne(e){const t={},n=v(e,["media"]);if(n!=null){let d=kU(n);Array.isArray(d)&&(d=d.map(h=>ed(h))),y(t,["mediaChunks"],d)}const r=v(e,["audio"]);r!=null&&y(t,["audio"],ed(LU(r)));const i=v(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const o=v(e,["video"]);o!=null&&y(t,["video"],ed(UU(o)));const l=v(e,["text"]);l!=null&&y(t,["text"],l);const u=v(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const f=v(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function Ene(e){const t={},n=v(e,["media"]);if(n!=null){let d=kU(n);Array.isArray(d)&&(d=d.map(h=>h)),y(t,["mediaChunks"],d)}const r=v(e,["audio"]);r!=null&&y(t,["audio"],LU(r));const i=v(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const o=v(e,["video"]);o!=null&&y(t,["video"],UU(o));const l=v(e,["text"]);l!=null&&y(t,["text"],l);const u=v(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const f=v(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function Tne(e){const t={},n=v(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=v(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const i=v(e,["toolCall"]);i!=null&&y(t,["toolCall"],i);const o=v(e,["toolCallCancellation"]);o!=null&&y(t,["toolCallCancellation"],o);const l=v(e,["usageMetadata"]);l!=null&&y(t,["usageMetadata"],One(l));const u=v(e,["goAway"]);u!=null&&y(t,["goAway"],u);const f=v(e,["sessionResumptionUpdate"]);f!=null&&y(t,["sessionResumptionUpdate"],f);const d=v(e,["voiceActivityDetectionSignal"]);return d!=null&&y(t,["voiceActivityDetectionSignal"],d),t}function Ane(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],cne(o));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],fne(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=v(e,["inlineData"]);f!=null&&y(t,["inlineData"],ed(f));const d=v(e,["text"]);d!=null&&y(t,["text"],d);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function xne(e){const t={},n=v(e,["handle"]);if(n!=null&&y(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Cne(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const o=v(e,["fileSearch"]);o!=null&&y(t,["fileSearch"],o);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],pne(u));const f=v(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],mne(f));const d=v(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function Rne(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>dne(g))),y(t,["functionDeclarations"],m)}const r=v(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=v(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const o=v(e,["computerUse"]);if(o!=null&&y(t,["computerUse"],o),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=v(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=v(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const f=v(e,["googleMaps"]);f!=null&&y(t,["googleMaps"],f);const d=v(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=v(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function One(e){const t={},n=v(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=v(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const i=v(e,["candidatesTokenCount"]);i!=null&&y(t,["responseTokenCount"],i);const o=v(e,["toolUsePromptTokenCount"]);o!=null&&y(t,["toolUsePromptTokenCount"],o);const l=v(e,["thoughtsTokenCount"]);l!=null&&y(t,["thoughtsTokenCount"],l);const u=v(e,["totalTokenCount"]);u!=null&&y(t,["totalTokenCount"],u);const f=v(e,["promptTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["promptTokensDetails"],_)}const d=v(e,["cacheTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["cacheTokensDetails"],_)}const h=v(e,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["responseTokensDetails"],_)}const m=v(e,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["toolUsePromptTokensDetails"],_)}const g=v(e,["trafficType"]);return g!=null&&y(t,["trafficType"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pne(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Ine(e){const t={},n=v(e,["content"]);n!=null&&y(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],Mne(r));const i=v(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const o=v(e,["finishReason"]);o!=null&&y(t,["finishReason"],o);const l=v(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=v(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const f=v(e,["index"]);f!=null&&y(t,["index"],f);const d=v(e,["logprobsResult"]);d!=null&&y(t,["logprobsResult"],d);const h=v(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(_=>_)),y(t,["safetyRatings"],g)}const m=v(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function Mne(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function Nne(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let o=dr(i);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["contents"],o)}return n}function Dne(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(t,["tokensInfo"],i)}return t}function kne(e){const t={},n=v(e,["values"]);n!=null&&y(t,["values"],n);const r=v(e,["statistics"]);return r!=null&&y(t,["statistics"],Une(r)),t}function Une(e){const t={},n=v(e,["truncated"]);n!=null&&y(t,["truncated"],n);const r=v(e,["token_count"]);return r!=null&&y(t,["tokenCount"],r),t}function Zh(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Vre(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function Lne(e){const t={},n=v(e,["controlType"]);n!=null&&y(t,["controlType"],n);const r=v(e,["enableControlImageComputation"]);return r!=null&&y(t,["computeControl"],r),t}function Bne(e){const t={};if(v(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function qne(e,t){const n={},r=v(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],pn(r));const i=v(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>XU(u))),y(t,["tools"],l)}const o=v(e,["generationConfig"]);return t!==void 0&&o!=null&&y(t,["generationConfig"],Pre(o)),n}function zne(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let l=dr(i);Array.isArray(l)&&(l=l.map(u=>Zh(u))),y(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&Bne(o),n}function $ne(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let l=dr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&qne(o,n),n}function Hne(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["totalTokens"]);r!=null&&y(t,["totalTokens"],r);const i=v(e,["cachedContentTokenCount"]);return i!=null&&y(t,["cachedContentTokenCount"],i),t}function Gne(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["totalTokens"]);return r!=null&&y(t,["totalTokens"],r),t}function jne(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],$e(e,r)),n}function Vne(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],$e(e,r)),n}function Fne(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function Kne(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function Yne(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=v(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const o=v(e,["numberOfImages"]);t!==void 0&&o!=null&&y(t,["parameters","sampleCount"],o);const l=v(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=v(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const f=v(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const d=v(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&y(t,["parameters","safetySetting"],d);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=v(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const g=v(e,["includeRaiReason"]);t!==void 0&&g!=null&&y(t,["parameters","includeRaiReason"],g);const _=v(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const S=v(e,["outputMimeType"]);t!==void 0&&S!=null&&y(t,["parameters","outputOptions","mimeType"],S);const E=v(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","compressionQuality"],E);const T=v(e,["addWatermark"]);t!==void 0&&T!=null&&y(t,["parameters","addWatermark"],T);const C=v(e,["labels"]);t!==void 0&&C!=null&&y(t,["labels"],C);const O=v(e,["editMode"]);t!==void 0&&O!=null&&y(t,["parameters","editMode"],O);const R=v(e,["baseSteps"]);return t!==void 0&&R!=null&&y(t,["parameters","editConfig","baseSteps"],R),n}function Jne(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=v(t,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Xre(f))),y(n,["instances[0]","referenceImages"],u)}const l=v(t,["config"]);return l!=null&&Yne(l,n),n}function Wne(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ep(o))),y(t,["generatedImages"],i)}return t}function Xne(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const o=v(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&y(t,["requests[]","outputDimensionality"],o),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Qne(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&y(t,["instances[]","task_type"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&y(t,["instances[]","title"],i);const o=v(e,["outputDimensionality"]);t!==void 0&&o!=null&&y(t,["parameters","outputDimensionality"],o);const l=v(e,["mimeType"]);t!==void 0&&l!=null&&y(t,["instances[]","mimeType"],l);const u=v(e,["autoTruncate"]);return t!==void 0&&u!=null&&y(t,["parameters","autoTruncate"],u),n}function Zne(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let u=Z_(e,i);Array.isArray(u)&&(u=u.map(f=>f)),y(n,["requests[]","content"],u)}const o=v(t,["config"]);o!=null&&Xne(o,n);const l=v(t,["model"]);return l!==void 0&&y(n,["requests[]","model"],$e(e,l)),n}function ere(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let l=Z_(e,i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["instances[]","content"],l)}const o=v(t,["config"]);return o!=null&&Qne(o,n),n}function tre(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["embeddings"],o)}const i=v(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function nre(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>kne(l))),y(t,["embeddings"],o)}const i=v(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function rre(e){const t={},n=v(e,["endpoint"]);n!=null&&y(t,["name"],n);const r=v(e,["deployedModelId"]);return r!=null&&y(t,["deployedModelId"],r),t}function ire(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function are(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ore(e){const t={},n=v(e,["mode"]);n!=null&&y(t,["mode"],n);const r=v(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function sre(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&y(t,["description"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["parameters"]);i!=null&&y(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&y(t,["parametersJsonSchema"],o);const l=v(e,["response"]);l!=null&&y(t,["response"],l);const u=v(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function lre(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Zh(pn(i)));const o=v(t,["temperature"]);o!=null&&y(r,["temperature"],o);const l=v(t,["topP"]);l!=null&&y(r,["topP"],l);const u=v(t,["topK"]);u!=null&&y(r,["topK"],u);const f=v(t,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=v(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=v(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=v(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const g=v(t,["logprobs"]);g!=null&&y(r,["logprobs"],g);const _=v(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const S=v(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(t,["seed"]);E!=null&&y(r,["seed"],E);const T=v(t,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const C=v(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],ew(C));const O=v(t,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=v(t,["safetySettings"]);if(n!==void 0&&R!=null){let oe=R;Array.isArray(oe)&&(oe=oe.map(fe=>Qre(fe))),y(n,["safetySettings"],oe)}const I=v(t,["tools"]);if(n!==void 0&&I!=null){let oe=Js(I);Array.isArray(oe)&&(oe=oe.map(fe=>aie(Ys(fe)))),y(n,["tools"],oe)}const M=v(t,["toolConfig"]);if(n!==void 0&&M!=null&&y(n,["toolConfig"],iie(M)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=v(t,["cachedContent"]);n!==void 0&&N!=null&&y(n,["cachedContent"],Bi(e,N));const k=v(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const H=v(t,["mediaResolution"]);H!=null&&y(r,["mediaResolution"],H);const q=v(t,["speechConfig"]);if(q!=null&&y(r,["speechConfig"],tw(q)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=v(t,["thinkingConfig"]);ne!=null&&y(r,["thinkingConfig"],ne);const J=v(t,["imageConfig"]);J!=null&&y(r,["imageConfig"],kre(J));const ee=v(t,["enableEnhancedCivicAnswers"]);return ee!=null&&y(r,["enableEnhancedCivicAnswers"],ee),r}function ure(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],pn(i));const o=v(t,["temperature"]);o!=null&&y(r,["temperature"],o);const l=v(t,["topP"]);l!=null&&y(r,["topP"],l);const u=v(t,["topK"]);u!=null&&y(r,["topK"],u);const f=v(t,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=v(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=v(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=v(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const g=v(t,["logprobs"]);g!=null&&y(r,["logprobs"],g);const _=v(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const S=v(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(t,["seed"]);E!=null&&y(r,["seed"],E);const T=v(t,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const C=v(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],ew(C));const O=v(t,["responseJsonSchema"]);O!=null&&y(r,["responseJsonSchema"],O);const R=v(t,["routingConfig"]);R!=null&&y(r,["routingConfig"],R);const I=v(t,["modelSelectionConfig"]);I!=null&&y(r,["modelConfig"],I);const M=v(t,["safetySettings"]);if(n!==void 0&&M!=null){let $=M;Array.isArray($)&&($=$.map(Z=>Z)),y(n,["safetySettings"],$)}const N=v(t,["tools"]);if(n!==void 0&&N!=null){let $=Js(N);Array.isArray($)&&($=$.map(Z=>XU(Ys(Z)))),y(n,["tools"],$)}const k=v(t,["toolConfig"]);n!==void 0&&k!=null&&y(n,["toolConfig"],k);const H=v(t,["labels"]);n!==void 0&&H!=null&&y(n,["labels"],H);const q=v(t,["cachedContent"]);n!==void 0&&q!=null&&y(n,["cachedContent"],Bi(e,q));const ne=v(t,["responseModalities"]);ne!=null&&y(r,["responseModalities"],ne);const J=v(t,["mediaResolution"]);J!=null&&y(r,["mediaResolution"],J);const ee=v(t,["speechConfig"]);ee!=null&&y(r,["speechConfig"],tw(ee));const oe=v(t,["audioTimestamp"]);oe!=null&&y(r,["audioTimestamp"],oe);const fe=v(t,["thinkingConfig"]);fe!=null&&y(r,["thinkingConfig"],fe);const me=v(t,["imageConfig"]);if(me!=null&&y(r,["imageConfig"],Ure(me)),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function jP(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let l=dr(i);Array.isArray(l)&&(l=l.map(u=>Zh(u))),y(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&y(n,["generationConfig"],lre(e,o,n)),n}function VP(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let l=dr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&y(n,["generationConfig"],ure(e,o,n)),n}function FP(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>Ine(d))),y(t,["candidates"],f)}const i=v(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const o=v(e,["promptFeedback"]);o!=null&&y(t,["promptFeedback"],o);const l=v(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=v(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function KP(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),y(t,["candidates"],d)}const i=v(e,["createTime"]);i!=null&&y(t,["createTime"],i);const o=v(e,["modelVersion"]);o!=null&&y(t,["modelVersion"],o);const l=v(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const u=v(e,["responseId"]);u!=null&&y(t,["responseId"],u);const f=v(e,["usageMetadata"]);return f!=null&&y(t,["usageMetadata"],f),t}function cre(e,t){const n={};if(v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=v(e,["aspectRatio"]);t!==void 0&&i!=null&&y(t,["parameters","aspectRatio"],i);const o=v(e,["guidanceScale"]);if(t!==void 0&&o!=null&&y(t,["parameters","guidanceScale"],o),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=v(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&y(t,["parameters","safetySetting"],l);const u=v(e,["personGeneration"]);t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u);const f=v(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&y(t,["parameters","includeSafetyAttributes"],f);const d=v(e,["includeRaiReason"]);t!==void 0&&d!=null&&y(t,["parameters","includeRaiReason"],d);const h=v(e,["language"]);t!==void 0&&h!=null&&y(t,["parameters","language"],h);const m=v(e,["outputMimeType"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","mimeType"],m);const g=v(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&y(t,["parameters","outputOptions","compressionQuality"],g),v(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=v(e,["imageSize"]);if(t!==void 0&&_!=null&&y(t,["parameters","sampleImageSize"],_),v(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function fre(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=v(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const o=v(e,["numberOfImages"]);t!==void 0&&o!=null&&y(t,["parameters","sampleCount"],o);const l=v(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=v(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const f=v(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const d=v(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&y(t,["parameters","safetySetting"],d);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=v(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const g=v(e,["includeRaiReason"]);t!==void 0&&g!=null&&y(t,["parameters","includeRaiReason"],g);const _=v(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const S=v(e,["outputMimeType"]);t!==void 0&&S!=null&&y(t,["parameters","outputOptions","mimeType"],S);const E=v(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","compressionQuality"],E);const T=v(e,["addWatermark"]);t!==void 0&&T!=null&&y(t,["parameters","addWatermark"],T);const C=v(e,["labels"]);t!==void 0&&C!=null&&y(t,["labels"],C);const O=v(e,["imageSize"]);t!==void 0&&O!=null&&y(t,["parameters","sampleImageSize"],O);const R=v(e,["enhancePrompt"]);return t!==void 0&&R!=null&&y(t,["parameters","enhancePrompt"],R),n}function dre(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=v(t,["config"]);return o!=null&&cre(o,n),n}function hre(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=v(t,["config"]);return o!=null&&fre(o,n),n}function pre(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>xre(l))),y(t,["generatedImages"],o)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],JU(i)),t}function mre(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>ep(l))),y(t,["generatedImages"],o)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],WU(i)),t}function vre(e,t){const n={},r=v(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r),v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(e,["durationSeconds"]);if(t!==void 0&&i!=null&&y(t,["parameters","durationSeconds"],i),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(e,["aspectRatio"]);t!==void 0&&o!=null&&y(t,["parameters","aspectRatio"],o);const l=v(e,["resolution"]);t!==void 0&&l!=null&&y(t,["parameters","resolution"],l);const u=v(e,["personGeneration"]);if(t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u),v(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=v(e,["negativePrompt"]);t!==void 0&&f!=null&&y(t,["parameters","negativePrompt"],f);const d=v(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&y(t,["parameters","enhancePrompt"],d),v(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=v(e,["lastFrame"]);t!==void 0&&h!=null&&y(t,["instances[0]","lastFrame"],tp(h));const m=v(e,["referenceImages"]);if(t!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(_=>yie(_))),y(t,["instances[0]","referenceImages"],g)}if(v(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function gre(e,t){const n={},r=v(e,["numberOfVideos"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=v(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const o=v(e,["fps"]);t!==void 0&&o!=null&&y(t,["parameters","fps"],o);const l=v(e,["durationSeconds"]);t!==void 0&&l!=null&&y(t,["parameters","durationSeconds"],l);const u=v(e,["seed"]);t!==void 0&&u!=null&&y(t,["parameters","seed"],u);const f=v(e,["aspectRatio"]);t!==void 0&&f!=null&&y(t,["parameters","aspectRatio"],f);const d=v(e,["resolution"]);t!==void 0&&d!=null&&y(t,["parameters","resolution"],d);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=v(e,["pubsubTopic"]);t!==void 0&&m!=null&&y(t,["parameters","pubsubTopic"],m);const g=v(e,["negativePrompt"]);t!==void 0&&g!=null&&y(t,["parameters","negativePrompt"],g);const _=v(e,["enhancePrompt"]);t!==void 0&&_!=null&&y(t,["parameters","enhancePrompt"],_);const S=v(e,["generateAudio"]);t!==void 0&&S!=null&&y(t,["parameters","generateAudio"],S);const E=v(e,["lastFrame"]);t!==void 0&&E!=null&&y(t,["instances[0]","lastFrame"],kr(E));const T=v(e,["referenceImages"]);if(t!==void 0&&T!=null){let R=T;Array.isArray(R)&&(R=R.map(I=>bie(I))),y(t,["instances[0]","referenceImages"],R)}const C=v(e,["mask"]);t!==void 0&&C!=null&&y(t,["instances[0]","mask"],gie(C));const O=v(e,["compressionQuality"]);return t!==void 0&&O!=null&&y(t,["parameters","compressionQuality"],O),n}function yre(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],Sre(l)),t}function bre(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response"]);return l!=null&&y(t,["response"],Ere(l)),t}function _re(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=v(t,["image"]);o!=null&&y(n,["instances[0]","image"],tp(o));const l=v(t,["video"]);l!=null&&y(n,["instances[0]","video"],QU(l));const u=v(t,["source"]);u!=null&&Tre(u,n);const f=v(t,["config"]);return f!=null&&vre(f,n),n}function wre(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=v(t,["image"]);o!=null&&y(n,["instances[0]","image"],kr(o));const l=v(t,["video"]);l!=null&&y(n,["instances[0]","video"],ZU(l));const u=v(t,["source"]);u!=null&&Are(u,n);const f=v(t,["config"]);return f!=null&&gre(f,n),n}function Sre(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Rre(l))),y(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function Ere(e){const t={},n=v(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Ore(l))),y(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function Tre(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],tp(i));const o=v(e,["video"]);return t!==void 0&&o!=null&&y(t,["instances[0]","video"],QU(o)),n}function Are(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],kr(i));const o=v(e,["video"]);return t!==void 0&&o!=null&&y(t,["instances[0]","video"],ZU(o)),n}function xre(e){const t={},n=v(e,["_self"]);n!=null&&y(t,["image"],Lre(n));const r=v(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=v(e,["_self"]);return i!=null&&y(t,["safetyAttributes"],JU(i)),t}function ep(e){const t={},n=v(e,["_self"]);n!=null&&y(t,["image"],YU(n));const r=v(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=v(e,["_self"]);i!=null&&y(t,["safetyAttributes"],WU(i));const o=v(e,["prompt"]);return o!=null&&y(t,["enhancedPrompt"],o),t}function Cre(e){const t={},n=v(e,["_self"]);n!=null&&y(t,["mask"],YU(n));const r=v(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(t,["labels"],i)}return t}function Rre(e){const t={},n=v(e,["video"]);return n!=null&&y(t,["video"],mie(n)),t}function Ore(e){const t={},n=v(e,["_self"]);return n!=null&&y(t,["video"],vie(n)),t}function Pre(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=v(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const o=v(e,["candidateCount"]);o!=null&&y(t,["candidateCount"],o);const l=v(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=v(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const f=v(e,["logprobs"]);f!=null&&y(t,["logprobs"],f);const d=v(e,["maxOutputTokens"]);d!=null&&y(t,["maxOutputTokens"],d);const h=v(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=v(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const g=v(e,["responseLogprobs"]);g!=null&&y(t,["responseLogprobs"],g);const _=v(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const S=v(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const E=v(e,["responseSchema"]);E!=null&&y(t,["responseSchema"],E);const T=v(e,["routingConfig"]);T!=null&&y(t,["routingConfig"],T);const C=v(e,["seed"]);C!=null&&y(t,["seed"],C);const O=v(e,["speechConfig"]);O!=null&&y(t,["speechConfig"],O);const R=v(e,["stopSequences"]);R!=null&&y(t,["stopSequences"],R);const I=v(e,["temperature"]);I!=null&&y(t,["temperature"],I);const M=v(e,["thinkingConfig"]);M!=null&&y(t,["thinkingConfig"],M);const N=v(e,["topK"]);N!=null&&y(t,["topK"],N);const k=v(e,["topP"]);if(k!=null&&y(t,["topP"],k),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Ire(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],$e(e,r)),n}function Mre(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],$e(e,r)),n}function Nre(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function Dre(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function kre(e){const t={},n=v(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=v(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Ure(e){const t={},n=v(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=v(e,["imageSize"]);r!=null&&y(t,["imageSize"],r);const i=v(e,["outputMimeType"]);i!=null&&y(t,["imageOutputOptions","mimeType"],i);const o=v(e,["outputCompressionQuality"]);return o!=null&&y(t,["imageOutputOptions","compressionQuality"],o),t}function Lre(e){const t={},n=v(e,["bytesBase64Encoded"]);n!=null&&y(t,["imageBytes"],Ea(n));const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function YU(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&y(t,["imageBytes"],Ea(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function tp(e){const t={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(e,["imageBytes"]);n!=null&&y(t,["bytesBase64Encoded"],Ea(n));const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function kr(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=v(e,["imageBytes"]);r!=null&&y(t,["bytesBase64Encoded"],Ea(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function Bre(e,t,n){const r={},i=v(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=v(t,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=v(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=v(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],$U(e,u)),r}function qre(e,t,n){const r={},i=v(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=v(t,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=v(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=v(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],$U(e,u)),r}function zre(e,t){const n={},r=v(t,["config"]);return r!=null&&Bre(e,r,n),n}function $re(e,t){const n={},r=v(t,["config"]);return r!=null&&qre(e,r,n),n}function Hre(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=HU(i);Array.isArray(o)&&(o=o.map(l=>B0(l))),y(t,["models"],o)}return t}function Gre(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=HU(i);Array.isArray(o)&&(o=o.map(l=>q0(l))),y(t,["models"],o)}return t}function jre(e){const t={},n=v(e,["maskMode"]);n!=null&&y(t,["maskMode"],n);const r=v(e,["segmentationClasses"]);r!=null&&y(t,["maskClasses"],r);const i=v(e,["maskDilation"]);return i!=null&&y(t,["dilation"],i),t}function B0(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);i!=null&&y(t,["description"],i);const o=v(e,["version"]);o!=null&&y(t,["version"],o);const l=v(e,["_self"]);l!=null&&y(t,["tunedModelInfo"],oie(l));const u=v(e,["inputTokenLimit"]);u!=null&&y(t,["inputTokenLimit"],u);const f=v(e,["outputTokenLimit"]);f!=null&&y(t,["outputTokenLimit"],f);const d=v(e,["supportedGenerationMethods"]);d!=null&&y(t,["supportedActions"],d);const h=v(e,["temperature"]);h!=null&&y(t,["temperature"],h);const m=v(e,["maxTemperature"]);m!=null&&y(t,["maxTemperature"],m);const g=v(e,["topP"]);g!=null&&y(t,["topP"],g);const _=v(e,["topK"]);_!=null&&y(t,["topK"],_);const S=v(e,["thinking"]);return S!=null&&y(t,["thinking"],S),t}function q0(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);i!=null&&y(t,["description"],i);const o=v(e,["versionId"]);o!=null&&y(t,["version"],o);const l=v(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>rre(g))),y(t,["endpoints"],m)}const u=v(e,["labels"]);u!=null&&y(t,["labels"],u);const f=v(e,["_self"]);f!=null&&y(t,["tunedModelInfo"],sie(f));const d=v(e,["defaultCheckpointId"]);d!=null&&y(t,["defaultCheckpointId"],d);const h=v(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),y(t,["checkpoints"],m)}return t}function Vre(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],ire(o));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],are(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=v(e,["inlineData"]);f!=null&&y(t,["inlineData"],Pne(f));const d=v(e,["text"]);d!=null&&y(t,["text"],d);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function Fre(e){const t={},n=v(e,["productImage"]);return n!=null&&y(t,["image"],kr(n)),t}function Kre(e,t){const n={},r=v(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=v(e,["baseSteps"]);t!==void 0&&i!=null&&y(t,["parameters","baseSteps"],i);const o=v(e,["outputGcsUri"]);t!==void 0&&o!=null&&y(t,["parameters","storageUri"],o);const l=v(e,["seed"]);t!==void 0&&l!=null&&y(t,["parameters","seed"],l);const u=v(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&y(t,["parameters","safetySetting"],u);const f=v(e,["personGeneration"]);t!==void 0&&f!=null&&y(t,["parameters","personGeneration"],f);const d=v(e,["addWatermark"]);t!==void 0&&d!=null&&y(t,["parameters","addWatermark"],d);const h=v(e,["outputMimeType"]);t!==void 0&&h!=null&&y(t,["parameters","outputOptions","mimeType"],h);const m=v(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","compressionQuality"],m);const g=v(e,["enhancePrompt"]);t!==void 0&&g!=null&&y(t,["parameters","enhancePrompt"],g);const _=v(e,["labels"]);return t!==void 0&&_!=null&&y(t,["labels"],_),n}function Yre(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["source"]);i!=null&&Wre(i,n);const o=v(t,["config"]);return o!=null&&Kre(o,n),n}function Jre(e){const t={},n=v(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ep(i))),y(t,["generatedImages"],r)}return t}function Wre(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["personImage"]);t!==void 0&&i!=null&&y(t,["instances[0]","personImage","image"],kr(i));const o=v(e,["productImages"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Fre(u))),y(t,["instances[0]","productImages"],l)}return n}function Xre(e){const t={},n=v(e,["referenceImage"]);n!=null&&y(t,["referenceImage"],kr(n));const r=v(e,["referenceId"]);r!=null&&y(t,["referenceId"],r);const i=v(e,["referenceType"]);i!=null&&y(t,["referenceType"],i);const o=v(e,["maskImageConfig"]);o!=null&&y(t,["maskImageConfig"],jre(o));const l=v(e,["controlImageConfig"]);l!=null&&y(t,["controlImageConfig"],Lne(l));const u=v(e,["styleImageConfig"]);u!=null&&y(t,["styleImageConfig"],u);const f=v(e,["subjectImageConfig"]);return f!=null&&y(t,["subjectImageConfig"],f),t}function JU(e){const t={},n=v(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=v(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=v(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function WU(e){const t={},n=v(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=v(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=v(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function Qre(e){const t={},n=v(e,["category"]);if(n!=null&&y(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function Zre(e){const t={},n=v(e,["image"]);return n!=null&&y(t,["image"],kr(n)),t}function eie(e,t){const n={},r=v(e,["mode"]);t!==void 0&&r!=null&&y(t,["parameters","mode"],r);const i=v(e,["maxPredictions"]);t!==void 0&&i!=null&&y(t,["parameters","maxPredictions"],i);const o=v(e,["confidenceThreshold"]);t!==void 0&&o!=null&&y(t,["parameters","confidenceThreshold"],o);const l=v(e,["maskDilation"]);t!==void 0&&l!=null&&y(t,["parameters","maskDilation"],l);const u=v(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&y(t,["parameters","binaryColorThreshold"],u);const f=v(e,["labels"]);return t!==void 0&&f!=null&&y(t,["labels"],f),n}function tie(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["source"]);i!=null&&rie(i,n);const o=v(t,["config"]);return o!=null&&eie(o,n),n}function nie(e){const t={},n=v(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Cre(i))),y(t,["generatedMasks"],r)}return t}function rie(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],kr(i));const o=v(e,["scribbleImage"]);return t!==void 0&&o!=null&&y(t,["instances[0]","scribble"],Zre(o)),n}function iie(e){const t={},n=v(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],ore(n));const r=v(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function aie(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const o=v(e,["fileSearch"]);o!=null&&y(t,["fileSearch"],o);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],Nre(u));const f=v(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],Dre(f));const d=v(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function XU(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>sre(g))),y(t,["functionDeclarations"],m)}const r=v(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=v(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const o=v(e,["computerUse"]);if(o!=null&&y(t,["computerUse"],o),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=v(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=v(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const f=v(e,["googleMaps"]);f!=null&&y(t,["googleMaps"],f);const d=v(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=v(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function oie(e){const t={},n=v(e,["baseModel"]);n!=null&&y(t,["baseModel"],n);const r=v(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=v(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function sie(e){const t={},n=v(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(t,["baseModel"],n);const r=v(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=v(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function lie(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const o=v(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&y(t,["defaultCheckpointId"],o),n}function uie(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const o=v(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&y(t,["defaultCheckpointId"],o),n}function cie(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","name"],$e(e,r));const i=v(t,["config"]);return i!=null&&lie(i,n),n}function fie(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["config"]);return i!=null&&uie(i,n),n}function die(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=v(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&y(t,["parameters","safetySetting"],i);const o=v(e,["personGeneration"]);t!==void 0&&o!=null&&y(t,["parameters","personGeneration"],o);const l=v(e,["includeRaiReason"]);t!==void 0&&l!=null&&y(t,["parameters","includeRaiReason"],l);const u=v(e,["outputMimeType"]);t!==void 0&&u!=null&&y(t,["parameters","outputOptions","mimeType"],u);const f=v(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&y(t,["parameters","outputOptions","compressionQuality"],f);const d=v(e,["enhanceInputImage"]);t!==void 0&&d!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],d);const h=v(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=v(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const g=v(e,["numberOfImages"]);t!==void 0&&g!=null&&y(t,["parameters","sampleCount"],g);const _=v(e,["mode"]);return t!==void 0&&_!=null&&y(t,["parameters","mode"],_),n}function hie(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["image"]);i!=null&&y(n,["instances[0]","image"],kr(i));const o=v(t,["upscaleFactor"]);o!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=v(t,["config"]);return l!=null&&die(l,n),n}function pie(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ep(o))),y(t,["generatedImages"],i)}return t}function mie(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],Ea(r));const i=v(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function vie(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],Ea(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function gie(e){const t={},n=v(e,["image"]);n!=null&&y(t,["_self"],kr(n));const r=v(e,["maskMode"]);return r!=null&&y(t,["maskMode"],r),t}function yie(e){const t={},n=v(e,["image"]);n!=null&&y(t,["image"],tp(n));const r=v(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function bie(e){const t={},n=v(e,["image"]);n!=null&&y(t,["image"],kr(n));const r=v(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function QU(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["uri"],n);const r=v(e,["videoBytes"]);r!=null&&y(t,["encodedVideo"],Ea(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["encoding"],i),t}function ZU(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["gcsUri"],n);const r=v(e,["videoBytes"]);r!=null&&y(t,["bytesBase64Encoded"],Ea(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _ie(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function wie(e){const t={},n=v(e,["config"]);return n!=null&&_ie(n,t),t}function Sie(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function Eie(e){const t={},n=v(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&Sie(r,t),t}function Tie(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function Aie(e,t){const n={},r=v(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["customMetadata"],o)}const i=v(e,["chunkingConfig"]);return t!==void 0&&i!=null&&y(t,["chunkingConfig"],i),n}function xie(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const l=v(e,["response"]);return l!=null&&y(t,["response"],Rie(l)),t}function Cie(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=v(e,["fileName"]);r!=null&&y(t,["fileName"],r);const i=v(e,["config"]);return i!=null&&Aie(i,t),t}function Rie(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function Oie(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function Pie(e){const t={},n=v(e,["config"]);return n!=null&&Oie(n,t),t}function Iie(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["fileSearchStores"],o)}return t}function e2(e,t){const n={},r=v(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const i=v(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const o=v(e,["customMetadata"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),y(t,["customMetadata"],u)}const l=v(e,["chunkingConfig"]);return t!==void 0&&l!=null&&y(t,["chunkingConfig"],l),n}function Mie(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=v(e,["config"]);return r!=null&&e2(r,t),t}function Nie(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Die="Content-Type",kie="X-Server-Timeout",Uie="User-Agent",z0="x-goog-api-client",Lie="1.34.0",Bie=`google-genai-sdk/${Lie}`,qie="v1beta1",zie="v1beta";class $ie{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:qie,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:zie,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=l}return n&&n.extraBody!==null&&Hie(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await YP(i),new k0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await YP(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Rr(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield Ce(i.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(h,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),T=E.status,C=E.code,O=`got status: ${T}. ${JSON.stringify(S)}`;if(C>=400&&C<600)throw new Qh({message:O,status:C})}}catch(S){if(S.name==="ApiError")throw S}l+=m;let g=-1,_=0;for(;;){g=-1,_=0;for(const T of f){const C=l.indexOf(T);C!==-1&&(g===-1||C<g)&&(g=C,_=T.length)}if(g===-1)break;const S=l.substring(0,g);l=l.substring(g+_);const E=S.trim();if(E.startsWith(u)){const T=E.substring(u.length).trim();try{const C=new Response(T,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ce(new k0(C))}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=Bie+" "+this.clientOptions.userAgentExtra;return t[Uie]=n,t[z0]=n,t[Die]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(kie,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},d=this.getFileName(t),h=ce("upload/v1beta/files",f._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return o.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),u=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&e2(r,m);const g=await this.fetchUploadUrl(d,u,f,h,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,g,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,l){var u;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function YP(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Qh({message:i,status:n}):new Error(i)}}function Hie(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],h=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gie="mcp_used/unknown";let jie=!1;function t2(e){for(const t of e)if(Vie(t)||typeof t=="object"&&"inputSchema"in t)return!0;return jie}function n2(e){var t;const n=(t=e[z0])!==null&&t!==void 0?t:"";e[z0]=(n+` ${Gie}`).trimStart()}function Vie(e){return e!==null&&typeof e=="object"&&e instanceof rw}function Fie(e){return Rr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const l=yield Ce(n.listTools({cursor:i}));for(const u of l.tools)yield yield Ce(u),o++;if(!l.nextCursor)break;i=l.nextCursor}})}class rw{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new rw(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,Or(Fie(h))),d;d=await f.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const m=i;l.push(m);const g=m.name;if(o[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);o[g]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Tee(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Kie(e,t,n){const r=new vee;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class Yie{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=Xie(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(R=>{d=R}),m=t.callbacks,g=function(){d({})},_=this.apiClient,S={onopen:g,onmessage:R=>{Kie(_,m.onmessage,R)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(R){}},E=this.webSocketFactory.create(f,Wie(l),S);E.connect(),await h;const O={setup:{model:$e(this.apiClient,t.model)}};return E.send(JSON.stringify(O)),new Jie(E,this.apiClient)}}class Jie{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=wne(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=_ne(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ss.PLAY)}pause(){this.sendPlaybackControl(Ss.PAUSE)}stop(){this.sendPlaybackControl(Ss.STOP)}resetContext(){this.sendPlaybackControl(Ss.RESET_CONTEXT)}close(){this.conn.close()}}function Wie(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Xie(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qie="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Zie(e,t,n){const r=new mee;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const l=Tne(o);Object.assign(r,l)}else Object.assign(r,o);t(r)}class eae{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new Yie(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&t2(t.config.tools)&&n2(m);const g=iae(m);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const q=this.apiClient.getApiKey();let ne="BidiGenerateContent",J="key";q!=null&&q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ne="BidiGenerateContentConstrained",J="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${ne}?${J}=${q}`}let _=()=>{};const S=new Promise(q=>{_=q}),E=t.callbacks,T=function(){var q;(q=E==null?void 0:E.onopen)===null||q===void 0||q.call(E),_({})},C=this.apiClient,O={onopen:T,onmessage:q=>{Zie(C,E.onmessage,q)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(q){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(q){}},R=this.webSocketFactory.create(h,rae(g),O);R.connect(),await S;let I=$e(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const q=this.apiClient.getProject(),ne=this.apiClient.getLocation();I=`projects/${q}/locations/${ne}/`+I}let M={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Jd.AUDIO]}:t.config.responseModalities=[Jd.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],k=[];for(const q of N)if(this.isCallableTool(q)){const ne=q;k.push(await ne.tool())}else k.push(q);k.length>0&&(t.config.tools=k);const H={model:I,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?M=bne(this.apiClient,H):M=yne(this.apiClient,H),delete M.config,R.send(JSON.stringify(M)),new nae(R,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const tae={turnComplete:!0};class nae{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=dr(n.turns),t.isVertexAI()||(r=r.map(i=>Zh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(Qie)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},tae),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Ene(t)}:n={realtimeInput:Sne(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function rae(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function iae(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JP=10;function WP(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Rs(l)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Rs(e){return"callTool"in e&&typeof e.callTool=="function"}function aae(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Rs(i)))!==null&&r!==void 0?r:!1}function XP(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Rs(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function QP(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oae extends Li{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,l,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!aae(n)||WP(n.config))return await this.generateContentInternal(f);const d=XP(n);if(d.length>0){const E=d.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,m;const g=dr(f.contents),_=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:JP;let S=0;for(;S<_&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,T=[];for(const C of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Rs(C)){const R=await C.callTool(h.functionCalls);T.push(...R)}S++,m={role:"user",parts:T},f.contents=dr(f.contents),f.contents.push(E),f.contents.push(m),QP(f.config)&&(g.push(E),g.push(m))}return QP(f.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,o,l,u;if(this.maybeMoveToResponseJsonSchem(n),WP(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const f=XP(n);if(f.length>0){const m=f.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:l.push(f);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new _o(Ri.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const l=await Promise.all(o.map(async f=>Rs(f)?await f.tool():f)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&t2(t.config.tools)){const f=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),n2(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Rs(l)){const u=l,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:JP;let l=!1,u=0;const f=await this.initAfcToolsMap(t);return(function(d,h,m){return Rr(this,arguments,function*(){for(var g,_,S,E,T,C;u<o;){l&&(u++,l=!1);const M=yield Ce(d.processParamsMaybeAddMcpUsage(m)),N=yield Ce(d.generateContentStreamInternal(M)),k=[],H=[];try{for(var O=!0,R=(_=void 0,Or(N)),I;I=yield Ce(R.next()),g=I.done,!g;O=!0){E=I.value,O=!1;const q=E;if(yield yield Ce(q),q.candidates&&(!((T=q.candidates[0])===null||T===void 0)&&T.content)){H.push(q.candidates[0].content);for(const ne of(C=q.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(u<o&&ne.functionCall){if(!ne.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(ne.functionCall.name)){const J=yield Ce(h.get(ne.functionCall.name).callTool([ne.functionCall]));k.push(...J)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${ne.functionCall.name}`)}}}}catch(q){_={error:q}}finally{try{!O&&!g&&(S=R.return)&&(yield Ce(S.call(R)))}finally{if(_)throw _.error}}if(k.length>0){l=!0;const q=new Zl;q.candidates=[{content:{role:"user",parts:k}}],yield yield Ce(q);const ne=[];ne.push(...H),ne.push({role:"user",parts:k});const J=dr(m.contents).concat(ne);m.contents=J}else break}})})(this,f,t)}async generateContentInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=VP(this.apiClient,t);return u=ce("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=KP(h),g=new Zl;return Object.assign(g,m),g})}else{const d=jP(this.apiClient,t);return u=ce("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=FP(h),g=new Zl;return Object.assign(g,m),g})}}async generateContentStreamInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=VP(this.apiClient,t);return u=ce("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Rr(this,arguments,function*(){var g,_,S,E;try{for(var T=!0,C=Or(m),O;O=yield Ce(C.next()),g=O.done,!g;T=!0){E=O.value,T=!1;const R=E,I=KP(yield Ce(R.json()));I.sdkHttpResponse={headers:R.headers};const M=new Zl;Object.assign(M,I),yield yield Ce(M)}}catch(R){_={error:R}}finally{try{!T&&!g&&(S=C.return)&&(yield Ce(S.call(C)))}finally{if(_)throw _.error}}})})}else{const d=jP(this.apiClient,t);return u=ce("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Rr(this,arguments,function*(){var g,_,S,E;try{for(var T=!0,C=Or(m),O;O=yield Ce(C.next()),g=O.done,!g;T=!0){E=O.value,T=!1;const R=E,I=FP(yield Ce(R.json()));I.sdkHttpResponse={headers:R.headers};const M=new Zl;Object.assign(M,I),yield yield Ce(M)}}catch(R){_={error:R}}finally{try{!T&&!g&&(S=C.return)&&(yield Ce(S.call(C)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=ere(this.apiClient,t);return u=ce("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=nre(h),g=new CP;return Object.assign(g,m),g})}else{const d=Zne(this.apiClient,t);return u=ce("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=tre(h),g=new CP;return Object.assign(g,m),g})}}async generateImagesInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=hre(this.apiClient,t);return u=ce("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=mre(h),g=new RP;return Object.assign(g,m),g})}else{const d=dre(this.apiClient,t);return u=ce("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=pre(h),g=new RP;return Object.assign(g,m),g})}}async editImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Jne(this.apiClient,t);return o=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Wne(f),h=new iee;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=hie(this.apiClient,t);return o=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=pie(f),h=new aee;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Yre(this.apiClient,t);return o=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Jre(f),h=new oee;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=tie(this.apiClient,t);return o=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=nie(f),h=new see;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Mre(this.apiClient,t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>q0(h))}else{const d=Ire(this.apiClient,t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>B0(h))}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=$re(this.apiClient,t);return u=ce("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=Gre(h),g=new OP;return Object.assign(g,m),g})}else{const d=zre(this.apiClient,t);return u=ce("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=Hre(h),g=new OP;return Object.assign(g,m),g})}}async update(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=fie(this.apiClient,t);return u=ce("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>q0(h))}else{const d=cie(this.apiClient,t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>B0(h))}}async delete(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Vne(this.apiClient,t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=Kne(h),g=new PP;return Object.assign(g,m),g})}else{const d=jne(this.apiClient,t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=Fne(h),g=new PP;return Object.assign(g,m),g})}}async countTokens(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=$ne(this.apiClient,t);return u=ce("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=Gne(h),g=new IP;return Object.assign(g,m),g})}else{const d=zne(this.apiClient,t);return u=ce("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=Hne(h),g=new IP;return Object.assign(g,m),g})}}async computeTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Nne(this.apiClient,t);return o=ce("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Dne(f),h=new lee;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=wre(this.apiClient,t);return u=ce("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=bre(h),g=new Wd;return Object.assign(g,m),g})}else{const d=_re(this.apiClient,t);return u=ce("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const m=yre(h),g=new Wd;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sae extends Li{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=QZ(t);return u=ce("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=XZ(t);return u=ce("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=jZ(t);return o=ce("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lae(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function uae(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yae(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function cae(e,t,n){const r={},i=v(t,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const o=v(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&y(n,["newSessionExpireTime"],o);const l=v(t,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=v(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],gae(e,u));const f=v(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),r}function fae(e,t){const n={},r=v(t,["config"]);return r!=null&&y(n,["config"],cae(e,r,n)),n}function dae(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function hae(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pae(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function mae(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function vae(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=v(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const d=v(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=v(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],nw(m));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const _=v(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],uae(pn(S)));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let N=Js(E);Array.isArray(N)&&(N=N.map(k=>_ae(Ys(k)))),y(t,["setup","tools"],N)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],bae(T));const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const O=v(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const R=v(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=v(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const M=v(e,["proactivity"]);if(t!==void 0&&M!=null&&y(t,["setup","proactivity"],M),v(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function gae(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],$e(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],vae(i,n)),n}function yae(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],dae(o));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],hae(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=v(e,["inlineData"]);f!=null&&y(t,["inlineData"],lae(f));const d=v(e,["text"]);d!=null&&y(t,["text"],d);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function bae(e){const t={},n=v(e,["handle"]);if(n!=null&&y(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function _ae(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const o=v(e,["fileSearch"]);o!=null&&y(t,["fileSearch"],o);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],pae(u));const f=v(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],mae(f));const d=v(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wae(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function Sae(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=wae(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Eae extends Li{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=fae(this.apiClient,t);o=ce("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=Sae(u,t.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tae(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function Aae(e){const t={},n=v(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&Tae(r,t),t}function xae(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function Cae(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function Rae(e){const t={},n=v(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=v(e,["config"]);return r!=null&&Cae(r,t),t}function Oae(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pae extends Li{constructor(t){super(),this.apiClient=t,this.list=async n=>new _o(Ri.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xae(t);return o=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Aae(t);i=ce("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rae(t);return o=ce("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Oae(f),h=new uee;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iae extends Li{constructor(t,n=new Pae(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new _o(Ri.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wie(t);return o=ce("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tie(t);return o=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Eie(t);i=ce("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Pie(t);return o=ce("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Iie(f),h=new cee;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Mie(t);return o=ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Nie(f),h=new fee;return Object.assign(h,d),h})}}async importFile(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Cie(t);return o=ce("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=xie(f),h=new X_;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let r2=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return r2=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Mae=()=>r2();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $0(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const H0=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vr extends Error{}class Sn extends vr{constructor(t,n,r,i){super(`${Sn.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new np({message:r,cause:H0(n)});const o=n;return t===400?new a2(t,o,r,i):t===401?new o2(t,o,r,i):t===403?new s2(t,o,r,i):t===404?new l2(t,o,r,i):t===409?new u2(t,o,r,i):t===422?new c2(t,o,r,i):t===429?new f2(t,o,r,i):t>=500?new d2(t,o,r,i):new Sn(t,o,r,i)}}class G0 extends Sn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class np extends Sn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class i2 extends np{constructor({message:t}={}){super({message:t??"Request timed out."})}}class a2 extends Sn{}class o2 extends Sn{}class s2 extends Sn{}class l2 extends Sn{}class u2 extends Sn{}class c2 extends Sn{}class f2 extends Sn{}class d2 extends Sn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nae=/^[a-z][a-z0-9+.-]*:/i,Dae=e=>Nae.test(e);let j0=e=>(j0=Array.isArray,j0(e));const kae=j0;let Uae=kae;const ZP=Uae;function Lae(e){if(!e)return!0;for(const t in e)return!1;return!0}function Bae(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const qae=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new vr(`${e} must be an integer`);if(t<0)throw new vr(`${e} must be a positive integer`);return t},zae=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $ae=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ys="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hae(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Gae=()=>{var e,t,n,r,i;const o=Hae();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":tI(Deno.build.os),"X-Stainless-Arch":eI(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":tI((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":eI((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=jae();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function jae(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:t,version:`${i}.${o}.${l}`}}}return null}const eI=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",tI=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Hf;const Vae=()=>Hf??(Hf=Gae());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fae(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function h2(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Kae(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return h2({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function p2(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Yae(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jae=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m2=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function vy(e,t,n){return m2(),new File(e,t??"unknown_file",n)}function Wae(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Xae=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v2=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Qae=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&v2(e),Zae=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function eoe(e,t,n){if(m2(),e=await e,Qae(e))return e instanceof File?e:vy([await e.arrayBuffer()],e.name);if(Zae(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),vy(await V0(i),t,n)}const r=await V0(e);if(t||(t=Wae(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return vy(r,t,n)}async function V0(e){var t,n,r,i,o;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(v2(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(Xae(e))try{for(var u=!0,f=Or(e),d;d=await f.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const h=i;l.push(...await V0(h))}}catch(h){n={error:h}}finally{try{!u&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const h=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${toe(e)}`)}return l}function toe(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g2{constructor(t){this._client=t}}g2._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y2(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const nI=Object.freeze(Object.create(null)),noe=(e=y2)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],l=n.reduce((h,m,g)=>{var _,S,E;/[?#]/.test(m)&&(i=!0);const T=r[g];let C=(i?encodeURIComponent:e)(""+T);return g!==r.length&&(T==null||typeof T=="object"&&T.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((_=T.hasOwnProperty)!==null&&_!==void 0?_:nI))!==null&&S!==void 0?S:nI))===null||E===void 0?void 0:E.toString))&&(C=T+"",o.push({start:h.length+m.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),h+m+(g===r.length?"":C)},""),u=l.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(u))!==null;)o.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(o.sort((h,m)=>h.start-m.start),o.length>0){let h=0;const m=o.reduce((g,_)=>{const S=" ".repeat(_.start-h),E="^".repeat(_.length);return h=_.start+_.length,g+S+E},"");throw new vr(`Path parameters result in path with invalid segments:
${o.map(g=>g.error).join(`
`)}
${l}
${m}`)}return l}),Gf=noe(y2);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b2 extends g2{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=Qd(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new vr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new vr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Gf`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Gf`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Gf`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:l=this._client.apiVersion}=o,u=Qd(o,["api_version"]);return this._client.get(Gf`/${l}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}b2._key=Object.freeze(["interactions"]);class _2 extends b2{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function roe(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let jf;function iw(e){let t;return(jf??(t=new globalThis.TextEncoder,jf=t.encode.bind(t)))(e)}let Vf;function rI(e){let t;return(Vf??(t=new globalThis.TextDecoder,Vf=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?iw(t):t;this.buffer=roe([this.buffer,n]);const r=[];let i;for(;(i=ioe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(rI(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=rI(this.buffer.subarray(0,o));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}rp.NEWLINE_CHARS=new Set([`
`,"\r"]);rp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ioe(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function aoe(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zd={off:0,error:200,warn:300,info:400,debug:500},iI=(e,t,n)=>{if(e){if(Bae(Zd,e))return e;gn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Zd))}`)}};function au(){}function Ff(e,t,n){return!t||Zd[e]>Zd[n]?au:t[e].bind(t)}const ooe={error:au,warn:au,info:au,debug:au};let aI=new WeakMap;function gn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return ooe;const i=aI.get(n);if(i&&i[0]===r)return i[1];const o={error:Ff("error",n,r),warn:Ff("warn",n,r),info:Ff("info",n,r),debug:Ff("debug",n,r)};return aI.set(n,[r,o]),o}const Ja=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Es{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?gn(r):console;function l(){return Rr(this,arguments,function*(){var f,d,h,m;if(i)throw new vr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var _=!0,S=Or(soe(t,n)),E;E=yield Ce(S.next()),f=E.done,!f;_=!0){m=E.value,_=!1;const T=m;if(!g)if(T.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Ce(JSON.parse(T.data))}catch(C){throw o.error("Could not parse message into JSON:",T.data),o.error("From chunk:",T.raw),C}}}catch(T){d={error:T}}finally{try{!_&&!f&&(h=S.return)&&(yield Ce(h.call(S)))}finally{if(d)throw d.error}}g=!0}catch(T){if($0(T))return yield Ce(void 0);throw T}finally{g||n.abort()}})}return new Es(l,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return Rr(this,arguments,function*(){var f,d,h,m;const g=new rp,_=p2(t);try{for(var S=!0,E=Or(_),T;T=yield Ce(E.next()),f=T.done,!f;S=!0){m=T.value,S=!1;const C=m;for(const O of g.decode(C))yield yield Ce(O)}}catch(C){d={error:C}}finally{try{!S&&!f&&(h=E.return)&&(yield Ce(h.call(E)))}finally{if(d)throw d.error}}for(const C of g.flush())yield yield Ce(C)})}function l(){return Rr(this,arguments,function*(){var f,d,h,m;if(i)throw new vr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var _=!0,S=Or(o()),E;E=yield Ce(S.next()),f=E.done,!f;_=!0){m=E.value,_=!1;const T=m;g||T&&(yield yield Ce(JSON.parse(T)))}}catch(T){d={error:T}}finally{try{!_&&!f&&(h=S.return)&&(yield Ce(h.call(S)))}finally{if(d)throw d.error}}g=!0}catch(T){if($0(T))return yield Ce(void 0);throw T}finally{g||n.abort()}})}return new Es(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const l=r.next();t.push(l),n.push(l)}return o.shift()}});return[new Es(()=>i(t),this.controller,this.client),new Es(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return h2({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const l=iw(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function soe(e,t){return Rr(this,arguments,function*(){var r,i,o,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new vr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new vr("Attempted to iterate over a response with no body");const u=new uoe,f=new rp,d=p2(e.body);try{for(var h=!0,m=Or(loe(d)),g;g=yield Ce(m.next()),r=g.done,!r;h=!0){l=g.value,h=!1;const _=l;for(const S of f.decode(_)){const E=u.decode(S);E&&(yield yield Ce(E))}}}catch(_){i={error:_}}finally{try{!h&&!r&&(o=m.return)&&(yield Ce(o.call(m)))}finally{if(i)throw i.error}}for(const _ of f.flush()){const S=u.decode(_);S&&(yield yield Ce(S))}})}function loe(e){return Rr(this,arguments,function*(){var n,r,i,o;let l=new Uint8Array;try{for(var u=!0,f=Or(e),d;d=yield Ce(f.next()),n=d.done,!n;u=!0){o=d.value,u=!1;const h=o;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?iw(h):h;let g=new Uint8Array(l.length+m.length);g.set(l),g.set(m,l.length),l=g;let _;for(;(_=aoe(l))!==-1;)yield yield Ce(l.slice(0,_)),l=l.slice(_)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=f.return)&&(yield Ce(i.call(f)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Ce(l))})}class uoe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=coe(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function coe(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function foe(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,l=await(async()=>{var u;if(t.options.stream)return gn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Es.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(u=f==null?void 0:f.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return gn(e).debug(`[${r}] response parsed`,Ja({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-o})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aw extends Promise{constructor(t,n,r=foe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new aw(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w2=Symbol("brand.privateNullableHeaders");function*doe(e){if(!e)return;if(w2 in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():ZP(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=ZP(r[1])?r[1]:[r[1]];let l=!1;for(const u of o)u!==void 0&&(t&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const eu=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,l]of doe(r)){const u=o.toLowerCase();i.has(u)||(t.delete(o),i.add(u)),l===null?(t.delete(o),n.add(u)):(t.append(o,l),n.delete(u))}}return{[w2]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gy=e=>{var t,n,r,i,o,l;if(typeof globalThis.process<"u")return(r=(n=(t=BZ)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var S2;class ip{constructor(t){var n,r,i,o,l,u,f,{baseURL:d=gy("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=gy("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,g=Qd(t,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:h,apiVersion:m},g),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(r=_.timeout)!==null&&r!==void 0?r:ip.DEFAULT_TIMEOUT,this.logger=(i=_.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(l=(o=iI(_.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:iI(gy("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=_.fetchOptions,this.maxRetries=(u=_.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(f=_.fetch)!==null&&f!==void 0?f:Fae(),this.encoder=Jae,this._options=_,this.apiKey=h,this.apiVersion=m,this.clientAdapter=_.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=eu([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return eu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return eu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new vr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ys}`}defaultIdempotencyKey(){return`stainless-node-retry-${Mae()}`}makeStatusError(t,n,r,i){return Sn.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Dae(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return Lae(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new aw(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,l;const u=await t,f=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=f),await this.prepareOptions(u);const{req:d,url:h,timeout:m}=await this.buildRequest(u,{retryCount:f-n});await this.prepareRequest(d,{url:h,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(gn(this).debug(`[${g}] sending request`,Ja({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:d.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new G0;const E=new AbortController,T=await this.fetchWithTimeout(h,d,m,E).catch(H0),C=Date.now();if(T instanceof globalThis.Error){const R=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new G0;const I=$0(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return gn(this).info(`[${g}] connection ${I?"timed out":"failed"} - ${R}`),gn(this).debug(`[${g}] connection ${I?"timed out":"failed"} (${R})`,Ja({retryOfRequestLogID:r,url:h,durationMs:C-S,message:T.message})),this.retryRequest(u,n,r??g);throw gn(this).info(`[${g}] connection ${I?"timed out":"failed"} - error; no more retries left`),gn(this).debug(`[${g}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Ja({retryOfRequestLogID:r,url:h,durationMs:C-S,message:T.message})),I?new i2:new np({cause:T})}const O=`[${g}${_}] ${d.method} ${h} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${C-S}ms`;if(!T.ok){const R=await this.shouldRetry(T);if(n&&R){const q=`retrying, ${n} attempts remaining`;return await Yae(T.body),gn(this).info(`${O} - ${q}`),gn(this).debug(`[${g}] response error (${q})`,Ja({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),this.retryRequest(u,n,r??g,T.headers)}const I=R?"error; no more retries left":"error; not retryable";gn(this).info(`${O} - ${I}`);const M=await T.text().catch(q=>H0(q).message),N=zae(M),k=N?void 0:M;throw gn(this).debug(`[${g}] response error (${I})`,Ja({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,message:k,durationMs:Date.now()-S})),this.makeStatusError(T.status,N,k,T.headers)}return gn(this).info(O),gn(this).debug(`[${g}] response start`,Ja({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),{response:T,options:u,controller:E,requestLogID:g,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:l,method:u}=o,f=Qd(o,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),f);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(d)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(l=d)}const f=i==null?void 0:i.get("retry-after");if(f&&!l){const d=parseFloat(f);Number.isNaN(d)?l=Date.parse(f)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await $ae(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,l=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const l=Object.assign({},t),{method:u,path:f,query:d,defaultBaseURL:h}=l,m=this.buildURL(f,d,h);"timeout"in l&&qae("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:_}=this.buildBody({options:l}),S=await this.buildHeaders({options:t,method:u,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=l.fetchOptions)!==null&&o!==void 0?o:{}),url:m,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let u=eu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Vae()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=eu([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Kae(t)}:this.encoder({body:t,headers:r})}}ip.DEFAULT_TIMEOUT=6e4;class Xt extends ip{constructor(){super(...arguments),this.interactions=new _2(this)}}S2=Xt;Xt.GeminiNextGenAPIClient=S2;Xt.GeminiNextGenAPIClientError=vr;Xt.APIError=Sn;Xt.APIConnectionError=np;Xt.APIConnectionTimeoutError=i2;Xt.APIUserAbortError=G0;Xt.NotFoundError=l2;Xt.ConflictError=u2;Xt.RateLimitError=f2;Xt.BadRequestError=a2;Xt.AuthenticationError=o2;Xt.InternalServerError=d2;Xt.PermissionDeniedError=s2;Xt.UnprocessableEntityError=c2;Xt.toFile=eoe;Xt.Interactions=_2;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hoe(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function poe(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function moe(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function voe(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function goe(e,t,n){const r={};if(v(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&y(t,["displayName"],i),v(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=v(e,["epochCount"]);t!==void 0&&o!=null&&y(t,["tuningTask","hyperparameters","epochCount"],o);const l=v(e,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),v(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=v(e,["batchSize"]);t!==void 0&&u!=null&&y(t,["tuningTask","hyperparameters","batchSize"],u);const f=v(e,["learningRate"]);if(t!==void 0&&f!=null&&y(t,["tuningTask","hyperparameters","learningRate"],f),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function yoe(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const _=v(e,["validationDataset"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec"],oI(_))}else if(i==="PREFERENCE_TUNING"){const _=v(e,["validationDataset"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec"],oI(_))}const o=v(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&y(t,["tunedModelDisplayName"],o);const l=v(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=v(e,["epochCount"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(u==="PREFERENCE_TUNING"){const _=v(e,["epochCount"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const _=v(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(f==="PREFERENCE_TUNING"){const _=v(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const _=v(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(d==="PREFERENCE_TUNING"){const _=v(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=v(e,["adapterSize"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(h==="PREFERENCE_TUNING"){const _=v(e,["adapterSize"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(v(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=v(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const g=v(e,["beta"]);return t!==void 0&&g!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function boe(e,t){const n={},r=v(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=v(e,["trainingDataset"]);o!=null&&Poe(o);const l=v(e,["config"]);return l!=null&&goe(l,n),n}function _oe(e,t){const n={},r=v(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=v(e,["trainingDataset"]);o!=null&&Ioe(o,n,t);const l=v(e,["config"]);return l!=null&&yoe(l,n,t),n}function woe(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Soe(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Eoe(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const o=v(e,["pageToken"]);t!==void 0&&o!=null&&y(t,["_query","pageToken"],o);const l=v(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function Toe(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const o=v(e,["pageToken"]);t!==void 0&&o!=null&&y(t,["_query","pageToken"],o);const l=v(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function Aoe(e,t){const n={},r=v(e,["config"]);return r!=null&&Eoe(r,n),n}function xoe(e,t){const n={},r=v(e,["config"]);return r!=null&&Toe(r,n),n}function Coe(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=v(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>E2(u))),y(n,["tuningJobs"],l)}return n}function Roe(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=v(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>F0(u))),y(n,["tuningJobs"],l)}return n}function Ooe(e,t){const n={},r=v(e,["name"]);r!=null&&y(n,["model"],r);const i=v(e,["name"]);return i!=null&&y(n,["endpoint"],i),n}function Poe(e,t){const n={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(n,["examples","examples"],i)}return n}function Ioe(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=v(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=v(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=v(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=v(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(v(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function E2(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const o=v(e,["state"]);o!=null&&y(n,["state"],qU(o));const l=v(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=v(e,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const f=v(e,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const d=v(e,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=v(e,["description"]);h!=null&&y(n,["description"],h);const m=v(e,["baseModel"]);m!=null&&y(n,["baseModel"],m);const g=v(e,["_self"]);return g!=null&&y(n,["tunedModel"],Ooe(g)),n}function F0(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const o=v(e,["state"]);o!=null&&y(n,["state"],qU(o));const l=v(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=v(e,["startTime"]);u!=null&&y(n,["startTime"],u);const f=v(e,["endTime"]);f!=null&&y(n,["endTime"],f);const d=v(e,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=v(e,["error"]);h!=null&&y(n,["error"],h);const m=v(e,["description"]);m!=null&&y(n,["description"],m);const g=v(e,["baseModel"]);g!=null&&y(n,["baseModel"],g);const _=v(e,["tunedModel"]);_!=null&&y(n,["tunedModel"],_);const S=v(e,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const E=v(e,["supervisedTuningSpec"]);E!=null&&y(n,["supervisedTuningSpec"],E);const T=v(e,["preferenceOptimizationSpec"]);T!=null&&y(n,["preferenceOptimizationSpec"],T);const C=v(e,["tuningDataStats"]);C!=null&&y(n,["tuningDataStats"],C);const O=v(e,["encryptionSpec"]);O!=null&&y(n,["encryptionSpec"],O);const R=v(e,["partnerModelTuningSpec"]);R!=null&&y(n,["partnerModelTuningSpec"],R);const I=v(e,["customBaseModel"]);I!=null&&y(n,["customBaseModel"],I);const M=v(e,["experiment"]);M!=null&&y(n,["experiment"],M);const N=v(e,["labels"]);N!=null&&y(n,["labels"],N);const k=v(e,["outputUri"]);k!=null&&y(n,["outputUri"],k);const H=v(e,["pipelineJob"]);H!=null&&y(n,["pipelineJob"],H);const q=v(e,["serviceAccount"]);q!=null&&y(n,["serviceAccount"],q);const ne=v(e,["tunedModelDisplayName"]);ne!=null&&y(n,["tunedModelDisplayName"],ne);const J=v(e,["veoTuningSpec"]);return J!=null&&y(n,["veoTuningSpec"],J),n}function Moe(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const o=v(e,["metadata"]);o!=null&&y(n,["metadata"],o);const l=v(e,["done"]);l!=null&&y(n,["done"],l);const u=v(e,["error"]);return u!=null&&y(n,["error"],u),n}function oI(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=v(e,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Noe extends Li{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _o(Ri.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:D0.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Soe(t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>F0(h))}else{const d=woe(t);return u=ce("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>E2(h))}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=xoe(t);return u=ce("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=Roe(h),g=new MP;return Object.assign(g,m),g})}else{const d=Aoe(t);return u=ce("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=Coe(h),g=new MP;return Object.assign(g,m),g})}}async cancel(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=poe(t);return u=ce("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=voe(h),g=new NP;return Object.assign(g,m),g})}else{const d=hoe(t);return u=ce("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=moe(h),g=new NP;return Object.assign(g,m),g})}}async tuneInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=_oe(t,t);return o=ce("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>F0(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=boe(t);return o=ce("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>Moe(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Doe{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const koe=1024*1024*8,Uoe=3,Loe=1e3,Boe=2,eh="x-goog-upload-status";async function qoe(e,t,n){var r;const i=await T2(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[eh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function zoe(e,t,n){var r;const i=await T2(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[eh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=NU(o),u=new Q_;return Object.assign(u,l),u}async function T2(e,t,n){var r,i;let o=0,l=0,u=new k0(new Response),f="upload";for(o=e.size;l<o;){const d=Math.min(koe,o-l),h=e.slice(l,l+d);l+d>=o&&(f+=", finalize");let m=0,g=Loe;for(;m<Uoe&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[eh]));)m++,await Hoe(g),g=g*Boe;if(l+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[eh])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function $oe(e){return{size:e.size,type:e.type}}function Hoe(e){return new Promise(t=>setTimeout(t,e))}class Goe{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await qoe(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await zoe(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $oe(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class joe{create(t,n,r){return new Voe(t,n,r)}}class Voe{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sI="x-goog-api-key";class Foe{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(sI)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(sI,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Koe="gl-node/";class Yoe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Xt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=HZ(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new Foe(this.apiKey);this.apiClient=new $ie({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Koe+"web",uploader:new Goe,downloader:new Doe}),this.models=new oae(this.apiClient),this.live=new eae(this.apiClient,i,new joe),this.batches=new gte(this.apiClient),this.chats=new Qte(this.models,this.apiClient),this.caches=new Jte(this.apiClient),this.files=new lne(this.apiClient),this.operations=new sae(this.apiClient),this.authTokens=new Eae(this.apiClient),this.tunings=new Noe(this.apiClient),this.fileSearchStores=new Iae(this.apiClient)}}new Yoe({apiKey:void 0});const Joe=async e=>(console.warn("No API Key provided for Gemini."),{});/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(n),!0).forEach(function(r){Qoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Woe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A2(r.key),r)}}function Xoe(e,t,n){return t&&uI(e.prototype,t),n&&uI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qoe(e,t,n){return t=A2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},th.apply(this,arguments)}function Zoe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function A2(e){var t=Zoe(e,"string");return typeof t=="symbol"?t:String(t)}var x2={exports:{}};(function(e){typeof window>"u"||(function(t){var n=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,r=t.Blob&&(function(){try{return!!new Blob}catch{return!1}})(),i=r&&t.Uint8Array&&(function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}})(),o=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,l=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(r||o)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(f){var d,h,m,g,_,S,E,T,C;if(d=f.match(l),!d)throw new Error("invalid data URI");for(h=d[2]?d[1]:"text/plain"+(d[3]||";charset=US-ASCII"),m=!!d[4],g=f.slice(d[0].length),m?_=atob(g):_=decodeURIComponent(g),S=new ArrayBuffer(_.length),E=new Uint8Array(S),T=0;T<_.length;T+=1)E[T]=_.charCodeAt(T);return r?new Blob([i?E:S],{type:h}):(C=new o,C.append(S),C.getBlob(h))};t.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(f,d,h){var m=this;setTimeout(function(){h&&n.toDataURL&&u?f(u(m.toDataURL(d,h))):f(m.mozGetAsFile("blob",d))})}:n.toDataURL&&u&&(n.msToBlob?n.toBlob=function(f,d,h){var m=this;setTimeout(function(){(d&&d!=="image/png"||h)&&n.toDataURL&&u?f(u(m.toDataURL(d,h))):f(m.msToBlob(d))})}:n.toBlob=function(f,d,h){var m=this;setTimeout(function(){f(u(m.toDataURL(d,h)))})})),e.exports?e.exports=u:t.dataURLtoBlob=u})(window)})(x2);var cI=x2.exports,ese=function(t){return typeof Blob>"u"?!1:t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"},fI={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},tse=typeof window<"u"&&typeof window.document<"u",_a=tse?window:{},nh=function(t){return t>0&&t<1/0},nse=Array.prototype.slice;function ow(e){return Array.from?Array.from(e):nse.call(e)}var rse=/^image\/.+$/;function K0(e){return rse.test(e)}function ise(e){var t=K0(e)?e.substr(6):"";return t==="jpeg"&&(t="jpg"),".".concat(t)}var C2=String.fromCharCode;function ase(e,t,n){var r="",i;for(n+=t,i=t;i<n;i+=1)r+=C2(e.getUint8(i));return r}var ose=_a.btoa;function dI(e,t){for(var n=[],r=8192,i=new Uint8Array(e);i.length>0;)n.push(C2.apply(null,ow(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(t,";base64,").concat(ose(n.join("")))}function sse(e){var t=new DataView(e),n;try{var r,i,o;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var l=t.byteLength,u=2;u+1<l;){if(t.getUint8(u)===255&&t.getUint8(u+1)===225){i=u;break}u+=1}if(i){var f=i+4,d=i+10;if(ase(t,f,4)==="Exif"){var h=t.getUint16(d);if(r=h===18761,(r||h===19789)&&t.getUint16(d+2,r)===42){var m=t.getUint32(d+4,r);m>=8&&(o=d+m)}}}if(o){var g=t.getUint16(o,r),_,S;for(S=0;S<g;S+=1)if(_=o+S*12+2,t.getUint16(_,r)===274){_+=8,n=t.getUint16(_,r),t.setUint16(_,1,r);break}}}catch{n=1}return n}function lse(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:n,scaleY:r}}var use=/\.\d*(?:0|9){12}\d*$/;function hI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return use.test(e)?Math.round(e*t)/t:e}function tu(e){var t=e.aspectRatio,n=e.height,r=e.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",o=nh(r),l=nh(n);if(o&&l){var u=n*t;(i==="contain"||i==="none")&&u>r||i==="cover"&&u<r?n=r/t:r=n*t}else o?n=r/t:l&&(r=n*t);return{width:r,height:n}}function cse(e){for(var t=ow(new Uint8Array(e)),n=t.length,r=[],i=0;i+3<n;){var o=t[i],l=t[i+1];if(o===255&&l===218)break;if(o===255&&l===216)i+=2;else{var u=t[i+2]*256+t[i+3],f=i+u+2,d=t.slice(i,f);r.push(d),i=f}}return r.reduce(function(h,m){return m[0]===255&&m[1]===225?h.concat(m):h},[])}function fse(e,t){var n=ow(new Uint8Array(e));if(n[2]!==255||n[3]!==224)return e;var r=n[4]*256+n[5],i=[255,216].concat(t,n.slice(4+r));return new Uint8Array(i)}var dse=_a.ArrayBuffer,yy=_a.FileReader,ja=_a.URL||_a.webkitURL,hse=/\.\w+$/,pse=_a.Compressor,mse=(function(){function e(t,n){Woe(this,e),this.file=t,this.exif=[],this.image=new Image,this.options=Kf(Kf({},fI),n),this.aborted=!1,this.result=null,this.init()}return Xoe(e,[{key:"init",value:function(){var n=this,r=this.file,i=this.options;if(!ese(r)){this.fail(new Error("The first argument must be a File or Blob object."));return}var o=r.type;if(!K0(o)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!ja||!yy){this.fail(new Error("The current browser does not support image compression."));return}dse||(i.checkOrientation=!1,i.retainExif=!1);var l=o==="image/jpeg",u=l&&i.checkOrientation,f=l&&i.retainExif;if(ja&&!u&&!f)this.load({url:ja.createObjectURL(r)});else{var d=new yy;this.reader=d,d.onload=function(h){var m=h.target,g=m.result,_={},S=1;u&&(S=sse(g),S>1&&th(_,lse(S))),f&&(n.exif=cse(g)),u||f?!ja||S>1?_.url=dI(g,o):_.url=ja.createObjectURL(r):_.url=g,n.load(_)},d.onabort=function(){n.fail(new Error("Aborted to read the image with FileReader."))},d.onerror=function(){n.fail(new Error("Failed to read the image with FileReader."))},d.onloadend=function(){n.reader=null},u||f?d.readAsArrayBuffer(r):d.readAsDataURL(r)}}},{key:"load",value:function(n){var r=this,i=this.file,o=this.image;o.onload=function(){r.draw(Kf(Kf({},n),{},{naturalWidth:o.naturalWidth,naturalHeight:o.naturalHeight}))},o.onabort=function(){r.fail(new Error("Aborted to load the image."))},o.onerror=function(){r.fail(new Error("Failed to load the image."))},_a.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(_a.navigator.userAgent)&&(o.crossOrigin="anonymous"),o.alt=i.name,o.src=n.url}},{key:"draw",value:function(n){var r=this,i=n.naturalWidth,o=n.naturalHeight,l=n.rotate,u=l===void 0?0:l,f=n.scaleX,d=f===void 0?1:f,h=n.scaleY,m=h===void 0?1:h,g=this.file,_=this.image,S=this.options,E=document.createElement("canvas"),T=E.getContext("2d"),C=Math.abs(u)%180===90,O=(S.resize==="contain"||S.resize==="cover")&&nh(S.width)&&nh(S.height),R=Math.max(S.maxWidth,0)||1/0,I=Math.max(S.maxHeight,0)||1/0,M=Math.max(S.minWidth,0)||0,N=Math.max(S.minHeight,0)||0,k=i/o,H=S.width,q=S.height;if(C){var ne=[I,R];R=ne[0],I=ne[1];var J=[N,M];M=J[0],N=J[1];var ee=[q,H];H=ee[0],q=ee[1]}O&&(k=H/q);var oe=tu({aspectRatio:k,width:R,height:I},"contain");R=oe.width,I=oe.height;var fe=tu({aspectRatio:k,width:M,height:N},"cover");if(M=fe.width,N=fe.height,O){var me=tu({aspectRatio:k,width:H,height:q},S.resize);H=me.width,q=me.height}else{var $=tu({aspectRatio:k,width:H,height:q}),Z=$.width;H=Z===void 0?i:Z;var se=$.height;q=se===void 0?o:se}H=Math.floor(hI(Math.min(Math.max(H,M),R))),q=Math.floor(hI(Math.min(Math.max(q,N),I)));var W=-H/2,ue=-q/2,D=H,K=q,ie=[];if(O){var le=0,_e=0,Ae=i,Te=o,pt=tu({aspectRatio:k,width:i,height:o},{contain:"cover",cover:"contain"}[S.resize]);Ae=pt.width,Te=pt.height,le=(i-Ae)/2,_e=(o-Te)/2,ie.push(le,_e,Ae,Te)}if(ie.push(W,ue,D,K),C){var Q=[q,H];H=Q[0],q=Q[1]}E.width=H,E.height=q,K0(S.mimeType)||(S.mimeType=g.type);var xe="transparent";g.size>S.convertSize&&S.convertTypes.indexOf(S.mimeType)>=0&&(S.mimeType="image/jpeg");var Ie=S.mimeType==="image/jpeg";if(Ie&&(xe="#fff"),T.fillStyle=xe,T.fillRect(0,0,H,q),S.beforeDraw&&S.beforeDraw.call(this,T,E),!this.aborted&&(T.save(),T.translate(H/2,q/2),T.rotate(u*Math.PI/180),T.scale(d,m),T.drawImage.apply(T,[_].concat(ie)),T.restore(),S.drew&&S.drew.call(this,T,E),!this.aborted)){var ae=function(Me){if(!r.aborted){var Et=function(Yr){return r.done({naturalWidth:i,naturalHeight:o,result:Yr})};if(Me&&Ie&&S.retainExif&&r.exif&&r.exif.length>0){var Tt=function(Yr){return Et(cI(dI(fse(Yr,r.exif),S.mimeType)))};if(Me.arrayBuffer)Me.arrayBuffer().then(Tt).catch(function(){r.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var cn=new yy;r.reader=cn,cn.onload=function(Kr){var Yr=Kr.target;Tt(Yr.result)},cn.onabort=function(){r.fail(new Error("Aborted to read the compressed image with FileReader."))},cn.onerror=function(){r.fail(new Error("Failed to read the compressed image with FileReader."))},cn.onloadend=function(){r.reader=null},cn.readAsArrayBuffer(Me)}}else Et(Me)}};E.toBlob?E.toBlob(ae,S.mimeType,S.quality):ae(cI(E.toDataURL(S.mimeType,S.quality)))}}},{key:"done",value:function(n){var r=n.naturalWidth,i=n.naturalHeight,o=n.result,l=this.file,u=this.image,f=this.options;if(ja&&u.src.indexOf("blob:")===0&&ja.revokeObjectURL(u.src),o)if(f.strict&&!f.retainExif&&o.size>l.size&&f.mimeType===l.type&&!(f.width>r||f.height>i||f.minWidth>r||f.minHeight>i||f.maxWidth<r||f.maxHeight<i))o=l;else{var d=new Date;o.lastModified=d.getTime(),o.lastModifiedDate=d,o.name=l.name,o.name&&o.type!==l.type&&(o.name=o.name.replace(hse,ise(o.type)))}else o=l;this.result=o,f.success&&f.success.call(this,o)}},{key:"fail",value:function(n){var r=this.options;if(r.error)r.error.call(this,n);else throw n}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=pse,e}},{key:"setDefaults",value:function(n){th(fI,n)}}]),e})();const pI=50*1024,vse=async e=>{console.log(`[ImageUtils] Processing file: ${e.name} (${(e.size/1024).toFixed(2)} KB)`);let t=e;if(e.name.toLowerCase().endsWith(".heic")||e.type==="image/heic"||e.type==="image/heif")if(console.log("[ImageUtils] HEIC detected."),typeof window.heic2any<"u")try{console.log("[ImageUtils] Converting HEIC to JPEG...");const i=await window.heic2any({blob:e,toType:"image/jpeg",quality:.8});t=Array.isArray(i)?i[0]:i,console.log(`[ImageUtils] Conversion successful. New size: ${(t.size/1024).toFixed(2)} KB`)}catch(i){console.warn("[ImageUtils] heic2any conversion failed. Proceeding to Compressor.js in case browser supports it natively.",i)}else console.warn("[ImageUtils] heic2any library not loaded. Hoping browser supports HEIC natively.");let r=await by(t,e.name,.6,1200);return r.size>pI&&(console.log(`[ImageUtils] > 50KB (${(r.size/1024).toFixed(2)} KB). Retrying aggressively...`),r=await by(t,e.name,.5,800)),r.size>pI&&(console.log("[ImageUtils] Still > 50KB. Force resizing to thumbnail..."),r=await by(t,e.name,.5,500)),console.log(`[ImageUtils] Final output: ${(r.size/1024).toFixed(2)} KB`),r},by=(e,t,n,r)=>new Promise((i,o)=>{new mse(e,{quality:n,maxWidth:r,maxHeight:r,mimeType:"image/jpeg",success(l){const u=t.replace(/\.[^/.]+$/,"")+".jpg",f=new File([l],u,{type:"image/jpeg",lastModified:Date.now()});i(f)},error(l){console.error("[ImageUtils] Compressor.js error:",l),l.message&&l.message.includes("load the image")?o(new Error("Browser could not decode this image. If using HEIC on Windows/Android, please use a JPG/PNG.")):o(l)}})}),gse=["HKD","CNY","JPY","USD","EUR","TWD"],_y=["Beauty","Clothing","Accessories","Electronics","Grocery","Health & Medicine","Household","Toys","Sports & Outdoor","Others"],yse=({initialData:e,existingItems:t=[],onSave:n,onCancel:r})=>{const[i,o]=x.useState((e==null?void 0:e.productName)||""),[l,u]=x.useState((e==null?void 0:e.brand)||""),[f,d]=x.useState((e==null?void 0:e.category)||""),[h,m]=x.useState((e==null?void 0:e.notes)||""),[g,_]=x.useState((e==null?void 0:e.imageBase64)||""),[S,E]=x.useState((e==null?void 0:e.entries)||[]),[T,C]=x.useState(null),[O,R]=x.useState(!1),[I,M]=x.useState(!1),[N,k]=x.useState(!1),[H,q]=x.useState(null),ne=x.useRef(null),J=x.useMemo(()=>Array.from(new Set(t.map(W=>{var ue;return(ue=W.brand)==null?void 0:ue.trim()}).filter(Boolean))).sort(),[t]),ee=x.useMemo(()=>{const W=t.flatMap(ue=>ue.entries.map(D=>{var K;return(K=D.location)==null?void 0:K.trim()}));return Array.from(new Set(W.filter(Boolean))).sort()},[t]);x.useEffect(()=>{!e&&S.length===0&&oe()},[e]);const oe=(W={})=>{const ue={id:My(),purchaseDate:W.purchaseDate||new Date().toISOString().split("T")[0],location:W.location||"",price:W.price||0,currency:W.currency||"HKD",quantity:W.quantity||1,expirationDate:W.expirationDate||"",startUseDate:W.startUseDate||"",finishUseDate:W.finishUseDate||"",disposed:W.disposed||!1};E(D=>[...D,ue])},fe=W=>{E(ue=>ue.filter(D=>D.id!==W))},me=(W,ue,D)=>{E(K=>K.map(ie=>ie.id===W?{...ie,[ue]:D}:ie))},$=async W=>{if(W.target.files&&W.target.files[0]){const ue=W.target.files[0];q(null),R(!0);try{const D=await vse(ue);C(D);const K=new FileReader;K.onloadend=async()=>{const ie=K.result;_(ie),R(!1),Z(ie)},K.readAsDataURL(D)}catch(D){console.error("Image processing error:",D),q(D.message||"Failed to process image."),R(!1)}}},Z=async W=>{M(!0);try{const ue=await Joe(W);ue.productName&&o(ue.productName),ue.brand&&u(ue.brand);let D=ue.category||"";D&&!_y.includes(D)&&(D=_y.find(ie=>D.toLowerCase().includes(ie.toLowerCase()))||"Others"),D&&d(D),S.length>0&&E(K=>{const ie=[...K],le={...ie[0]};return ue.price&&(le.price=ue.price),ue.purchaseDate&&(le.purchaseDate=ue.purchaseDate),ue.expirationDate&&(le.expirationDate=ue.expirationDate),ue.location&&(le.location=ue.location),ie[0]=le,ie})}catch(ue){console.warn("Analysis error",ue)}finally{M(!1)}},se=async W=>{if(W.preventDefault(),S.length===0){q("Please add at least one inventory entry.");return}k(!0),q(null);let ue=g;try{T&&(ue=await W$(T));const D={id:(e==null?void 0:e.id)||My(),createdAt:(e==null?void 0:e.createdAt)||Date.now(),productName:i||"Unnamed Item",brand:l,category:f||"Others",notes:h,imageBase64:ue,entries:S};await n(D)}catch(D){console.error("Submission failed:",D),q(D.message||"An error occurred while saving the item.")}finally{k(!1)}};return L.jsxs("div",{className:"bg-white rounded border border-dustyrose shadow-sm max-w-5xl mx-auto flex flex-col min-h-[80vh]",children:[L.jsxs("div",{className:"p-5 border-b border-dustyrose/50 flex justify-between items-center bg-breath/30",children:[L.jsx("h2",{className:"text-lg font-bold text-blackish uppercase tracking-wide",children:e?"Edit Item":"New Item"}),L.jsx("button",{onClick:r,className:"text-wind hover:text-wheat transition-colors",children:""})]}),L.jsxs("form",{onSubmit:se,className:"flex-1 flex flex-col",children:[L.jsxs("div",{className:"p-6 md:p-8 grid grid-cols-1 md:grid-cols-[200px_1fr] gap-8 border-b border-dustyrose/30",children:[L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsxs("div",{className:`relative w-full h-48 md:w-48 md:h-48 bg-breath/50 rounded flex items-center justify-center overflow-hidden border border-dashed ${g?"border-transparent":"border-dustyrose hover:border-wheat"} cursor-pointer transition-colors`,onClick:()=>{var W;return!N&&!O&&((W=ne.current)==null?void 0:W.click())},children:[g?L.jsx("img",{src:g,alt:"Preview",className:"w-full h-full object-cover"}):L.jsxs("div",{className:"text-center text-wind",children:[L.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),L.jsx("p",{className:"text-[10px] uppercase tracking-wider",children:"Photo"})]}),(I||O)&&L.jsxs("div",{className:"absolute inset-0 bg-white/80 flex flex-col items-center justify-center backdrop-blur-sm",children:[L.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-wheat mb-2"}),L.jsx("p",{className:"text-[10px] font-bold uppercase text-wheat",children:O?"Processing":"Analyzing"})]})]}),L.jsx("input",{type:"file",ref:ne,onChange:$,accept:"image/*,.heic,.heif",className:"hidden"}),H&&L.jsx("p",{className:"mt-2 text-xs text-red-600 max-w-[200px] text-center",children:H})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[L.jsxs("div",{className:"col-span-1 md:col-span-2",children:[L.jsx("label",{className:"block text-xs font-bold text-wind uppercase tracking-wider mb-1",children:"Product Name"}),L.jsx("input",{required:!0,type:"text",value:i,onChange:W=>o(W.target.value),className:"w-full px-0 py-2 bg-transparent border-b border-dustyrose focus:border-wheat outline-none text-xl font-medium text-blackish placeholder-dustyrose",placeholder:"Item Name"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-xs font-bold text-wind uppercase tracking-wider mb-1",children:"Brand"}),L.jsx("input",{type:"text",list:"brand-suggestions",value:l,onChange:W=>u(W.target.value),className:"w-full px-0 py-2 bg-transparent border-b border-dustyrose focus:border-wheat outline-none text-blackish placeholder-dustyrose",placeholder:"Brand Name"}),L.jsx("datalist",{id:"brand-suggestions",children:J.map(W=>L.jsx("option",{value:W},W))})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-xs font-bold text-wind uppercase tracking-wider mb-1",children:"Category"}),L.jsxs("select",{value:f,onChange:W=>d(W.target.value),className:"w-full px-0 py-2 bg-transparent border-b border-dustyrose focus:border-wheat outline-none text-blackish",children:[L.jsx("option",{value:"",disabled:!0,className:"text-dustyrose",children:"Select Category"}),_y.map(W=>L.jsx("option",{value:W,children:W},W))]})]}),L.jsxs("div",{className:"col-span-1 md:col-span-2",children:[L.jsx("label",{className:"block text-xs font-bold text-wind uppercase tracking-wider mb-1",children:"Notes"}),L.jsx("textarea",{value:h,onChange:W=>m(W.target.value),rows:1,className:"w-full px-0 py-2 bg-transparent border-b border-dustyrose focus:border-wheat outline-none text-sm text-blackish placeholder-dustyrose",placeholder:"Additional notes..."})]})]})]}),L.jsxs("div",{className:"flex-1 bg-breath/10 p-6 md:p-8 flex flex-col",children:[L.jsxs("div",{className:"flex justify-between items-end mb-4",children:[L.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blackish",children:"Inventory Entries"}),L.jsx("button",{type:"button",onClick:()=>oe(),className:"text-xs bg-wheat text-white px-3 py-1.5 rounded hover:bg-[#A6835E] transition-colors uppercase tracking-wider font-medium",children:"+ Add Batch"})]}),L.jsx("div",{className:"overflow-x-auto border border-dustyrose rounded bg-white",children:L.jsxs("table",{className:"w-full min-w-[1000px] text-left border-collapse",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"bg-breath/30 text-[10px] font-bold text-wind uppercase tracking-wider border-b border-dustyrose",children:[L.jsx("th",{className:"p-3 w-12",children:"#"}),L.jsx("th",{className:"p-3 w-32",children:"Purchase Date"}),L.jsx("th",{className:"p-3",children:"Location"}),L.jsx("th",{className:"p-3 w-32",children:"Price"}),L.jsx("th",{className:"p-3 w-20",children:"Qty"}),L.jsx("th",{className:"p-3 w-32",children:"Expires"}),L.jsx("th",{className:"p-3 w-32",children:"Start"}),L.jsx("th",{className:"p-3 w-32",children:"Finish"}),L.jsx("th",{className:"p-3 w-20 text-center",children:"Disp?"}),L.jsx("th",{className:"p-3 w-10"})]})}),L.jsx("tbody",{className:"divide-y divide-dustyrose/30",children:S.map((W,ue)=>L.jsxs("tr",{className:"group hover:bg-breath/10 transition-colors",children:[L.jsx("td",{className:"p-3 text-xs text-wind font-mono",children:ue+1}),L.jsx("td",{className:"p-3",children:L.jsx("input",{type:"date",value:W.purchaseDate,onChange:D=>me(W.id,"purchaseDate",D.target.value),className:"w-full bg-transparent outline-none text-xs text-blackish"})}),L.jsxs("td",{className:"p-3",children:[L.jsx("input",{type:"text",list:"location-suggestions",value:W.location,onChange:D=>me(W.id,"location",D.target.value),className:"w-full bg-transparent outline-none text-xs text-blackish placeholder-dustyrose",placeholder:"Store..."}),L.jsx("datalist",{id:"location-suggestions",children:ee.map(D=>L.jsx("option",{value:D},D))})]}),L.jsx("td",{className:"p-3",children:L.jsxs("div",{className:"flex gap-1",children:[L.jsx("select",{value:W.currency,onChange:D=>me(W.id,"currency",D.target.value),className:"bg-transparent text-[10px] font-bold text-wind outline-none",children:gse.map(D=>L.jsx("option",{value:D,children:D},D))}),L.jsx("input",{type:"number",step:"0.01",value:W.price,onChange:D=>me(W.id,"price",parseFloat(D.target.value)||0),className:"w-full bg-transparent outline-none text-xs text-blackish",placeholder:"0.00"})]})}),L.jsx("td",{className:"p-3",children:L.jsx("input",{type:"number",min:"1",value:W.quantity,onChange:D=>me(W.id,"quantity",parseInt(D.target.value)||1),className:"w-full bg-transparent outline-none text-xs text-blackish font-medium text-center"})}),L.jsx("td",{className:"p-3",children:L.jsx("input",{type:"date",value:W.expirationDate,onChange:D=>me(W.id,"expirationDate",D.target.value),className:`w-full bg-transparent outline-none text-xs ${W.expirationDate&&new Date(W.expirationDate)<new Date?"text-red-500 font-bold":"text-blackish"}`})}),L.jsx("td",{className:"p-3",children:L.jsx("input",{type:"date",value:W.startUseDate,onChange:D=>me(W.id,"startUseDate",D.target.value),className:"w-full bg-transparent outline-none text-xs text-blackish"})}),L.jsx("td",{className:"p-3",children:L.jsx("input",{type:"date",value:W.finishUseDate,onChange:D=>me(W.id,"finishUseDate",D.target.value),className:"w-full bg-transparent outline-none text-xs text-blackish"})}),L.jsx("td",{className:"p-3 text-center",children:L.jsx("input",{type:"checkbox",checked:W.disposed,onChange:D=>me(W.id,"disposed",D.target.checked),className:"accent-wheat"})}),L.jsx("td",{className:"p-3 text-center",children:L.jsx("button",{type:"button",onClick:()=>fe(W.id),className:"text-wind hover:text-red-500 transition-colors",children:""})})]},W.id))})]})}),S.length===0&&L.jsx("div",{className:"text-center py-8 text-wind text-xs italic",children:'No stock entries yet. Click "Add Batch" to start.'})]}),L.jsxs("div",{className:"flex justify-end gap-4 p-6 border-t border-dustyrose/30 bg-white",children:[L.jsx("button",{type:"button",onClick:r,disabled:N,className:"px-6 py-2 text-sm uppercase tracking-wider font-medium text-wind hover:text-wheat transition-colors",children:"Cancel"}),L.jsx("button",{type:"submit",disabled:N,className:"px-8 py-2 bg-wheat text-white text-sm uppercase tracking-wider font-medium rounded hover:bg-[#A6835E] transition-all disabled:opacity-50 shadow-sm",children:N?"Saving...":"Save"})]})]})]})},bse=()=>{const[e,t]=x.useState([]),[n,r]=x.useState("DASHBOARD"),[i,o]=x.useState(void 0),[l,u]=x.useState(!0),[f,d]=x.useState(null),h=async()=>{u(!0),d(null);try{const E=await X$();t(E)}catch(E){console.error("Failed to load items",E),d(E.message||"Failed to load inventory.")}finally{u(!1)}};x.useEffect(()=>{h()},[]);const m=async E=>{u(!0),d(null);try{await Q$(E),await h(),r("LIST"),o(void 0)}catch(T){console.error("Failed to save item",T),d(T.message||"Failed to save item. Please check database permissions.")}finally{u(!1)}},g=async E=>{if(window.confirm("Are you sure you want to delete this item?")){u(!0),d(null);try{await Z$(E),await h()}catch(T){console.error("Failed to delete item",T),d(T.message||"Failed to delete item.")}finally{u(!1)}}},_=E=>{o(E),r("EDIT")},S=()=>{o(void 0),r("ADD")};return L.jsxs("div",{className:"flex flex-col min-h-screen bg-breath text-blackish font-sans",children:[L.jsx("header",{className:"bg-breath/95 backdrop-blur-sm border-b border-dustyrose sticky top-0 z-20",children:L.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>r("DASHBOARD"),children:[L.jsx("div",{className:"bg-blackish text-white p-1.5 rounded transition-transform group-hover:scale-105",children:L.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),L.jsxs("h1",{className:"text-lg font-bold tracking-tight text-blackish",children:["my",L.jsx("span",{className:"font-light text-blackish/60",children:"inventory"})]})]}),L.jsxs("nav",{className:"flex space-x-2",children:[L.jsx("button",{onClick:()=>r("DASHBOARD"),className:`px-4 py-1.5 rounded text-sm font-medium transition-all duration-300 ${n==="DASHBOARD"?"bg-wheat text-white shadow-sm":"text-blackish/60 hover:text-wheat hover:bg-wheat/10"}`,children:"Dashboard"}),L.jsx("button",{onClick:()=>r("LIST"),className:`px-4 py-1.5 rounded text-sm font-medium transition-all duration-300 ${n==="LIST"?"bg-wheat text-white shadow-sm":"text-blackish/60 hover:text-wheat hover:bg-wheat/10"}`,children:"Items"})]})]})}),L.jsxs("main",{className:"flex-1 max-w-6xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8 relative",children:[f&&L.jsxs("div",{className:"mb-6 p-4 bg-white border border-red-200 text-red-600 rounded flex items-center gap-3 shadow-sm",children:[L.jsx("svg",{className:"w-5 h-5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),L.jsx("span",{className:"break-all text-sm font-medium",children:f})]}),l?L.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[L.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-dustyrose border-t-wheat"}),L.jsx("p",{className:"text-wheat text-sm tracking-wide font-medium",children:"LOADING..."})]}):L.jsxs(L.Fragment,{children:[(n==="ADD"||n==="EDIT")&&L.jsx(yse,{initialData:i,existingItems:e,onSave:m,onCancel:()=>r("LIST")}),n==="DASHBOARD"&&L.jsx(UZ,{items:e}),n==="LIST"&&L.jsx(LZ,{items:e,onEdit:_,onDelete:g})]})]}),!l&&n!=="ADD"&&n!=="EDIT"&&L.jsx("button",{onClick:S,className:"fixed bottom-8 right-8 w-14 h-14 bg-wheat text-white rounded-full shadow-lg hover:bg-[#A6835E] transition-all flex items-center justify-center z-30 group hover:scale-105 mb-[env(safe-area-inset-bottom)]","aria-label":"Add new item",children:L.jsx("svg",{className:"w-6 h-6 group-hover:rotate-90 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})},R2=document.getElementById("root");if(!R2)throw new Error("Could not find root element to mount to");const _se=cq.createRoot(R2);_se.render(L.jsx(mI.StrictMode,{children:L.jsx(bse,{})}));
